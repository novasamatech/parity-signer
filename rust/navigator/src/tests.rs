#[cfg(test)]
mod tests {

    use blake2_rfc::blake2b::blake2b;
    use image::{GenericImageView, GrayImage, ImageBuffer, Pixel};
    use lazy_static::lazy_static;
    use quircs;
    use regex::Regex;
    use sp_core::Pair;
    use sp_runtime::MultiSigner;
    use std::convert::TryInto;
    
    use db_handling::cold_default::{populate_cold_nav_test, signer_init};
    use definitions::error::Signer;
    use definitions::network_specs::{Verifier, VerifierValue};
    use parser;
    
    use crate::{do_action, init_navigation, update_seed_names};
    
    const ALICE: [u8; 32] = [212, 53, 147, 199, 21, 253, 211, 28, 97, 20, 26, 189, 4, 169, 159, 214, 130, 44, 133, 88, 133, 76, 205, 227, 154, 86, 132, 231, 165, 109, 162, 125];
    
    const ALICE_WORDS: &str = "bottom drive obey lake curtain smoke basket hold race lonely fit walk";
    
    fn verifier_alice_sr25519() -> Verifier {
        Verifier(Some(VerifierValue::Standard(MultiSigner::Sr25519(sp_core::sr25519::Public::from_raw(ALICE)))))
    }
/*    
    fn verifier_alice_ed25519() -> Verifier {
        Verifier(Some(VerifierValue::Standard(MultiSigner::Ed25519(sp_core::ed25519::Public::from_raw(ALICE)))))
    }
*/    
    
    lazy_static! {
        static ref NO_TIME: Regex = Regex::new(r#""timestamp":".*?""#).expect("checked construction");
        static ref NO_CHECKSUM: Regex = Regex::new(r#""checksum":"[0-9A-F]*?""#).expect("checked construction");
        static ref SEED: Regex = Regex::new(r#""seed_phrase":"(?P<seed_phrase>.*?)""#).expect("checked construction");
        static ref IDENTICON: Regex = Regex::new(r#""identicon":"[^"]+?""#).expect("checked construction");
        static ref BASE: Regex = Regex::new(r#""base58":"[^"]+?""#).expect("checked construction");
        static ref ADDRESS_KEY: Regex = Regex::new(r#""address_key":"[^"]+?""#).expect("checked construction");
        static ref PUBLIC_KEY: Regex = Regex::new(r#""public_key":".*?""#).expect("checked construction");
        static ref QR: Regex = Regex::new(r#""qr":"(?P<qr>[0-9a-f]*?)""#).expect("checked construction");
        static ref SUFFICIENT: Regex = Regex::new(r#""sufficient":"(?P<sufficient>[0-9a-f]*?)""#).expect("checked construction");
        static ref SIGNATURE: Regex = Regex::new(r#""signature":"(?P<signature>[0-9a-f]*?)""#).expect("checked construction");
        static ref TEXT: Regex = Regex::new(r#""type":"text","payload":"(?P<text>[0-9a-f]*?)""#).expect("checked construction");
        static ref SET: Regex = Regex::new(r#""set":\[\{"address_key":"01(?P<public>[0-9a-f]*?)","base58":"(?P<base>.*?)","identicon":"(?P<identicon>[0-9a-f]*?)".*?\}\]"#).expect("checked construction");
        static ref KEY0: Regex = Regex::new(r#"\{"address_key":"01(?P<public>[0-9a-f]*?)","base58":"(?P<base>.*?)","identicon":"(?P<identicon>[0-9a-f]*?)","has_pwd":true.*?,"path":"//0".*?\}"#).expect("checked construction");
        static ref OS_MSG: Regex = Regex::new(r#"Os \{[^}]*\}"#).expect("checked_construction");
    }
    
    fn timeless(current_real_json: &str) -> String {
        NO_TIME.replace_all(&current_real_json, r#""timestamp":"**""#).to_string()
    }
    fn cut_checksum(current_real_json: &str) -> String {
        NO_CHECKSUM.replace_all(&current_real_json, r#""checksum":"**""#).to_string()
    }
    fn cut_seed(current_real_json: &str) -> (String, String) {
        let seed_phrase = SEED.captures(&current_real_json).unwrap().name("seed_phrase").unwrap().as_str().to_string();
        let seedless_json = SEED.replace_all(&current_real_json, r#""seed_phrase":"**""#).to_string();
        (seedless_json, seed_phrase)
    }
    fn cut_identicon(current_real_json: &str) -> String {
        IDENTICON.replace_all(&current_real_json, r#""identicon":"**""#).to_string()
    }
    fn cut_base58(current_real_json: &str) -> String {
        BASE.replace_all(&current_real_json, r#""base58":"**""#).to_string()
    }
    fn cut_address_key(current_real_json: &str) -> String {
        ADDRESS_KEY.replace_all(&current_real_json, r#""address_key":"**""#).to_string()
    }
    fn cut_public_key(current_real_json: &str) -> String {
        PUBLIC_KEY.replace_all(&current_real_json, r#""public_key":"**""#).to_string()
    }
    fn cut_os_msg(current_real_json: &str) -> String {
        OS_MSG.replace_all(&current_real_json, r#"Os {**}"#).to_string()
    }
    
    fn qr_payload(qr_content_hex: &str) -> Vec<u8> {
        let qr_content = hex::decode(qr_content_hex).unwrap();
        let image = image::load_from_memory(&qr_content).unwrap();
        let mut gray_img: GrayImage = ImageBuffer::new(image.width(), image.height());
        for y in 0..image.height() {
            for x in 0..image.width() {
                let new_pixel = image.get_pixel(x, y).to_luma();
                gray_img.put_pixel(x, y, new_pixel);
            }
        }
        let mut qr_decoder = quircs::Quirc::new();
        let codes = qr_decoder.identify(image.width() as usize, image.height() as usize, &gray_img);
        codes.last().unwrap().unwrap().decode().unwrap().payload
    }
    
    fn process_sufficient(current_real_json: &str) -> (String, String) {
        let sufficient = SUFFICIENT.captures(&current_real_json).unwrap().name("sufficient").unwrap().as_str().to_string();
        let sufficient_free_json = SUFFICIENT.replace_all(&current_real_json, r#""sufficient":"**""#).to_string();
        (sufficient_free_json, hex::encode(qr_payload(&sufficient)))
    }
    
    fn process_signature(current_real_json: &str) -> (String, String) {
        let signature = SIGNATURE.captures(&current_real_json).unwrap().name("signature").unwrap().as_str().to_string();
        let signature_free_json = SIGNATURE.replace_all(&current_real_json, r#""signature":"**""#).to_string();
        (signature_free_json, String::from_utf8(qr_payload(&signature)).unwrap())
    }
    
    fn get_qr_info_read(current_real_json: &str) -> String {
        let qr_content_hex = QR.captures(&current_real_json).unwrap().name("qr").unwrap().as_str().to_string();
        String::from_utf8(qr_payload(&qr_content_hex)).unwrap()
    }
    
    fn signature_is_good(transaction_hex: &str, signature_hex: &str) -> bool {
        match &transaction_hex[..4] {
            "5300" => {
                assert!(signature_hex.starts_with("00"), "Signature in ed25519 should start with `00`.");
                let into_signature: [u8; 64] = hex::decode(&signature_hex[2..]).unwrap().try_into().unwrap();
                let signature = sp_core::ed25519::Signature::from_raw(into_signature);
                let into_public: [u8; 32] = hex::decode(&transaction_hex[6..70]).unwrap().try_into().unwrap();
                let public = sp_core::ed25519::Public::from_raw(into_public);
                let message = {
                    let to_cut = hex::decode(&transaction_hex[70..transaction_hex.len()-64]).unwrap();
                    if (&transaction_hex[4..6] == "00")||(&transaction_hex[4..6] == "02") {
                        let (method, extensions) = parser::cut_method_extensions(&to_cut).unwrap();
                        [method, extensions].concat()
                    }
                    else {to_cut}
                };
                let message = {
                    if message.len() > 257 {blake2b(32, &[], &message).as_bytes().to_vec()}
                    else {message}
                };
                sp_core::ed25519::Pair::verify(&signature, &message, &public)
            },
            "5301" => {
                assert!(signature_hex.starts_with("01"), "Signature in sr25519 should start with `01`.");
                let into_signature: [u8; 64] = hex::decode(&signature_hex[2..]).unwrap().try_into().unwrap();
                let signature = sp_core::sr25519::Signature::from_raw(into_signature);
                let into_public: [u8; 32] = hex::decode(&transaction_hex[6..70]).unwrap().try_into().unwrap();
                let public = sp_core::sr25519::Public::from_raw(into_public);
                let message = {
                    let to_cut = hex::decode(&transaction_hex[70..transaction_hex.len()-64]).unwrap();
                    if (&transaction_hex[4..6] == "00")||(&transaction_hex[4..6] == "02") {
                        let (method, extensions) = parser::cut_method_extensions(&to_cut).unwrap();
                        [method, extensions].concat()
                    }
                    else {to_cut}
                };
                let message = {
                    if message.len() > 257 {blake2b(32, &[], &message).as_bytes().to_vec()}
                    else {message}
                };
                sp_core::sr25519::Pair::verify(&signature, &message, &public)
            },
            "5302" => {
                assert!(signature_hex.starts_with("02"), "Signature in ecdsa should start with `02`.");
                let into_signature: [u8; 65] = hex::decode(&signature_hex[2..]).unwrap().try_into().unwrap();
                let signature = sp_core::ecdsa::Signature::from_raw(into_signature);
                let into_public: [u8; 33] = hex::decode(&transaction_hex[6..72]).unwrap().try_into().unwrap();
                let public = sp_core::ecdsa::Public::from_raw(into_public);
                let message = {
                    let to_cut = hex::decode(&transaction_hex[72..transaction_hex.len()-64]).unwrap();
                    if (&transaction_hex[4..6] == "00")||(&transaction_hex[4..6] == "02") {
                        let (method, extensions) = parser::cut_method_extensions(&to_cut).unwrap();
                        [method, extensions].concat()
                    }
                    else {to_cut}
                };
                let message = {
                    if message.len() > 257 {blake2b(32, &[], &message).as_bytes().to_vec()}
                    else {message}
                };
                sp_core::ecdsa::Pair::verify(&signature, &message, &public)
            },
            _ => panic!("Transaction has bad format")
        }
    }
    
    #[test]
    fn flow_test_1() {
        let dbname = "for_tests/flow_test_1";
        populate_cold_nav_test(dbname).unwrap();
        signer_init(dbname, verifier_alice_sr25519()).unwrap();
        init_navigation(dbname, "");
        
        let real_json = do_action("Start","","");
        let expected_json = r#"{"screen":"SeedSelector","screenLabel":"Select seed","back":false,"footer":true,"footerButton":"Keys","rightButton":"NewSeed","screenNameType":"h1","modal":"NewSeedMenu","alert":"Empty","screenData":{"seedNameCards":[]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "Initiated with no keys. Started. Expected SeedSelector screen with NewSeedMenu modal, got:\n{}", real_json);
        
        let mut seed_selector_json = real_json;
        
        let real_json = do_action("NavbarLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"database_initiated"},{"event":"general_verifier_added","payload":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "Switched to Log from empty SeedSelector. Expected Log screen with no modals, got:\n{}", real_json);
        
        let mut current_log_json = real_json;
        
        let real_json = do_action("GoBack","","");
        assert!(current_log_json == real_json, "GoBack on Log screen with no modals. Expected to remain where was, got:\n{}", real_json);
        let real_json = do_action("GoForward","","");
        assert!(current_log_json == real_json, "GoForward on Log screen with no modals. Expected to remain where was, got:\n{}", real_json);
        
        let real_json = do_action("RightButton","","");
        let cut_real_json = cut_checksum(&timeless(&real_json));
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"LogRight","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"database_initiated"},{"event":"general_verifier_added","payload":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}]}],"total_entries":1},"modalData":{"checksum":"**"},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "RightButton on Log screen with no modals. Expected same Log screen with LogRight modal, got:\n{}", real_json);
        let real_json = do_action("GoBack","","");
        assert!(current_log_json == real_json, "GoBack on Log screen with LogRight modal. Expected to get Log screen with no modals, got:\n{}", real_json);
        
        do_action("RightButton","","");
        let real_json = do_action("CreateLogComment","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"LogComment","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"database_initiated"},{"event":"general_verifier_added","payload":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "CreateLogComment on Log screen with LogRight modal. Expected same Log screen with LogComment modal, got:\n{}", real_json);
        let real_json = do_action("GoBack","","");
        assert!(current_log_json == real_json, "GoBack on Log screen with LogComment modal. Expected same Log screen with no modals, got:\n{}", real_json);
        
        do_action("RightButton","","");
        do_action("CreateLogComment","","");
        let real_json = do_action("GoForward","Remember this moment","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":1,"timestamp":"**","events":[{"event":"user_entered_event","payload":"Remember this moment"}]},{"order":0,"timestamp":"**","events":[{"event":"database_initiated"},{"event":"general_verifier_added","payload":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}]}],"total_entries":2},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoForward on Log screen with LogComment modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("Shield","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Shield","screenData":{"log":[{"order":1,"timestamp":"**","events":[{"event":"user_entered_event","payload":"Remember this moment"}]},{"order":0,"timestamp":"**","events":[{"event":"database_initiated"},{"event":"general_verifier_added","payload":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}]}],"total_entries":2},"modalData":{},"alertData":{"shield_state":"unknown"}}"#;
        assert!(cut_real_json == expected_json, "Shield on Log screen with no modal. Expected same Log screen with Shield alert, got:\n{}", real_json);
        
        do_action("RightButton","","");
        let real_json = do_action("ClearLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ClearLog on Log screen with LogRight modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("NavbarSettings","","");
        let expected_json = r#"{"screen":"Settings","screenLabel":"","back":false,"footer":true,"footerButton":"Settings","rightButton":"None","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "NavbarSettings on Log screen. Expected Settings screen with no modals, got:\n{}", real_json);
        
        let current_settings_json = real_json;
        
        let real_json = do_action("BackupSeed","","");
        let expected_json = r#"{"screen":"SelectSeedForBackup","screenLabel":"Select seed","back":true,"footer":false,"footerButton":"Settings","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"seedNameCards":[]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "BackupSeed on Settings screen. Expected SelectSeedForBackup screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == current_settings_json, "GoBack on SelectSeedForBackup screen with no seeds available. Expected Settings screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("ViewGeneralVerifier","","");
        let expected_json = r#"{"screen":"Verifier","screenLabel":"VERIFIER CERTIFICATE","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "ViewGeneralVerifier on Settings screen. Expected Verifier screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == current_settings_json, "GoBack on Verifier screen. Expected Settings screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("ShowDocuments","","");
        let expected_json = r#"{"screen":"Documents","screenLabel":"ABOUT","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "ShowDocuments on Settings screen. Expected Documents screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == current_settings_json, "GoBack on Documents screen. Expected Settings screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("ManageNetworks","","");
        let expected_json = r#"{"screen":"ManageNetworks","screenLabel":"MANAGE NETWORKS","back":true,"footer":false,"footerButton":"Settings","rightButton":"TypesInfo","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"networks":[{"key":"018091b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3","title":"Polkadot","logo":"polkadot","order":0},{"key":"0180b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","title":"Kusama","logo":"kusama","order":1},{"key":"0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","title":"Westend","logo":"westend","order":2}]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "ManageNetworks on Settings screen. Expected ManageNetworks screen with no modals, got:\n{}", real_json);
        
        let mut manage_networks_json = real_json;
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == current_settings_json, "GoBack on ManageNetworks screen. Expected Settings screen with no modals, got:\n{}", real_json);
        
        do_action("ManageNetworks","","");
        let real_json = do_action("GoForward","0180b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","");
        let expected_json = r##"{"screen":"NetworkDetails","screenLabel":"Network details","back":true,"footer":false,"footerButton":"Settings","rightButton":"NDMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"1","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}},"meta":[{"spec_version":"9130","meta_hash":"3e6bf025743e5cc550883170d91c8275fb238762b214922b41d64f9feba23987","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035849444154789cedd9bd6d1b411086612a634ac080020706dc8155863b50038c5c8e2336a00e5c86dc8101070e041860ca8cde0fe408bbe7b9f966f6e74041f706ab6c67f6890ee2ddf97cdebcf71641381e8fd54376bbdd5dfa33b421082d8f668d40e98a30f2f1d37a627441a879fcf6f0339d65a7fd9774c6ea81d18450f378a401483510a805a31a610480b4344415422d001a89806a2042082d8f97462348110c37420f00b41402f242b81042000fdfd231e9f97b3a2e45110edb5fe92cdb9f3ea7d3970782223403484e080620f584e88760014804c20b2079219a10dc002888c0ea89802c8859841000ba71043407a1228401d01b40401a841be1d3fd633acb7ebf3ca5f35a10e1f0639bceb2fdd7533a2f4511e87ed75c085e00a91864411000c90bc100a462bf6b53088a600d908a411a84134062105e00a9d82f65224c0150cd10ab2802ab76bf1c624548bd226800a876c85cb7828004a23bc2fde3c77496bd3cfd49e7a52802bb2fba5f9e1b015983f201dac252beb805c100a4fc3eef7ed34208481b940fb01696f2c535082f8094dfc7f6d32a101880a7e8d2acdef7cd05881561450822b02fb7e8d20f9bbfe92c7bde7c48e7a5e87dec4b752e378206207921f2853500c90b91dfa7024804c2856001480c225fd8029018447e9f092019104310585104da8a905a1152b788c0be04a308ecbe45109005c100a47c710b820148f97d26840180dc084883f00248f9e21a841740caef532108000a21b0c24b937adf37d78a905a1152af088841d0df0e834bb32fc1e87d6c3f2d00a43f97ff27200b411b20e583acc5f3853500c90b91dfe7dd6f9a1bc11a20e583b4c5f3852d008941e4f745f7cb1b86c08a22b05af6fb0f0169102d43b46e054100d08a902a10d014223c847cb94511d8976a78bf540e802802b20615033400c909c100242f44b1df358a80bc10c5000b4022105e00894114fb5d9b022037022d88c08a22787323a030c41b40d000d02c020a41dc38c21c003211901b2288c07e3bec896001a07e08c88220009217c20b809a11503384134062103d01900b0185208ca2082d7900901b01f580580ac10b804208520bc66884c8e3a52a04540b3112a106005523a011104b03a02604a9064383a8016879bcd40541aac1a8adc7e3a5ae08d2488c9e8f9786204c6b4119f1e8698b20dc7aff00cc189bac66f79f370000000049454e44ae426082"}]},"modalData":{},"alertData":{}}"##;
        assert!(real_json == expected_json, "GoForward on ManageNetworks screen with kusama sr25519 key. Expected NetworkDetails screen for kusama with no modals, got:\n{}", real_json);
        
        let mut kusama_json = real_json;
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == manage_networks_json, "GoBack on NetworkDetails screen. Expected ManageNetworks screen with no modals, got:\n{}", real_json);
        
        do_action("GoForward","0180b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","");
        let real_json = do_action("ManageMetadata","9130","");
        let expected_json = r##"{"screen":"NetworkDetails","screenLabel":"Network details","back":true,"footer":false,"footerButton":"Settings","rightButton":"NDMenu","screenNameType":"h4","modal":"ManageMetadata","alert":"Empty","screenData":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"1","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}},"meta":[{"spec_version":"9130","meta_hash":"3e6bf025743e5cc550883170d91c8275fb238762b214922b41d64f9feba23987","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035849444154789cedd9bd6d1b411086612a634ac080020706dc8155863b50038c5c8e2336a00e5c86dc8101070e041860ca8cde0fe408bbe7b9f966f6e74041f706ab6c67f6890ee2ddf97cdebcf71641381e8fd54376bbdd5dfa33b421082d8f668d40e98a30f2f1d37a627441a879fcf6f0339d65a7fd9774c6ea81d18450f378a401483510a805a31a610480b4344415422d001a89806a2042082d8f97462348110c37420f00b41402f242b81042000fdfd231e9f97b3a2e45110edb5fe92cdb9f3ea7d3970782223403484e080620f584e88760014804c20b2079219a10dc002888c0ea89802c8859841000ba71043407a1228401d01b40401a841be1d3fd633acb7ebf3ca5f35a10e1f0639bceb2fdd7533a2f4511e87ed75c085e00a91864411000c90bc100a462bf6b53088a600d908a411a84134062105e00a9d82f65224c0150cd10ab2802ab76bf1c624548bd226800a876c85cb7828004a23bc2fde3c77496bd3cfd49e7a52802bb2fba5f9e1b015983f201dac252beb805c100a4fc3eef7ed34208481b940fb01696f2c535082f8094dfc7f6d32a101880a7e8d2acdef7cd05881561450822b02fb7e8d20f9bbfe92c7bde7c48e7a5e87dec4b752e378206207921f2853500c90b91dfa7024804c2856001480c225fd8029018447e9f092019104310585104da8a905a1152b788c0be04a308ecbe45109005c100a47c710b820148f97d26840180dc084883f00248f9e21a841740caef532108000a21b0c24b937adf37d78a905a1152af088841d0df0e834bb32fc1e87d6c3f2d00a43f97ff27200b411b20e583acc5f3853500c90b91dfe7dd6f9a1bc11a20e583b4c5f3852d008941e4f745f7cb1b86c08a22b05af6fb0f0169102d43b46e054100d08a902a10d014223c847cb94511d8976a78bf540e802802b20615033400c909c100242f44b1df358a80bc10c5000b4022105e00894114fb5d9b022037022d88c08a22787323a030c41b40d000d02c020a41dc38c21c003211901b2288c07e3bec896001a07e08c88220009217c20b809a11503384134062103d01900b0185208ca2082d7900901b01f580580ac10b804208520bc66884c8e3a52a04540b3112a106005523a011104b03a02604a9064383a8016879bcd40541aac1a8adc7e3a5ae08d2488c9e8f9786204c6b4119f1e8698b20dc7aff00cc189bac66f79f370000000049454e44ae426082"}]},"modalData":{"name":"kusama","version":"9130","meta_hash":"3e6bf025743e5cc550883170d91c8275fb238762b214922b41d64f9feba23987","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035849444154789cedd9bd6d1b411086612a634ac080020706dc8155863b50038c5c8e2336a00e5c86dc8101070e041860ca8cde0fe408bbe7b9f966f6e74041f706ab6c67f6890ee2ddf97cdebcf71641381e8fd54376bbdd5dfa33b421082d8f668d40e98a30f2f1d37a627441a879fcf6f0339d65a7fd9774c6ea81d18450f378a401483510a805a31a610480b4344415422d001a89806a2042082d8f97462348110c37420f00b41402f242b81042000fdfd231e9f97b3a2e45110edb5fe92cdb9f3ea7d3970782223403484e080620f584e88760014804c20b2079219a10dc002888c0ea89802c8859841000ba71043407a1228401d01b40401a841be1d3fd633acb7ebf3ca5f35a10e1f0639bceb2fdd7533a2f4511e87ed75c085e00a91864411000c90bc100a462bf6b53088a600d908a411a84134062105e00a9d82f65224c0150cd10ab2802ab76bf1c624548bd226800a876c85cb7828004a23bc2fde3c77496bd3cfd49e7a52802bb2fba5f9e1b015983f201dac252beb805c100a4fc3eef7ed34208481b940fb01696f2c535082f8094dfc7f6d32a101880a7e8d2acdef7cd05881561450822b02fb7e8d20f9bbfe92c7bde7c48e7a5e87dec4b752e378206207921f2853500c90b91dfa7024804c2856001480c225fd8029018447e9f092019104310585104da8a905a1152b788c0be04a308ecbe45109005c100a47c710b820148f97d26840180dc084883f00248f9e21a841740caef532108000a21b0c24b937adf37d78a905a1152af088841d0df0e834bb32fc1e87d6c3f2d00a43f97ff27200b411b20e583acc5f3853500c90b91dfe7dd6f9a1bc11a20e583b4c5f3852d008941e4f745f7cb1b86c08a22b05af6fb0f0169102d43b46e054100d08a902a10d014223c847cb94511d8976a78bf540e802802b20615033400c909c100242f44b1df358a80bc10c5000b4022105e00894114fb5d9b022037022d88c08a22787323a030c41b40d000d02c020a41dc38c21c003211901b2288c07e3bec896001a07e08c88220009217c20b809a11503384134062103d01900b0185208ca2082d7900901b01f580580ac10b804208520bc66884c8e3a52a04540b3112a106005523a011104b03a02604a9064383a8016879bcd40541aac1a8adc7e3a5ae08d2488c9e8f9786204c6b4119f1e8698b20dc7aff00cc189bac66f79f370000000049454e44ae426082","networks":[{"title":"Kusama","logo":"kusama","order":1,"current_on_screen":true}]},"alertData":{}}"##;
        assert!(real_json == expected_json, "ManageMetadata on NetworkDetails screen for kusama sr25519 key. Expected NetworkDetails screen for kusama with ManageMetadata modal, got:\n{}", real_json);
        
        let real_json = do_action("SignMetadata","","");
        let expected_json = r#"{"screen":"SignSufficientCrypto","screenLabel":"Sign SufficientCrypto","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"identities":[]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SignMetadata on NetworkDetails screen for kusama sr25519 key with ManageMetadata modal for version 9130. Expected SignSufficientCrypto screen for kusama9130 metadata with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == kusama_json, "GoBack on SignSufficientCrypto screen. Expected NetworkDetails screen with no modals, got:\n{}", real_json);
        
        do_action("ManageMetadata","9130","");
        let real_json = do_action("RemoveMetadata","","");
        let expected_json = r##"{"screen":"NetworkDetails","screenLabel":"Network details","back":true,"footer":false,"footerButton":"Settings","rightButton":"NDMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"1","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}},"meta":[]},"modalData":{},"alertData":{}}"##;
        assert!(real_json == expected_json, "RemoveMetadata on ManageNetworks screen with kusama sr25519 key with ManageMetadata modal for version 9130. Expected updated NetworkDetails screen for kusama with no modals, got:\n{}", real_json);
        
        kusama_json = real_json;
        
        let real_json = do_action("RightButton","","");
        let expected_json = r##"{"screen":"NetworkDetails","screenLabel":"Network details","back":true,"footer":false,"footerButton":"Settings","rightButton":"NDMenu","screenNameType":"h4","modal":"NetworkDetailsMenu","alert":"Empty","screenData":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"1","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}},"meta":[]},"modalData":{},"alertData":{}}"##;
        assert!(real_json == expected_json, "RightButton on NetworkDetails screen for kusama sr25519 key. Expected NetworkDetails screen for kusama with NetworkDetailsMenu modal, got:\n{}", real_json);
        
        let real_json = do_action("SignNetworkSpecs","","");
        let expected_json = r#"{"screen":"SignSufficientCrypto","screenLabel":"Sign SufficientCrypto","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"identities":[]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SignNetworkSpecs on NetworkDetails screen for kusama sr25519 key with NetworkDetailsMenu modal. Expected SignSufficientCrypto screen for kusama specs with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == kusama_json, "GoBack on SignSufficientCrypto screen. Expected NetworkDetails screen with no modals, got:\n{}", real_json);
        
        do_action("RightButton","","");
        let real_json = do_action("RemoveNetwork","","");
        let expected_json = r#"{"screen":"ManageNetworks","screenLabel":"MANAGE NETWORKS","back":true,"footer":false,"footerButton":"Settings","rightButton":"TypesInfo","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"networks":[{"key":"018091b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3","title":"Polkadot","logo":"polkadot","order":0},{"key":"0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","title":"Westend","logo":"westend","order":1}]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "RemoveNetwork on NetworkDetails screen for kusama sr25519. Expected updated ManageNetworks screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("RightButton","","");
        let expected_json = r#"{"screen":"ManageNetworks","screenLabel":"MANAGE NETWORKS","back":true,"footer":false,"footerButton":"Settings","rightButton":"TypesInfo","screenNameType":"h4","modal":"TypesInfo","alert":"Empty","screenData":{"networks":[{"key":"018091b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3","title":"Polkadot","logo":"polkadot","order":0},{"key":"0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","title":"Westend","logo":"westend","order":1}]},"modalData":{"types_on_file":true,"types_hash":"d091a5a24a97e18dfe298b167d8fd5a2add10098c8792cba21c39029a9ee0aeb","types_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035549444154789cedd8dd89144114c57117049fdb140cc18c8c61c3d818ccc8104cc17e1684b50ec35dcfd4debe1f55b79a01fbff30fb304dd5e91f2cac3ebdbebe7ef8df3b0561dff7e14bb66d7b6a3f96b60461e6a5bd56a09422ac7cf9be4a8c12849197fffce55bfbbcefd7cfefed335705c614c2c8cb230d401a81403318c3082b00a4b32186104601d04a043402914298797969358294c108235400a0b310501422849001d87ebcb4cffbf6afcfedf35616c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46e5e7191087081900543ebaf83c7404a122640150f5e8eaf3240d228c50fd3bfc697bfffceffddff7d9f3bc7d5208210a20f145d6701eac014851083e2fba4fea215c04eb02892fd286f3600b40f220f8bcec3e6422f40068e412ab2c82d7e83e86b8105a6f081a001abde4a847414002518ea0bd24bf94f67d9ff73c7f9fddc785119075115fa00d967878f573d17d7d2904a45dc4175883251eae3def7ddfc7cf7bfbb4ee103c8048d9d15ed5e71d05880be1424822787fb965477f7cd9dae77d7f9ef7f6792b7b9eb7efa830827681c41759c379b006204521f8bce83ead10827581c41769c379b0052079107c5e765fdf1204af2c82d7ecbe0ba17521b4962078bfc35904efbcecbebe1002b22ee20bb4c1120fb7203c0089cf8beed30a2320ed22bec01a2cf1700d220a20f179debea352085ed9d15ed5e71d7521b42e84d61b02f220bc7faf67476bcf7bdff7f1f3de3e2d00b41fb7ff4f4016827681c41759c37970f573d17d7d6104eb02892fd286f360edfb3eef79fe3ebb8f5b86e0a5bd541fbfa4d7ccbe7708488398b944eb511004005d08ad3b04d443642ff1fe72cb2278e765f72106402e02b22ee20bb4c1120fb7203c0089cf8bee935c041485e00bacc1120fd720a200129fe7ed937a001446f0ca8ef6aa3e4f0a23a02c44f5e8eaf39006800e115006a27a74f9790700c844405188ec68ef77387b9e950580ca1090359c076b00521482cff39a4640b3103cd802903c083ecfcb034021049481b0ca22cc140140610454017116421400a510a4198cd5089997978610d028c44a841100348c8056409c0d80a610a4110c0d620460e6e5a51204690463b48a97974a11a49518952f2f2d41e89b4159f1d27da7203c7a7f01d20cbfac205d21400000000049454e44ae426082"},"alertData":{}}"#;
        assert!(real_json == expected_json, "RightButton on ManageNetworks screen. Expected ManageNetworks screen with TypesInfo modal, got:\n{}", real_json);
        
        let real_json = do_action("SignTypes","","");
        let expected_json = r#"{"screen":"SignSufficientCrypto","screenLabel":"Sign SufficientCrypto","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"identities":[]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SignTypes on ManageNetworks screen with TypesInfo modal. Expected SignSufficientCrypto screen for types with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == current_settings_json, "GoBack on SignSufficientCrypto screen. Expected Settings screen with no modals, got:\n{}", real_json);
        
        do_action("ManageNetworks","","");
        do_action("RightButton","","");
        let real_json = do_action("RemoveTypes","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r##"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":3,"timestamp":"**","events":[{"event":"types_removed","payload":{"types_hash":"d091a5a24a97e18dfe298b167d8fd5a2add10098c8792cba21c39029a9ee0aeb","types_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035549444154789cedd8dd89144114c57117049fdb140cc18c8c61c3d818ccc8104cc17e1684b50ec35dcfd4debe1f55b79a01fbff30fb304dd5e91f2cac3ebdbebe7ef8df3b0561dff7e14bb66d7b6a3f96b60461e6a5bd56a09422ac7cf9be4a8c12849197fffce55bfbbcefd7cfefed335705c614c2c8cb230d401a81403318c3082b00a4b32186104601d04a043402914298797969358294c108235400a0b310501422849001d87ebcb4cffbf6afcfedf35616c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46e5e7191087081900543ebaf83c7404a122640150f5e8eaf3240d228c50fd3bfc697bfffceffddff7d9f3bc7d5208210a20f145d6701eac014851083e2fba4fea215c04eb02892fd286f3600b40f220f8bcec3e6422f40068e412ab2c82d7e83e86b8105a6f081a001abde4a847414002518ea0bd24bf94f67d9ff73c7f9fddc785119075115fa00d967878f573d17d7d2904a45dc4175883251eae3def7ddfc7cf7bfbb4ee103c8048d9d15ed5e71d05880be1424822787fb965477f7cd9dae77d7f9ef7f6792b7b9eb7efa830827681c41759c379b006204521f8bce83ead10827581c41769c379b0052079107c5e765fdf1204af2c82d7ecbe0ba17521b4962078bfc35904efbcecbebe1002b22ee20bb4c1120fb7203c0089cf8beed30a2320ed22bec01a2cf1700d220a20f179debea352085ed9d15ed5e71d7521b42e84d61b02f220bc7faf67476bcf7bdff7f1f3de3e2d00b41fb7ff4f4016827681c41759c37970f573d17d7d6104eb02892fd286f360edfb3eef79fe3ebb8f5b86e0a5bd541fbfa4d7ccbe7708488398b944eb511004005d08ad3b04d443642ff1fe72cb2278e765f72106402e02b22ee20bb4c1120fb7203c0089cf8bee935c041485e00bacc1120fd720a200129fe7ed937a001446f0ca8ef6aa3e4f0a23a02c44f5e8eaf39006800e115006a27a74f9790700c844405188ec68ef77387b9e950580ca1090359c076b00521482cff39a4640b3103cd802903c083ecfcb034021049481b0ca22cc140140610454017116421400a510a4198cd5089997978610d028c44a841100348c8056409c0d80a610a4110c0d620460e6e5a51204690463b48a97974a11a49518952f2f2d41e89b4159f1d27da7203c7a7f01d20cbfac205d21400000000049454e44ae426082","verifier":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}}]},{"order":2,"timestamp":"**","events":[{"event":"network_removed","payload":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"1","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}}}]},{"order":1,"timestamp":"**","events":[{"event":"metadata_removed","payload":{"specname":"kusama","spec_version":"9130","meta_hash":"3e6bf025743e5cc550883170d91c8275fb238762b214922b41d64f9feba23987","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035849444154789cedd9bd6d1b411086612a634ac080020706dc8155863b50038c5c8e2336a00e5c86dc8101070e041860ca8cde0fe408bbe7b9f966f6e74041f706ab6c67f6890ee2ddf97cdebcf71641381e8fd54376bbdd5dfa33b421082d8f668d40e98a30f2f1d37a627441a879fcf6f0339d65a7fd9774c6ea81d18450f378a401483510a805a31a610480b4344415422d001a89806a2042082d8f97462348110c37420f00b41402f242b81042000fdfd231e9f97b3a2e45110edb5fe92cdb9f3ea7d3970782223403484e080620f584e88760014804c20b2079219a10dc002888c0ea89802c8859841000ba71043407a1228401d01b40401a841be1d3fd633acb7ebf3ca5f35a10e1f0639bceb2fdd7533a2f4511e87ed75c085e00a91864411000c90bc100a462bf6b53088a600d908a411a84134062105e00a9d82f65224c0150cd10ab2802ab76bf1c624548bd226800a876c85cb7828004a23bc2fde3c77496bd3cfd49e7a52802bb2fba5f9e1b015983f201dac252beb805c100a4fc3eef7ed34208481b940fb01696f2c535082f8094dfc7f6d32a101880a7e8d2acdef7cd05881561450822b02fb7e8d20f9bbfe92c7bde7c48e7a5e87dec4b752e378206207921f2853500c90b91dfa7024804c2856001480c225fd8029018447e9f092019104310585104da8a905a1152b788c0be04a308ecbe45109005c100a47c710b820148f97d26840180dc084883f00248f9e21a841740caef532108000a21b0c24b937adf37d78a905a1152af088841d0df0e834bb32fc1e87d6c3f2d00a43f97ff27200b411b20e583acc5f3853500c90b91dfe7dd6f9a1bc11a20e583b4c5f3852d008941e4f745f7cb1b86c08a22b05af6fb0f0169102d43b46e054100d08a902a10d014223c847cb94511d8976a78bf540e802802b20615033400c909c100242f44b1df358a80bc10c5000b4022105e00894114fb5d9b022037022d88c08a22787323a030c41b40d000d02c020a41dc38c21c003211901b2288c07e3bec896001a07e08c88220009217c20b809a11503384134062103d01900b0185208ca2082d7900901b01f580580ac10b804208520bc66884c8e3a52a04540b3112a106005523a011104b03a02604a9064383a8016879bcd40541aac1a8adc7e3a5ae08d2488c9e8f9786204c6b4119f1e8698b20dc7aff00cc189bac66f79f370000000049454e44ae426082"}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":4},"modalData":{},"alertData":{}}"##;
        assert!(cut_real_json == expected_json, "RemoveTypes on ManageNetworks screen with TypesInfo modal. Expected Log screen with no modals, got:\n{}", real_json);
        
        current_log_json = real_json;
        
        let real_json = do_action("ShowLogDetails","2","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r##"{"screen":"LogDetails","screenLabel":"Event details","back":true,"footer":true,"footerButton":"Log","rightButton":"None","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"timestamp":"**","events":[{"event":"network_removed","payload":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"1","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}}}]},"modalData":{},"alertData":{}}"##;
        assert!(cut_real_json == expected_json, "ShowLogDetails on Log screen with order 2. Expected LogDetails screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == current_log_json, "GoBack on ShowLogDetails screen. Expected Log screen with no modals, got:\n{}", real_json);
        
        do_action("RightButton","","");
        let real_json = do_action("ClearLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ClearLog on Log screen with LogRight modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("NavbarScan","","");
        let expected_json = r#"{"screen":"Scan","screenLabel":"","back":false,"footer":true,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "NavbarScan on Log screen. Expected Scan screen with no modals, got:\n{}", real_json);
        
        let scan_json = real_json;
        
        let real_json = do_action("TransactionFetched",&std::fs::read_to_string("for_tests/add_specs_kusama-sr25519_Alice-sr25519.txt").unwrap().trim(),"");
        let expected_json = r##"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"content":{"verifier":[{"index":0,"indent":0,"type":"verifier","payload":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}],"new_specs":[{"index":1,"indent":0,"type":"new_specs","payload":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM"}}]},"type":"stub"},"modalData":{},"alertData":{}}"##;
        assert!(real_json == expected_json, "TransactionFetched on Scan screen with add_specs info for kusama. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == scan_json, "GoBack on Transaction screen. Expected Scan screen with no modals, got:\n{}", real_json);
        
        do_action("TransactionFetched",&std::fs::read_to_string("for_tests/add_specs_kusama-sr25519_Alice-sr25519.txt").unwrap().trim(),"");
        let real_json = do_action("GoForward","","");
        let expected_json = r##"{"screen":"NetworkDetails","screenLabel":"Network details","back":true,"footer":false,"footerButton":"Settings","rightButton":"NDMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"2","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}},"meta":[]},"modalData":{},"alertData":{}}"##;
        assert!(real_json == expected_json, "GoForward on Transaction screen with add specs stub. Expected NetworkDetails screen for kusama sr25519, with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        let expected_json = r#"{"screen":"ManageNetworks","screenLabel":"MANAGE NETWORKS","back":true,"footer":false,"footerButton":"Settings","rightButton":"TypesInfo","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"networks":[{"key":"018091b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3","title":"Polkadot","logo":"polkadot","order":0},{"key":"0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","title":"Westend","logo":"westend","order":1},{"key":"0180b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","title":"Kusama","logo":"kusama","order":2}]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoBack on NetworkDetails screen after adding kusama sr25519 specs. Expected ManageNetworks screen with no modals, got:\n{}", real_json);
        
        manage_networks_json = real_json;
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == current_settings_json, "GoBack on ManageNetworks screen, to see footer. Expected known Settings screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("NavbarLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r##"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":1,"timestamp":"**","events":[{"event":"network_specs_added","payload":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"2","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":2},"modalData":{},"alertData":{}}"##;
        assert!(cut_real_json == expected_json, "Switched to Log from Settings. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        do_action("NavbarScan","","");
        let real_json = do_action("TransactionFetched",&std::fs::read_to_string("for_tests/load_metadata_kusamaV9151_Alice-sr25519.txt").unwrap().trim(),"");
        let expected_json = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"content":{"verifier":[{"index":0,"indent":0,"type":"verifier","payload":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}],"meta":[{"index":1,"indent":0,"type":"meta","payload":{"specname":"kusama","spec_version":"9151","meta_hash":"9a179da92949dd3ab3829177149ec83dc46fb009af10a45f955949b2a6693b46","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a449444154789cedd84f6a144114c7f1c95a1908847802f51a816cdc78012178803981b8164f300790801770e326906ba82730040283aec77a34bff0ba7dfdfe54bd1a06d2df456557f5ebcf6ac8c97ebf5f3df50e82f0f0f050fdc8e9e9e949f9d3b52e082d1f6dd5032515a1e7c74fcbc44841a8f9f8b3ab37e51c777ffdbd9cb132309a106a3e9e9200500d04d582518dd003001d1aa20aa11680ea8940d54084105a3e1ef54640110c37420600752804ca0be14288007c38bf5d4dfb7c77b1425104eb3e2b0f8489d00a80f8700dc20240fc3e2b0b220d411b8cf87009c20b80f87d5a4d085e002a7334957d9f06318b1001a0b24767df47cd41880851002a7b74f67d488270233cfbf8ba9ce3fe7efa51cea1e8e89bdbf3728ebbbcb82be750f43e6b1f72217801107f481bce074b00c80bc1eff3ee43530813417b00f187a4e17cb006802c087e5f741fa5224c01a89a47b4a20856b5fb38c482507a449000a8da47e63a16040a10e908dbf54d39c76d7697e51c8a2258f745f7f1dc0894f6107f401a8cf8700dc20240fc3eefbe6921044a7a883fa00d467cb804e10540fc3e6b9fd408c102f0141d6d957ddf5c04b1202c0841843feb6d39c73ddf6dca39141dfd4ef825f895fd128cde67ed9bcb8d203d80f843da703e5802405e087e9f779f940b417b00f187a4e17cb006802c087e5f74dfb42e08565104abd67d0b426941287541387b7555ce71f73fafcb391445b0ee8bee9be642a0b487f803d260c4876b101600e2f779f749b91128e921fe803618f1e112841700f1fbac7d738510aca2a3adb2ef9b6b41282d08a54704ca8238ff72bb9a76f7fe6285a2a3b7eb6fe51cb7d9bd2de750f43e6b9f1401943fc3ff13280d417a00f187b4e17cb00480bc10fc3eefbe696e04ed01c41f9286f3c11a00b220f87dd17dbc6e08565104ab967dff21501244cb2352c78200006a41288d10a82944f491dfc22fb717ec975b14c1ba2fba8fe200948940690ff107a4c1880fd7202c00c4eff3ee432602e585e00f6883111f2e41780110bfcfda87a600941bc12a3ada2afb3ee446a0a210d9a3b3efa324006a16818a40648fcebe6f0e805211282f4474f4afedba9ce35e6e76e51c8adea7a50150690894369c0f9600901782df67d58c40b542f0c11a00b220f87d561600e542a022105a5184963c00941b81ca8038148217800a21a0168cde08918f475508542d444f841a00aa1a81ea01716800aa0901d560481035002d1f8f5210500d466d191f8f5211504f8ccc8f475d10a6b5a0f4f8e869074138f6fe0147e0bfac1b6bd9730000000049454e44ae426082"}}]},"type":"stub"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "TransactionFetched on Scan screen with load_metadata for kusama9151. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","","");
        let expected_json = r##"{"screen":"NetworkDetails","screenLabel":"Network details","back":true,"footer":false,"footerButton":"Settings","rightButton":"NDMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"2","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}},"meta":[{"spec_version":"9151","meta_hash":"9a179da92949dd3ab3829177149ec83dc46fb009af10a45f955949b2a6693b46","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a449444154789cedd84f6a144114c7f1c95a1908847802f51a816cdc78012178803981b8164f300790801770e326906ba82730040283aec77a34bff0ba7dfdfe54bd1a06d2df456557f5ebcf6ac8c97ebf5f3df50e82f0f0f050fdc8e9e9e949f9d3b52e082d1f6dd5032515a1e7c74fcbc44841a8f9f8b3ab37e51c777ffdbd9cb132309a106a3e9e9200500d04d582518dd003001d1aa20aa11680ea8940d54084105a3e1ef54640110c37420600752804ca0be14288007c38bf5d4dfb7c77b1425104eb3e2b0f8489d00a80f8700dc20240fc3e2b0b220d411b8cf87009c20b80f87d5a4d085e002a7334957d9f06318b1001a0b24767df47cd41880851002a7b74f67d488270233cfbf8ba9ce3fe7efa51cea1e8e89bdbf3728ebbbcb82be750f43e6b1f72217801107f481bce074b00c80bc1eff3ee43530813417b00f187a4e17cb006802c087e5f741fa5224c01a89a47b4a20856b5fb38c482507a449000a8da47e63a16040a10e908dbf54d39c76d7697e51c8a2258f745f7f1dc0894f6107f401a8cf8700dc20240fc3eefbe6921044a7a883fa00d467cb804e10540fc3e6b9fd408c102f0141d6d957ddf5c04b1202c0841843feb6d39c73ddf6dca39141dfd4ef825f895fd128cde67ed9bcb8d203d80f843da703e5802405e087e9f779f940b417b00f187a4e17cb006802c087e5f74dfb42e08565104abd67d0b426941287541387b7555ce71f73fafcb391445b0ee8bee9be642a0b487f803d260c4876b101600e2f779f749b91128e921fe803618f1e112841700f1fbac7d738510aca2a3adb2ef9b6b41282d08a54704ca8238ff72bb9a76f7fe6285a2a3b7eb6fe51cb7d9bd2de750f43e6b9f1401943fc3ff13280d417a00f187b4e17cb00480bc10fc3eefbe696e04ed01c41f9286f3c11a00b220f87dd17dbc6e08565104ab967dff21501244cb2352c78200006a41288d10a82944f491dfc22fb717ec975b14c1ba2fba8fe200948940690ff107a4c1880fd7202c00c4eff3ee432602e585e00f6883111f2e41780110bfcfda87a600941bc12a3ada2afb3ee446a0a210d9a3b3efa324006a16818a40648fcebe6f0e805211282f4474f4afedba9ce35e6e76e51c8adea7a50150690894369c0f9600901782df67d58c40b542f0c11a00b220f87d561600e542a022105a5184963c00941b81ca8038148217800a21a0168cde08918f475508542d444f841a00aa1a81ea01716800aa0901d560481035002d1f8f5210500d466d191f8f5211504f8ccc8f475d10a6b5a0f4f8e869074138f6fe0147e0bfac1b6bd9730000000049454e44ae426082"}]},"modalData":{},"alertData":{}}"##;
        assert!(real_json == expected_json, "GoForward on Transaction screen with load metadata stub. Expected NetworkDetails screen for kusama sr25519, updated with new metadata, with no modals, got:\n{}", real_json);
        
        do_action("GoBack","","");
        do_action("GoBack","","");
        let real_json = do_action("NavbarLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r##"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":2,"timestamp":"**","events":[{"event":"metadata_added","payload":{"specname":"kusama","spec_version":"9151","meta_hash":"9a179da92949dd3ab3829177149ec83dc46fb009af10a45f955949b2a6693b46","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a449444154789cedd84f6a144114c7f1c95a1908847802f51a816cdc78012178803981b8164f300790801770e326906ba82730040283aec77a34bff0ba7dfdfe54bd1a06d2df456557f5ebcf6ac8c97ebf5f3df50e82f0f0f050fdc8e9e9e949f9d3b52e082d1f6dd5032515a1e7c74fcbc44841a8f9f8b3ab37e51c777ffdbd9cb132309a106a3e9e9200500d04d582518dd003001d1aa20aa11680ea8940d54084105a3e1ef54640110c37420600752804ca0be14288007c38bf5d4dfb7c77b1425104eb3e2b0f8489d00a80f8700dc20240fc3e2b0b220d411b8cf87009c20b80f87d5a4d085e002a7334957d9f06318b1001a0b24767df47cd41880851002a7b74f67d488270233cfbf8ba9ce3fe7efa51cea1e8e89bdbf3728ebbbcb82be750f43e6b1f72217801107f481bce074b00c80bc1eff3ee43530813417b00f187a4e17cb006802c087e5f741fa5224c01a89a47b4a20856b5fb38c482507a449000a8da47e63a16040a10e908dbf54d39c76d7697e51c8a2258f745f7f1dc0894f6107f401a8cf8700dc20240fc3eefbe6921044a7a883fa00d467cb804e10540fc3e6b9fd408c102f0141d6d957ddf5c04b1202c0841843feb6d39c73ddf6dca39141dfd4ef825f895fd128cde67ed9bcb8d203d80f843da703e5802405e087e9f779f940b417b00f187a4e17cb006802c087e5f74dfb42e08565104abd67d0b426941287541387b7555ce71f73fafcb391445b0ee8bee9be642a0b487f803d260c4876b101600e2f779f749b91128e921fe803618f1e112841700f1fbac7d738510aca2a3adb2ef9b6b41282d08a54704ca8238ff72bb9a76f7fe6285a2a3b7eb6fe51cb7d9bd2de750f43e6b9f1401943fc3ff13280d417a00f187b4e17cb00480bc10fc3eefbe696e04ed01c41f9286f3c11a00b220f87dd17dbc6e08565104ab967dff21501244cb2352c78200006a41288d10a82944f491dfc22fb717ec975b14c1ba2fba8fe200948940690ff107a4c1880fd7202c00c4eff3ee432602e585e00f6883111f2e41780110bfcfda87a600941bc12a3ada2afb3ee446a0a210d9a3b3efa324006a16818a40648fcebe6f0e805211282f4474f4afedba9ce35e6e76e51c8adea7a50150690894369c0f9600901782df67d58c40b542f0c11a00b220f87d561600e542a022105a5184963c00941b81ca8038148217800a21a0168cde08918f475508542d444f841a00aa1a81ea01716800aa0901d560481035002d1f8f5210500d466d191f8f5211504f8ccc8f475d10a6b5a0f4f8e869074138f6fe0147e0bfac1b6bd9730000000049454e44ae426082"}}]},{"order":1,"timestamp":"**","events":[{"event":"network_specs_added","payload":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"2","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":3},"modalData":{},"alertData":{}}"##;
        assert!(cut_real_json == expected_json, "Switched to Log from Settings. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        do_action("NavbarScan","","");
        let real_json = do_action("TransactionFetched",&std::fs::read_to_string("for_tests/load_types_Alice-sr25519.txt").unwrap().trim(),"");
        let expected_json = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"content":{"verifier":[{"index":0,"indent":0,"type":"verifier","payload":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}],"warning":[{"index":1,"indent":0,"type":"warning","payload":"Updating types (really rare operation)."}],"types_info":[{"index":2,"indent":0,"type":"types","payload":{"types_hash":"d091a5a24a97e18dfe298b167d8fd5a2add10098c8792cba21c39029a9ee0aeb","types_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035549444154789cedd8dd89144114c57117049fdb140cc18c8c61c3d818ccc8104cc17e1684b50ec35dcfd4debe1f55b79a01fbff30fb304dd5e91f2cac3ebdbebe7ef8df3b0561dff7e14bb66d7b6a3f96b60461e6a5bd56a09422ac7cf9be4a8c12849197fffce55bfbbcefd7cfefed335705c614c2c8cb230d401a81403318c3082b00a4b32186104601d04a043402914298797969358294c108235400a0b310501422849001d87ebcb4cffbf6afcfedf35616c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46e5e7191087081900543ebaf83c7404a122640150f5e8eaf3240d228c50fd3bfc697bfffceffddff7d9f3bc7d5208210a20f145d6701eac014851083e2fba4fea215c04eb02892fd286f3600b40f220f8bcec3e6422f40068e412ab2c82d7e83e86b8105a6f081a001abde4a847414002518ea0bd24bf94f67d9ff73c7f9fddc785119075115fa00d967878f573d17d7d2904a45dc4175883251eae3def7ddfc7cf7bfbb4ee103c8048d9d15ed5e71d05880be1424822787fb965477f7cd9dae77d7f9ef7f6792b7b9eb7efa830827681c41759c379b006204521f8bce83ead10827581c41769c379b0052079107c5e765fdf1204af2c82d7ecbe0ba17521b4962078bfc35904efbcecbebe1002b22ee20bb4c1120fb7203c0089cf8beed30a2320ed22bec01a2cf1700d220a20f179debea352085ed9d15ed5e71d7521b42e84d61b02f220bc7faf67476bcf7bdff7f1f3de3e2d00b41fb7ff4f4016827681c41759c37970f573d17d7d6104eb02892fd286f360edfb3eef79fe3ebb8f5b86e0a5bd541fbfa4d7ccbe7708488398b944eb511004005d08ad3b04d443642ff1fe72cb2278e765f72106402e02b22ee20bb4c1120fb7203c0089cf8bee935c041485e00bacc1120fd720a200129fe7ed937a001446f0ca8ef6aa3e4f0a23a02c44f5e8eaf39006800e115006a27a74f9790700c844405188ec68ef77387b9e950580ca1090359c076b00521482cff39a4640b3103cd802903c083ecfcb034021049481b0ca22cc140140610454017116421400a510a4198cd5089997978610d028c44a841100348c8056409c0d80a610a4110c0d620460e6e5a51204690463b48a97974a11a49518952f2f2d41e89b4159f1d27da7203c7a7f01d20cbfac205d21400000000049454e44ae426082"}}]},"type":"stub"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "TransactionFetched on Scan screen with load_types. Not that we really need them anymore. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","","");
        assert!(real_json == manage_networks_json, "GoForward on Transaction screen with load types stub. Expected known ManageNetworks screen with no modals, got:\n{}", real_json);
        
        do_action("GoBack","","");
        let real_json = do_action("NavbarLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r##"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":3,"timestamp":"**","events":[{"event":"warning","payload":"Updating types (really rare operation)."},{"event":"types_added","payload":{"types_hash":"d091a5a24a97e18dfe298b167d8fd5a2add10098c8792cba21c39029a9ee0aeb","types_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035549444154789cedd8dd89144114c57117049fdb140cc18c8c61c3d818ccc8104cc17e1684b50ec35dcfd4debe1f55b79a01fbff30fb304dd5e91f2cac3ebdbebe7ef8df3b0561dff7e14bb66d7b6a3f96b60461e6a5bd56a09422ac7cf9be4a8c12849197fffce55bfbbcefd7cfefed335705c614c2c8cb230d401a81403318c3082b00a4b32186104601d04a043402914298797969358294c108235400a0b310501422849001d87ebcb4cffbf6afcfedf35616c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46e5e7191087081900543ebaf83c7404a122640150f5e8eaf3240d228c50fd3bfc697bfffceffddff7d9f3bc7d5208210a20f145d6701eac014851083e2fba4fea215c04eb02892fd286f3600b40f220f8bcec3e6422f40068e412ab2c82d7e83e86b8105a6f081a001abde4a847414002518ea0bd24bf94f67d9ff73c7f9fddc785119075115fa00d967878f573d17d7d2904a45dc4175883251eae3def7ddfc7cf7bfbb4ee103c8048d9d15ed5e71d05880be1424822787fb965477f7cd9dae77d7f9ef7f6792b7b9eb7efa830827681c41759c379b006204521f8bce83ead10827581c41769c379b0052079107c5e765fdf1204af2c82d7ecbe0ba17521b4962078bfc35904efbcecbebe1002b22ee20bb4c1120fb7203c0089cf8beed30a2320ed22bec01a2cf1700d220a20f179debea352085ed9d15ed5e71d7521b42e84d61b02f220bc7faf67476bcf7bdff7f1f3de3e2d00b41fb7ff4f4016827681c41759c37970f573d17d7d6104eb02892fd286f360edfb3eef79fe3ebb8f5b86e0a5bd541fbfa4d7ccbe7708488398b944eb511004005d08ad3b04d443642ff1fe72cb2278e765f72106402e02b22ee20bb4c1120fb7203c0089cf8bee935c041485e00bacc1120fd720a200129fe7ed937a001446f0ca8ef6aa3e4f0a23a02c44f5e8eaf39006800e115006a27a74f9790700c844405188ec68ef77387b9e950580ca1090359c076b00521482cff39a4640b3103cd802903c083ecfcb034021049481b0ca22cc140140610454017116421400a510a4198cd5089997978610d028c44a841100348c8056409c0d80a610a4110c0d620460e6e5a51204690463b48a97974a11a49518952f2f2d41e89b4159f1d27da7203c7a7f01d20cbfac205d21400000000049454e44ae426082","verifier":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}}]},{"order":2,"timestamp":"**","events":[{"event":"metadata_added","payload":{"specname":"kusama","spec_version":"9151","meta_hash":"9a179da92949dd3ab3829177149ec83dc46fb009af10a45f955949b2a6693b46","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a449444154789cedd84f6a144114c7f1c95a1908847802f51a816cdc78012178803981b8164f300790801770e326906ba82730040283aec77a34bff0ba7dfdfe54bd1a06d2df456557f5ebcf6ac8c97ebf5f3df50e82f0f0f050fdc8e9e9e949f9d3b52e082d1f6dd5032515a1e7c74fcbc44841a8f9f8b3ab37e51c777ffdbd9cb132309a106a3e9e9200500d04d582518dd003001d1aa20aa11680ea8940d54084105a3e1ef54640110c37420600752804ca0be14288007c38bf5d4dfb7c77b1425104eb3e2b0f8489d00a80f8700dc20240fc3e2b0b220d411b8cf87009c20b80f87d5a4d085e002a7334957d9f06318b1001a0b24767df47cd41880851002a7b74f67d488270233cfbf8ba9ce3fe7efa51cea1e8e89bdbf3728ebbbcb82be750f43e6b1f72217801107f481bce074b00c80bc1eff3ee43530813417b00f187a4e17cb006802c087e5f741fa5224c01a89a47b4a20856b5fb38c482507a449000a8da47e63a16040a10e908dbf54d39c76d7697e51c8a2258f745f7f1dc0894f6107f401a8cf8700dc20240fc3eefbe6921044a7a883fa00d467cb804e10540fc3e6b9fd408c102f0141d6d957ddf5c04b1202c0841843feb6d39c73ddf6dca39141dfd4ef825f895fd128cde67ed9bcb8d203d80f843da703e5802405e087e9f779f940b417b00f187a4e17cb006802c087e5f74dfb42e08565104abd67d0b426941287541387b7555ce71f73fafcb391445b0ee8bee9be642a0b487f803d260c4876b101600e2f779f749b91128e921fe803618f1e112841700f1fbac7d738510aca2a3adb2ef9b6b41282d08a54704ca8238ff72bb9a76f7fe6285a2a3b7eb6fe51cb7d9bd2de750f43e6b9f1401943fc3ff13280d417a00f187b4e17cb00480bc10fc3eefbe696e04ed01c41f9286f3c11a00b220f87dd17dbc6e08565104ab967dff21501244cb2352c78200006a41288d10a82944f491dfc22fb717ec975b14c1ba2fba8fe200948940690ff107a4c1880fd7202c00c4eff3ee432602e585e00f6883111f2e41780110bfcfda87a600941bc12a3ada2afb3ee446a0a210d9a3b3efa324006a16818a40648fcebe6f0e805211282f4474f4afedba9ce35e6e76e51c8adea7a50150690894369c0f9600901782df67d58c40b542f0c11a00b220f87d561600e542a022105a5184963c00941b81ca8038148217800a21a0168cde08918f475508542d444f841a00aa1a81ea01716800aa0901d560481035002d1f8f5210500d466d191f8f5211504f8ccc8f475d10a6b5a0f4f8e869074138f6fe0147e0bfac1b6bd9730000000049454e44ae426082"}}]},{"order":1,"timestamp":"**","events":[{"event":"network_specs_added","payload":{"base58prefix":"2","color":"#000","decimals":"12","encryption":"sr25519","genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","logo":"kusama","name":"kusama","order":"2","path_id":"//kusama","secondary_color":"#262626","title":"Kusama","unit":"KSM","current_verifier":{"type":"general","details":{"public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","encryption":"sr25519"}}}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":4},"modalData":{},"alertData":{}}"##;
        assert!(cut_real_json == expected_json, "Switched to Log from Settings. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        do_action("RightButton","","");
        let real_json = do_action("ClearLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ClearLog on Log screen with LogRight modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        current_log_json = real_json;
        
        let real_json = do_action("NavbarKeys","","");
        let expected_json = r#"{"screen":"SeedSelector","screenLabel":"Select seed","back":false,"footer":true,"footerButton":"Keys","rightButton":"NewSeed","screenNameType":"h1","modal":"NewSeedMenu","alert":"Empty","screenData":{"seedNameCards":[]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "NavbarKeys on Log screen. Expected SeedSelector screen with NewSeedMenu modal, got:\n{}", real_json);
        
        let real_json = do_action("NewSeed","","");
        let expected_json = r#"{"screen":"NewSeed","screenLabel":"New Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"keyboard":true},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "NewSeed on SeedSelector screen with NewSeedMenu modal. Expected NewSeed screen, got:\n{}", real_json);
        
        let new_seed_json = real_json;
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == seed_selector_json, "GoBack on NewSeed screen. Expected SeedSelector screen with no modals, got:\n{}", real_json);
        
        do_action("NewSeed","","");
        let real_json = do_action("GoForward","Portia","");
        let (cut_real_json, _) = cut_seed(&cut_identicon(&real_json));
        let expected_json = r#"{"screen":"NewSeed","screenLabel":"New Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"NewSeedBackup","alert":"Empty","screenData":{"keyboard":false},"modalData":{"seed":"Portia","seed_phrase":"**","identicon":"**"},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoForward on NewSeed screen with non-empty seed name. Expected NewSeed screen with NewSeedBackup modal, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == new_seed_json, "GoBack on NewSeed screen with generated seed. Expected NewSeed screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == seed_selector_json, "GoBack on NewSeed screen with no modals, to see footer. Expected known SeedSelector screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("NavbarLog","","");
        assert!(real_json == current_log_json, "Switched to Log from SeedSelector after cancelling seed creation. Expected known Log screen with no modals, got:\n{}", real_json);
        
        do_action("NavbarKeys","","");
        do_action("NewSeed","","");
        let real_json = do_action("GoForward","Portia","");
        let (cut_real_json, seed_phrase_portia) = cut_seed(&cut_identicon(&real_json));
        let expected_json = r#"{"screen":"NewSeed","screenLabel":"New Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"NewSeedBackup","alert":"Empty","screenData":{"keyboard":false},"modalData":{"seed":"Portia","seed_phrase":"**","identicon":"**"},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoForward on NewSeed screen with non-empty seed name. Expected NewSeed screen with NewSeedBackup modal, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","true",&seed_phrase_portia);
        let cut_real_json = cut_address_key(&cut_base58(&cut_identicon(&real_json)));
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Portia","identicon":"**","address_key":"**","base58":"**","swiped":false,"multiselect":false},"set":[{"address_key":"**","base58":"**","identicon":"**","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoForward on NewSeed screen with NewSeedBackup modal active. Expected Keys screen with no modals, got:\n{}", real_json);
        
        update_seed_names(r#"Portia"#);
        
        let real_json = do_action("GoBack","","");
        let cut_real_json = cut_identicon(&real_json);
        let expected_json = r#"{"screen":"SeedSelector","screenLabel":"Select seed","back":false,"footer":true,"footerButton":"Keys","rightButton":"NewSeed","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seedNameCards":[{"identicon":"**","seed_name":"Portia"}]},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoBack on Keys screen. Expected updated SeedSelector screen with no modals, got:\n{}", real_json);
        
        seed_selector_json = real_json;
        
        let real_json = do_action("NavbarLog","","");
        let cut_real_json = cut_public_key(&timeless(&real_json));
        let expected_json = r##"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":1,"timestamp":"**","events":[{"event":"seed_created","payload":"Portia"},{"event":"identity_added","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"","network_genesis_hash":"91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3"}},{"event":"identity_added","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"//polkadot","network_genesis_hash":"91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3"}},{"event":"identity_added","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"","network_genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe"}},{"event":"identity_added","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"//kusama","network_genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe"}},{"event":"identity_added","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"","network_genesis_hash":"e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"}},{"event":"identity_added","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"//westend","network_genesis_hash":"e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":2},"modalData":{},"alertData":{}}"##;
        assert!(cut_real_json == expected_json, "Switched to Log from SeedSelector after adding new seed. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        do_action("RightButton","","");
        let real_json = do_action("ClearLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ClearLog on Log screen with LogRight modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        do_action("NavbarKeys","","");
        do_action("RightButton","","");
        let real_json = do_action("RecoverSeed","","");
        let expected_json = r#"{"screen":"RecoverSeedName","screenLabel":"Recover Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seed_name":"","keyboard":true},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "RecoverSeed on SeedSelector screen with NewSeedMenu modal. Expected RecoverSeedName screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == seed_selector_json, "GoBack on RecoverSeedName screen with no modals. Expected known SeedSelector screen, got:\n{}", real_json);
        
        do_action("RightButton","","");
        do_action("RecoverSeed","","");
        let real_json = do_action("GoForward","Portia","");
        let expected_json = r#"{"screen":"RecoverSeedName","screenLabel":"Recover Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Error","screenData":{"seed_name":"","keyboard":false},"modalData":{},"alertData":{"error":"Bad input data. Seed name Portia already exists."}}"#;
        assert!(real_json == expected_json, "GoForward on RecoverSeedName screen using existing name. Expected RecoverSeedName screen with error, got:\n{}", real_json);
        
        do_action("GoBack","","");
        let real_json = do_action("GoForward","Alys","");
        let expected_json = r#"{"screen":"RecoverSeedPhrase","screenLabel":"Recover Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seed_name":"Alys","keyboard":true},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoForward on RecoverSeedName screen using new name. Expected RecoverSeedPhrase screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        let expected_json = r#"{"screen":"RecoverSeedName","screenLabel":"Recover Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seed_name":"Alys","keyboard":true},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoBack on RecoverSeedPhrase screen. Expected RecoverSeedName screen with no modals and with retained name, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","Alice","");
        let expected_json = r#"{"screen":"RecoverSeedPhrase","screenLabel":"Recover Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seed_name":"Alice","keyboard":true},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoForward on RecoverSeedName screen using new name. Expected RecoverSeedPhrase screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","false",ALICE_WORDS);
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","base58":"16Zaf6BT6xc6WeYCX6YNAf67RumWaEiumwawt7cTdKMU7HqW","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoForward on RecoverSeedPhrase screen with seed phrase (seed phrase vaidity was already checked elsewhere - currently in crate Signer). Expected updated Keys screen with no modals, with known stable content since this is Alice, got:\n{}", real_json);
        
        update_seed_names(r#"Portia,Alice"#);
        
        let mut alice_polkadot_keys_json = real_json;
        
        let real_json = do_action("GoBack","","");
        let cut_real_json = cut_identicon(&real_json);
        let expected_json = r#"{"screen":"SeedSelector","screenLabel":"Select seed","back":false,"footer":true,"footerButton":"Keys","rightButton":"NewSeed","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seedNameCards":[{"identicon":"","seed_name":"Alice"},{"identicon":"**","seed_name":"Portia"}]},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoBack on Keys screen. Expected updated SeedSelector screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("SelectSeed","Alice","");
        assert!(real_json == alice_polkadot_keys_json, "SelectSeed on SeedSelector screen. Expected known Keys screen for Alice polkadot keys, got:\n{}", real_json);
        
        let real_json = do_action("SelectKey","01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","");
        let expected_json = r#"{"screen":"KeyDetails","screenLabel":"Derived Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"KeyMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"qr":"89504e470d0a1a0a0000000d49484452000000c4000000c40800000000e5cdd1b70000067149444154789cedcfdbaa1cc9114661fbfd1fdad677b1200865b53403363da55cb0f94f59bd897fffe75fff7cee11dfc23de25bb8477c0bf7886fe11ef12ddc23be857bc4b7f0ce23fefde3ef89de3ebd69c77e63d3a5131df4d33fd19bb8476cdab1dfd874e94407fdf44ff426de7bc4ee504f43c6ec626fe5894d9f4e4e1d4efd3d42c6ec626fe5894d9f4e4e1d4efdbb8fa051a693ba14db6fdac21bdd278d329ddc23ea526cbf690b6f749f34ca74f2671e41273ad4cb3c453e057fa21ddec834ca74728f800ef5324f914fc19f688737328d329dfc99479c684bc143e6d39037ed363e8d329ddc23a22d050f994f43deb4dbf834ca74f2ee2336f57452974e66c76f6cfa14f97473eaef11a84b27b3e337367d8a7cba39f5ef3de2096fedff2f7dc23eb947fcaff509fbe49d47fc55fcb35ffd863713ef753476fe2bdc23f03bffdc9b89f73a1a3bff15de79841fdb7873ea27f30d1f7578ea619b5df9a49b7bc464bee1a30e4f3d6cb32b9f74f3ee23eae5e963763c0d193a3efd1d7abb3576c63d023a9e860c1d9ffe0ebddd1a3be3bd47d4f190f9ade063763c058f327627e74fd8717a738f001fb3e3297894b13b397fc28ed39b771e813e805d4eb13d768e7accad7e77721a3b6fee11e0b173d4636ef5bb93d3d879f3ce237c807a99a7e021f329f8493d7eb59579c87c1af2e61ec1a7e027f5f8d556e621f369c89b771e011fcdfe94b1bb99a10b9b9c62fad041cf536c3fb947ec6e66e8c226a7983e74d0f314db4fde7984873a8ae94387faa71cb3cf870e7a9e82c7ce27ee11f54f39669f0f1df43c058f9d4fbcf708d4cbdbd3904f7863a31b7dd8e5f4ef708f807cc21b1bdde8c32ea77f87771e117e14ede58dfdb4e961e34f3ad1854d9e0afec43d02f6d3a6878d3fe9441736792af813ef3dc247fa34ca532775e9a48e860c1dff496367dc23e8a42e9dd4d190a1e33f69ec8cf71e11f3031e334f1f3a9962faa8a3131d763fe9cde41e317de8648ae9a38e4e74d8fda43793771ee107eaf25bc143e6a7861cb37f62bf7fcafce41e01999f1a72ccfe89fdfe29f393f71e01fdf6143ccad09579943776db54f013bd8e86bcb94794a12bf3286fecb6a9e0277a1d0d79f3ce23e2f4e1a76ee6e921e7519e0a7ea2d79d74728f40ddccd343cea33c15fc44af3be9e4bd47f4909eb09df07e6f3ad4cbdb53e429a6ffc43d62e3fdde74a897b7a7c8534cff89771ee1c34d6fe636bbdff113bd8e4eea28b6879c8f7b0474bfe3277a1d9dd4516c0f391fef3fa2ad4e9e3e74721a32743c051fba729e6ef4386ebbec31daeae4e94327a72143c753f0a12be7e9468fe3b6cb1ea3ad4e9e3e74721a32743c051fba729e6ef4386ebbec31daeae4e94327a72143c753f0a12be7e9468fe3b6cbf9787a9437f6b9ed3cb1456feae43ce4d097f9c93d22ec73db79628bded4c979c8a12ff393771e11fb8372d44f7a63e3d32853f093fa8937a77e728fd8f4c6c6a751a6e027f5136f4efde49d47f411459ec6ccf927459e82873cfd27bceb0d3fb94720ffa4c853f090a7ff8477bde127ef3e024f1ee5147ccc2e0f197565e8648a3c0d79738f9053f031bb3c64d495a19329f234e4cd7b8f98ccbd4dc753f0d819ba9da1cb471dc5f690f3718fa0e0b133743b43978f3a8aed21e7e3bd47e8689c32ea760efdec64ec4ea6214337fd13f788ba9d433f3b19bb9369c8d04dffc49f7144fe93824779d216bdd14f0f391fba4fdc2352f0284fdaa237fae921e743f7893feb88890e7a3ec5f493d93f79c84f7867a7937b849e4f31fd64f64f1ef213ded9e9e49d47fc8a7e846ef431f7d9c7d3ae7fca3cca718fd8e863eeb38fa75dff947994e39d47f4f084b7f6ad4fcc9d0f9d4cc16366fea427ee11e91373e7432753f098993fe989f71eb13b9c7a5dd8ca3cca93d3b6bb324edde61ea10b5b99477972da7657c6a9dbbcfb081ae534e4983ddaf4f9a8a3935387d9f39b7b841cb3479b3e1f757472ea307b7e738f28d3892eda7627d3c9ee76c6b1fba9f8f1a7a3514ea34c27ba68db9d4c27bbdb19c7eea7e2c79f8e46398d329de8a26d77329dec6e671cbb9f8a1f7f3a1ae534ca74a28bb6ddc974b2bb9d71ec7e2a7efce96894d390276dbfeacb9336ecdda6a327ee11f2a4ed577d79d286bddb74f4c4bb8fd8d47fd290a1e329f214d3430efd29d3cd3d626bc8d0f114798ae92187fe94e9e6bd473ce1ad9d86bcd9bb9c22bff5445b7ae21e0179b37739457eeb89b6f4c43b8ff827728ff816ee11dfc23de25bb8477c0bf7886fe11ef12ddc23be85571cf15fc0ab6c6a8254e43e0000000049454e44ae426082","pubkey":"f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","base58":"16Zaf6BT6xc6WeYCX6YNAf67RumWaEiumwawt7cTdKMU7HqW","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","seed_name":"Alice","path":"//polkadot","network_title":"Polkadot","network_logo":"polkadot"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SelectKey on Keys screen. Expected KeyDetails screen for Alice //polkadot key, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == alice_polkadot_keys_json, "GoBack on KeyDetails screen. Expected known Keys screen for Alice polkadot keys, got:\n{}", real_json);
        
        let real_json = do_action("NewKey","","");
        let expected_json = r#"{"screen":"DeriveKey","screenLabel":"Derive Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seed_name":"Alice","network_title":"Polkadot","network_logo":"polkadot","suggested_derivation":"","keyboard":true},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "NewKey on Keys screen. Expected DeriveKey screen, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == alice_polkadot_keys_json, "GoBack on DeriveKey screen. Expected known Keys screen for Alice polkadot keys, got:\n{}", real_json);
        
        do_action("NewKey","","");
        let real_json = do_action("CheckPassword","//secret//path///multipass","");
        let expected_json = r#"{"screen":"DeriveKey","screenLabel":"Derive Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"PasswordConfirm","alert":"Empty","screenData":{"seed_name":"Alice","network_title":"Polkadot","network_logo":"polkadot","suggested_derivation":"//secret//path///multipass","keyboard":false},"modalData":{"seed_name":"Alice","cropped_path":"//secret//path","pwd":"multipass"},"alertData":{}}"#;
        assert!(real_json == expected_json, "CheckPassword on DeriveKey screen with password (path validity and password existence is checked elsewhere). Expected updated DeriveKey screen with PasswordConfirm modal, got:\n{}", real_json);
        
        // Plaintext secrets in json?
        
        let real_json = do_action("GoForward","//secret//path///multipass",ALICE_WORDS);
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","base58":"16FWrEaDSDRwfDmNKacTBRNmYPH8Yg6s9o618vX2iHQLuWfb","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path","swiped":false,"multiselect":false},{"address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","base58":"16Zaf6BT6xc6WeYCX6YNAf67RumWaEiumwawt7cTdKMU7HqW","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoForward on DeriveKey screen with PasswordConfirm modal. Expected updated Keys screen, got:\n{}", real_json);
        
        do_action("NewKey","","");
        let real_json = do_action("GoForward","",""); // trying to create the missing root
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","base58":"12bzRJfh7arnnfPPUZHeJUaE62QLEwhK48QnH9LXeK2m1iZU","swiped":false,"multiselect":false},"set":[{"address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","base58":"16FWrEaDSDRwfDmNKacTBRNmYPH8Yg6s9o618vX2iHQLuWfb","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path","swiped":false,"multiselect":false},{"address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","base58":"16Zaf6BT6xc6WeYCX6YNAf67RumWaEiumwawt7cTdKMU7HqW","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoForward on DeriveKey screen with no modals. Expected updated Keys screen, got:\n{}", real_json);
        
        alice_polkadot_keys_json = real_json;
        
        let real_json = do_action("GoBack","","");
        let cut_real_json = cut_identicon(&real_json);
        let expected_json = r#"{"screen":"SeedSelector","screenLabel":"Select seed","back":false,"footer":true,"footerButton":"Keys","rightButton":"NewSeed","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seedNameCards":[{"identicon":"**","seed_name":"Alice"},{"identicon":"**","seed_name":"Portia"}]},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoBack on Keys screen, root Alice have appeared in polkadot. Expected updated SeedSelector screen with no modals, got:\n{}", real_json);
        
        do_action("SelectSeed","Alice","");
        let real_json = do_action("RightButton","","");
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"SeedMenu","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","base58":"12bzRJfh7arnnfPPUZHeJUaE62QLEwhK48QnH9LXeK2m1iZU","swiped":false,"multiselect":false},"set":[{"address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","base58":"16FWrEaDSDRwfDmNKacTBRNmYPH8Yg6s9o618vX2iHQLuWfb","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path","swiped":false,"multiselect":false},{"address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","base58":"16Zaf6BT6xc6WeYCX6YNAf67RumWaEiumwawt7cTdKMU7HqW","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{"seed":"Alice"},"alertData":{}}"#;
        assert!(real_json == expected_json, "RightButton on Keys screen. Expected SeedMenu modal to appear, got:\n{}", real_json);
        
        let real_json = do_action("BackupSeed","","");
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"None","screenNameType":"h4","modal":"Backup","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","base58":"12bzRJfh7arnnfPPUZHeJUaE62QLEwhK48QnH9LXeK2m1iZU","swiped":false,"multiselect":false},"set":[{"address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","base58":"16FWrEaDSDRwfDmNKacTBRNmYPH8Yg6s9o618vX2iHQLuWfb","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path","swiped":false,"multiselect":false},{"address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","base58":"16Zaf6BT6xc6WeYCX6YNAf67RumWaEiumwawt7cTdKMU7HqW","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{"seed_name":"Alice","derivations":[{"network_title":"Polkadot","network_logo":"polkadot","network_order":0,"id_set":[{"path":"","has_pwd":false},{"path":"//secret//path","has_pwd":true},{"path":"//polkadot","has_pwd":false}]},{"network_title":"Westend","network_logo":"westend","network_order":1,"id_set":[{"path":"//westend","has_pwd":false}]},{"network_title":"Kusama","network_logo":"kusama","network_order":2,"id_set":[{"path":"//kusama","has_pwd":false}]}]},"alertData":{}}"#;
        assert!(real_json == expected_json, "BackupSeed on Keys screen with SeedMenu button. Expected Keys screen with Backup modal, got:\n{}", real_json);
        
        db_handling::manage_history::seed_name_was_shown(dbname, String::from("Alice")).unwrap(); // mock signal from phone; elsewise untestable;
        
        let real_json = do_action("NavbarLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":4,"timestamp":"**","events":[{"event":"seed_name_shown","payload":"Alice"}]},{"order":3,"timestamp":"**","events":[{"event":"identity_added","payload":{"seed_name":"Alice","encryption":"sr25519","public_key":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","path":"","network_genesis_hash":"91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3"}}]},{"order":2,"timestamp":"**","events":[{"event":"identity_added","payload":{"seed_name":"Alice","encryption":"sr25519","public_key":"e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","path":"//secret//path","network_genesis_hash":"91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3"}}]},{"order":1,"timestamp":"**","events":[{"event":"seed_created","payload":"Alice"},{"event":"identity_added","payload":{"seed_name":"Alice","encryption":"sr25519","public_key":"f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","path":"//polkadot","network_genesis_hash":"91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3"}},{"event":"identity_added","payload":{"seed_name":"Alice","encryption":"sr25519","public_key":"64a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","path":"//kusama","network_genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe"}},{"event":"identity_added","payload":{"seed_name":"Alice","encryption":"sr25519","public_key":"3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","path":"//westend","network_genesis_hash":"e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":5},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "Switched to Log from SeedSelector after backuping seed. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        do_action("RightButton","","");
        let real_json = do_action("ClearLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ClearLog on Log screen with LogRight modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        do_action("NavbarKeys","","");
        do_action("SelectSeed","Portia","");
        do_action("RightButton","","");
        let real_json = do_action("RemoveSeed","","");
        let cut_real_json = cut_public_key(&timeless(&real_json));
        let removal1 = r#"{"event":"identity_removed","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"//kusama","network_genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe"}}"#;
        let removal2 = r#"{"event":"identity_removed","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"//polkadot","network_genesis_hash":"91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3"}}"#;
        let removal3 = r#"{"event":"identity_removed","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"//westend","network_genesis_hash":"e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"}}"#;
        let removal4 = r#"{"event":"identity_removed","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"","network_genesis_hash":"91b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3"}}"#;
        let removal5 = r#"{"event":"identity_removed","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"","network_genesis_hash":"b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe"}}"#;
        let removal6 = r#"{"event":"identity_removed","payload":{"seed_name":"Portia","encryption":"sr25519","public_key":"**","path":"","network_genesis_hash":"e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"}}"#;
        assert!(cut_real_json.contains(removal1) && cut_real_json.contains(removal2) && cut_real_json.contains(removal3) && cut_real_json.contains(removal4) && cut_real_json.contains(removal5) && cut_real_json.contains(removal6), "RemoveSeed on Keys screen with SeedMenu modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        // Switching to log. Maybe we want to switch here to updated SeedSelector?
        
        update_seed_names(r#"Alice"#);
        
        do_action("RightButton","","");
        let real_json = do_action("ClearLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ClearLog on Log screen with LogRight modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("NavbarKeys","","");
        let expected_json = r#"{"screen":"SeedSelector","screenLabel":"Select seed","back":false,"footer":true,"footerButton":"Keys","rightButton":"NewSeed","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seedNameCards":[{"identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","seed_name":"Alice"}]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "NavbarKeys on Log screen. Expected updated SeedSelector screen with no modals, got:\n{}", real_json);
        
        do_action("SelectSeed","Alice","");
        let real_json = do_action("NetworkSelector","","");
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"NetworkSelector","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","base58":"12bzRJfh7arnnfPPUZHeJUaE62QLEwhK48QnH9LXeK2m1iZU","swiped":false,"multiselect":false},"set":[{"address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","base58":"16FWrEaDSDRwfDmNKacTBRNmYPH8Yg6s9o618vX2iHQLuWfb","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path","swiped":false,"multiselect":false},{"address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","base58":"16Zaf6BT6xc6WeYCX6YNAf67RumWaEiumwawt7cTdKMU7HqW","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{"networks":[{"key":"018091b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3","title":"Polkadot","logo":"polkadot","order":0,"selected":true},{"key":"0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","title":"Westend","logo":"westend","order":1,"selected":false},{"key":"0180b0a8d493285c2df73290dfb7e61f870f17b41801197a149ca93654499ea3dafe","title":"Kusama","logo":"kusama","order":2,"selected":false}]},"alertData":{}}"#;
        assert!(real_json == expected_json, "NetworkSelector on Keys screen for Alice polkadot keys. Expected modal NetworkSelector with polkadot selected, got:\n{}", real_json);
        
        let real_json = do_action("NetworkSelector","","");
        assert!(real_json == alice_polkadot_keys_json, "NetworkSelector on Keys screen with NetworkSelector modal. Expected known Keys screen for Alice, got:\n{}", real_json);
        
        do_action("NetworkSelector","","");
        let real_json = do_action("ChangeNetwork","0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","");
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "ChangeNetwork on Keys screen. Expected Keys screen for Alice westend keys, got:\n{}", real_json);
        
        do_action("NavbarScan","","");
        let real_json = do_action("TransactionFetched","53ffde01e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e141c2f2f416c6963653c2f2f416c6963652f77657374656e64582f2f416c6963652f7365637265742f2f7365637265740c2f2f300c2f2f31","");
        let expected_json = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"content":{"importing_derivations":[{"index":0,"indent":0,"type":"derivations","payload":["//Alice","//Alice/westend","//Alice/secret//secret","//0","//1"]}]},"network_info":{"network_title":"Westend","network_logo":"westend"},"type":"import_derivations"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "TransactionFetched on Scan screen with import_derivations info for westend. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","","");
        let expected_json = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"SelectSeed","alert":"Empty","screenData":{"content":{"importing_derivations":[{"index":0,"indent":0,"type":"derivations","payload":["//Alice","//Alice/westend","//Alice/secret//secret","//0","//1"]}]},"network_info":{"network_title":"Westend","network_logo":"westend"},"type":"import_derivations"},"modalData":{"seedNameCards":[{"identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","seed_name":"Alice"}]},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoForward on Transaction screen with derivations import. Expected Transaction screen with SelectSeed modal, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","Alice",ALICE_WORDS);
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"019cd20feb68e0535a6c1cdeead4601b652cf6af6d76baf370df26ee25adde0805","base58":"5FcKjDXS89U79cXvhksZ2pF5XBeafmSM8rqkDVoTHQcXd5Gq","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034c49444154789cedd9bd6d1b41108661aa04b200bb03278ed40d430736a05204d8814376a3c8893bb00b204ba0f703f10973e7b9f9d99f0305dd1bacb29dd9273a880fd7eb75f7de5b05e172b9540fd9eff70fe5cfd08620b43cda6b044a5784918f9fd713a30b42cde38f1f0fe59c76fa732e67ae1e184d08358f471a00ab81402d18d5082300d8da105508b500682402aa814821b43c9e8d4660198c30420f00b416028a4284103200874f2fe59c76fefd58ce5b59841ffbe7724efb7a792a67ac08848bd00ac0a2101e00eb09d10dc102601e44148045219a10a200288be0d5130159108b08190074ef0868094245c802a0b78080348830c2fed77339a75d3e3f95f35616e1f0f2bd9cd3ce8fdfca792b8be0edc742085100260759101e008b4278004ceec7e6102e823580c9411a4414807910510026f74326c21c00d50cb1ca2278d5ee27213684d22b8206806a872c752f088810dd110ec7e36edef974dab12c82775f763f5918015983e4006d612617b7203c0026ef8bee372f8580b4417280b530938b6b10510026eff3f6d39a20780091b24b7bf5be6f29406c081b4212c1fb72cb2efde5c3be9cd37efebd94f356f63eef4b75a9308206c0a21072610d804521e47d1a00f32042081600f320e4c21600f320e47d1600b3208620786511bc3684d28650ba4b04ef4b308be0ddb70a02b2203c002617b7203c0026efb3202c001446401a441480c9c53588280093f769101e004a21786597f6ea7ddf521b42694328bd22200fc2fbed30bbb4fb2598bccfdb4f0b00e5cfedff09c842d0063039c85a5c2eac01b02884bc2fbadfbc30823580c941dae272610b807910f2beec7eb261085e5904af96fdfe43401a44cb10ad7b412000da104a13043487c80ef1bedcb208de976a763f2401908b80ac41728006c0a2101e008b42c8fd988b80a210728005c03c882800f320e47e6c0e80c2085e5904af2c42b43002ca42bc05040d002d22a00cc4bd232c012013014521b208de6f873d112c00d40d0159101e008b4244015033026a858802300fa227000a21a00c845516a1a508000a23a01e106b214401500a81b5608c46c83c9e5521a05a8891083500a81a018d80581b003521b01a0c0da206a0e5f1ac0b02abc1a8adc7e35957043612a3e7e3d91084792d28231e3d6f15847bef1f9b84bfac2c7eb9510000000049454e44ae426082","has_pwd":false,"path":"//Alice/westend","swiped":false,"multiselect":false},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoForward on Transaction screen with derivations import, with SelectSeed modal. Expected updated Keys screen for Alice westend keys, got:\n{}", real_json);
        
        let mut alice_westend_keys_json = real_json; 
        
        do_action("NetworkSelector","","");
        let real_json = do_action("ChangeNetwork","018091b171bb158e2d3848fa23a9f1c25182fb8e20313b2c1eb49219da7a70ce90c3",""); // switching to polkadot, expect no changes
        assert!(real_json == alice_polkadot_keys_json, "Switched network to polkadot. Expected no changes on Keys screen for Alice polkadot keys, got:\n{}", real_json);
        
        do_action("NetworkSelector","","");
        do_action("ChangeNetwork","0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","");
        let real_json = do_action("Swipe","013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","");
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":true,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"019cd20feb68e0535a6c1cdeead4601b652cf6af6d76baf370df26ee25adde0805","base58":"5FcKjDXS89U79cXvhksZ2pF5XBeafmSM8rqkDVoTHQcXd5Gq","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034c49444154789cedd9bd6d1b41108661aa04b200bb03278ed40d430736a05204d8814376a3c8893bb00b204ba0f703f10973e7b9f9d99f0305dd1bacb29dd9273a880fd7eb75f7de5b05e172b9540fd9eff70fe5cfd08620b43cda6b044a5784918f9fd713a30b42cde38f1f0fe59c76fa732e67ae1e184d08358f471a00ab81402d18d5082300d8da105508b500682402aa814821b43c9e8d4660198c30420f00b416028a4284103200874f2fe59c76fefd58ce5b59841ffbe7724efb7a792a67ac08848bd00ac0a2101e00eb09d10dc102601e44148045219a10a200288be0d5130159108b08190074ef0868094245c802a0b78080348830c2fed77339a75d3e3f95f35616e1f0f2bd9cd3ce8fdfca792b8be0edc742085100260759101e008b4278004ceec7e6102e823580c9411a4414807910510026f74326c21c00d50cb1ca2278d5ee27213684d22b8206806a872c752f088810dd110ec7e36edef974dab12c82775f763f5918015983e4006d612617b7203c0026ef8bee372f8580b4417280b530938b6b10510026eff3f6d39a20780091b24b7bf5be6f29406c081b4212c1fb72cb2efde5c3be9cd37efebd94f356f63eef4b75a9308206c0a21072610d804521e47d1a00f32042081600f320e4c21600f320e47d1600b3208620786511bc3684d28650ba4b04ef4b308be0ddb70a02b2203c002617b7203c0026efb3202c001446401a441480c9c53588280093f769101e004a21786597f6ea7ddf521b42694328bd22200fc2fbed30bbb4fb2598bccfdb4f0b00e5cfedff09c842d0063039c85a5c2eac01b02884bc2fbadfbc30823580c941dae272610b807910f2beec7eb261085e5904af96fdfe43401a44cb10ad7b412000da104a13043487c80ef1bedcb208de976a763f2401908b80ac41728006c0a2101e008b42c8fd988b80a210728005c03c882800f320e47e6c0e80c2085e5904af2c42b43002ca42bc05040d002d22a00cc4bd232c012013014521b208de6f873d112c00d40d0159101e008b4244015033026a858802300fa227000a21a00c845516a1a508000a23a01e106b214401500a81b5608c46c83c9e5521a05a8891083500a81a018d80581b003521b01a0c0da206a0e5f1ac0b02abc1a8adc7e35957043612a3e7e3d91084792d28231e3d6f15847bef1f9b84bfac2c7eb9510000000049454e44ae426082","has_pwd":false,"path":"//Alice/westend","swiped":false,"multiselect":false},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "Swipe on Keys screen for Alice westend keys. Expected updated Keys screen, got:\n{}", real_json);
        
        let real_json = do_action("Swipe","013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34",""); // unswipe
        assert!(real_json == alice_westend_keys_json, "Unswipe on Keys screen for Alice westend keys. Expected known vanilla Keys screen for Alice westend keys, got:\n{}", real_json);
        
        do_action("Swipe","013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","");
        let real_json = do_action("Swipe","019cd20feb68e0535a6c1cdeead4601b652cf6af6d76baf370df26ee25adde0805",""); // swipe another
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"019cd20feb68e0535a6c1cdeead4601b652cf6af6d76baf370df26ee25adde0805","base58":"5FcKjDXS89U79cXvhksZ2pF5XBeafmSM8rqkDVoTHQcXd5Gq","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034c49444154789cedd9bd6d1b41108661aa04b200bb03278ed40d430736a05204d8814376a3c8893bb00b204ba0f703f10973e7b9f9d99f0305dd1bacb29dd9273a880fd7eb75f7de5b05e172b9540fd9eff70fe5cfd08620b43cda6b044a5784918f9fd713a30b42cde38f1f0fe59c76fa732e67ae1e184d08358f471a00ab81402d18d5082300d8da105508b500682402aa814821b43c9e8d4660198c30420f00b416028a4284103200874f2fe59c76fefd58ce5b59841ffbe7724efb7a792a67ac08848bd00ac0a2101e00eb09d10dc102601e44148045219a10a200288be0d5130159108b08190074ef0868094245c802a0b78080348830c2fed77339a75d3e3f95f35616e1f0f2bd9cd3ce8fdfca792b8be0edc742085100260759101e008b4278004ceec7e6102e823580c9411a4414807910510026f74326c21c00d50cb1ca2278d5ee27213684d22b8206806a872c752f088810dd110ec7e36edef974dab12c82775f763f5918015983e4006d612617b7203c0026ef8bee372f8580b4417280b530938b6b10510026eff3f6d39a20780091b24b7bf5be6f29406c081b4212c1fb72cb2efde5c3be9cd37efebd94f356f63eef4b75a9308206c0a21072610d804521e47d1a00f32042081600f320e4c21600f320e47d1600b3208620786511bc3684d28650ba4b04ef4b308be0ddb70a02b2203c002617b7203c0026efb3202c001446401a441480c9c53588280093f769101e004a21786597f6ea7ddf521b42694328bd22200fc2fbed30bbb4fb2598bccfdb4f0b00e5cfedff09c842d0063039c85a5c2eac01b02884bc2fbadfbc30823580c941dae272610b807910f2beec7eb261085e5904af96fdfe43401a44cb10ad7b412000da104a13043487c80ef1bedcb208de976a763f2401908b80ac41728006c0a2101e008b42c8fd988b80a210728005c03c882800f320e47e6c0e80c2085e5904af2c42b43002ca42bc05040d002d22a00cc4bd232c012013014521b208de6f873d112c00d40d0159101e008b4244015033026a858802300fa227000a21a00c845516a1a508000a23a01e106b214401500a81b5608c46c83c9e5521a05a8891083500a81a018d80581b003521b01a0c0da206a0e5f1ac0b02abc1a8adc7e35957043612a3e7e3d91084792d28231e3d6f15847bef1f9b84bfac2c7eb9510000000049454e44ae426082","has_pwd":false,"path":"//Alice/westend","swiped":true,"multiselect":false},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "Swipe on Keys screen on another key while first swiped key is still selected. Expected updated Keys screen, got:\n{}", real_json);
        
        let real_json = do_action("RemoveKey","",""); // remove swiped
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "RemoveKey on Keys screen with swiped key. Expected updated Keys screen, got:\n{}", real_json);
        
        // Note: after removal, stay on the Keys screen (previously went to log).
        
        do_action("Swipe","013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","");
        let real_json = do_action("Increment","2",""); // increment swiped `//westend`
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"0120c394d410893cac63d993fa71eb8247e6af9a29cda467e836efec678b9f6b7f","base58":"5CofVLAGjwvdGXvBiP6ddtZYMVbhT5Xke8ZrshUpj2ZXAnND","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034a49444154789cedd83d8e134110c57136227064c977704280c40920228318c9a7b3440c19119c008980c477b0e4c80191e927ebedf6ccf674bdea8f917777fe41399896daf5936c79f7ee72b9bc7ae9cd82703a9d8a2f59afd777e1a56b5d106a96b6ea81d214a1e7f2e35a62344128597ebb7a17e6b0c3f97798be5a605421942c8f5200ac0402d5601423f40060734314219402a09e08a804c28550b33ceb8dc03c1832420b00341702522124040fc097cd2ecc615f8ffb30af7911b63f56610e3b7c3c87a9a5409808b5004c85b000584b88660839006641a8004c85a84250019017c1aa2502ca414c227800d0ad23a02988248217003d050494829011accfb01761f3e9f1f9e3f787e75e84d4fdf17d4c425001980a11bfa1140053212c0016dfcbc61026420e805910f11bc901300b420560f1fd288b3006405e042b2f825509028a211684d03d420a003d57044488e608a925e3a552cfc7c5e7779bb7610edb1fff84796d16049483b00058bc987a2e05c054882900e4424029081580c50ba6cec7cf7300cc82c801a0018205a0945a6a5cbca49517a134402c080b8213c1fae5e645d8ecde8739ecb8ff15e6352fc2ebd536cc61ffce8730f3c9082900a64258004c85b00098052121e4009805a102300b42056039882e08565e04ab0521b420846e12c1fa0c7b1136bb37610e3beeff86796d16049483b000980a610130152207806404948250019805a102300bc202402e042b2f829517a1b40521b42084ee11900561fdbdee45482d192f957a3e2e3eff2df19df0d9f84e004078b9fe3f01e51052004c85b00058bc987a2e05c0721032420e8059102a008b174c9d8f9fe700d814443704abd452e3e225ad9a22a014c4734520005a104203043486f02258bfdcbc089b0f8fef3ffe7cb8af042106402602ca4158004c85b000980a3106402602522154006641a800cc825000908c60e545b0f222a8c908c80bf11410520068120179206e1d610a006511900ae145b03ec32d117200a81902ca4158004c855001503502aa8550019805d112004908c80391cb8b509302806404d402622e041500b910580d466f04cff2ac08019542f444280140c508a807c4dc00a80a819560a4204a006a96674d10580946692d96674d11584f8c96cbb32e08e36a507a2c3d6e16845bef3f9a9cbfac1abb43b20000000049454e44ae426082","has_pwd":false,"path":"//westend//1","swiped":false,"multiselect":false},{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false},{"address_key":"01e655361d12f3ccca5f128187cf3f5eea052be722746e392c8b498d0d18723470","base58":"5HGiBcFgEBMgT6GEuo9SA98sBnGgwHtPKDXiUukT6aqCrKEx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000031749444154789cedda316e1351148561b201a471e9963da4a2a067071112f21652534c419d2d5848283ba0a7a0ca1e685d7a243660ee91751266327ef7dc37ef8d6c337f7152c49275bfc2b26cdf1c0e8737ff7bb320745d97fd244dd3dcd89faa55419872b4570d94a208358f1f5612a30842cef1ebbbc6b6dfeeb1b38d5502631242cef1680c80e540a02918d9083500d8dc105908b900a82602ca8108214c399ed54660110c19a104009a0b01a91012420460f5f4ddb6dffef693edb12842b3fe62dbafdb7db5d552205c84a9004c85f00058498862082900e641a8004c859884a002a0288257490494823889100140e78e804e418c224401d02520a031081961f37e65db6ffb6b6f7b2c8ab06eee6cfbedba47db635184d5d367db7efbdb6fb6fd24041580a9101e0053213c00a640b8082900e641a800cc835001d81022893004405104af2882570e02fa176241b09e11c600d0b5222042144768d7afdf09b6bb9777825184e6e1ad6dbfeefe8fedb15910500ac20360ad08e1013015e214000a21a031081580b50e840ac03c881400ea2178004a6d10c12b8a901b20168405c19e2782b0fab8b1edb7ffb1b53d1645f8fdf0faf1efee5ffe1f45f8b059d9f6fbb9dddba69311c600980ae1013015c203601e84849002601e840ac03c081580a520aa20784511bc16046b41b0ce12e12a5f13500ac203602a8407c0548814009211d018840ac03c08158079101e000a21784511bca208b92d08d682603d23200fe2ea3f4f4029843100a642b40e0053213c00968290115200cc83684500e641a800ec14443504af2882575104340671ad0804400b82d54340438828c2c57f178986082805e1013015c203602ac41000b908488550019807a102300f42014032825714c12b8aa02623a028c425208c01a09308280271ee08a700501201a91051848bf91d235211500ac203602a840a802623a0a9102a00f3204a022009014520524511a6a4002019019580980b41054021043605a33642e47896858072216a22e400a06c045403626e00340981e5608c41e4004c399e1541603918b995389e15456035314a1ecfaa200c9b8252e3e861b3209c7b7f01189cbfacc503dd680000000049454e44ae426082","has_pwd":false,"path":"//westend//0","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "Increment on Keys screen with swiped key. Expected updated Keys screen, got:\n{}", real_json);
        
        do_action("Swipe","013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","");
        let real_json = do_action("Increment","1",""); // increment swiped `//westend` again
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"0120c394d410893cac63d993fa71eb8247e6af9a29cda467e836efec678b9f6b7f","base58":"5CofVLAGjwvdGXvBiP6ddtZYMVbhT5Xke8ZrshUpj2ZXAnND","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034a49444154789cedd83d8e134110c57136227064c977704280c40920228318c9a7b3440c19119c008980c477b0e4c80191e927ebedf6ccf674bdea8f917777fe41399896daf5936c79f7ee72b9bc7ae9cd82703a9d8a2f59afd777e1a56b5d106a96b6ea81d214a1e7f2e35a62344128597ebb7a17e6b0c3f97798be5a605421942c8f5200ac0402d5601423f40060734314219402a09e08a804c28550b33ceb8dc03c1832420b00341702522124040fc097cd2ecc615f8ffb30af7911b63f56610e3b7c3c87a9a5409808b5004c85b000584b88660839006641a8004c85a84250019017c1aa2502ca414c227800d0ad23a02988248217003d050494829011accfb01761f3e9f1f9e3f787e75e84d4fdf17d4c425001980a11bfa1140053212c0016dfcbc61026420e805910f11bc901300b420560f1fd288b3006405e042b2f825509028a211684d03d420a003d57044488e608a925e3a552cfc7c5e7779bb7610edb1fff84796d16049483b00058bc987a2e05c054882900e4424029081580c50ba6cec7cf7300cc82c801a0018205a0945a6a5cbca49517a134402c080b8213c1fae5e645d8ecde8739ecb8ff15e6352fc2ebd536cc61ffce8730f3c9082900a64258004c85b00098052121e4009805a102300b42056039882e08565e04ab0521b420846e12c1fa0c7b1136bb37610e3beeff86796d16049483b000980a610130152207806404948250019805a102300bc202402e042b2f829517a1b40521b42084ee11900561fdbdee45482d192f957a3e2e3eff2df19df0d9f84e004078b9fe3f01e51052004c85b00058bc987a2e05c0721032420e8059102a008b174c9d8f9fe700d814443704abd452e3e225ad9a22a014c4734520005a104203043486f02258bfdcbc089b0f8fef3ffe7cb8af042106402602ca4158004c85b000980a3106402602522154006641a800cc825000908c60e545b0f222a8c908c80bf11410520068120179206e1d610a006511900ae145b03ec32d117200a81902ca4158004c855001503502aa8550019805d112004908c80391cb8b509302806404d402622e041500b910580d466f04cff2ac08019542f444280140c508a807c4dc00a80a819560a4204a006a96674d10580946692d96674d11584f8c96cbb32e08e36a507a2c3d6e16845bef3f9a9cbfac1abb43b20000000049454e44ae426082","has_pwd":false,"path":"//westend//1","swiped":false,"multiselect":false},{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"014e384fb30994d520094dce42086dbdd4977c11fb2f2cf9ca1c80056684934b08","base58":"5DqGKX9v7uR92EvmNNmiETZ9PcDBrg2YRYukGhzXHEkKmpfx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000032549444154789cedda3d6a1b5114c57169030635814036e03a598021900d887441cb489105a4c83244baa00d04025e40527b0381401a8137a0bc837cec99c99b77cf7d1f8324cfbfb82eefbbbfc285a4e5e170583cf72641d8eff7d94b56abd532fc695a138492a3ad5aa054456879fcb09a185510728eff7e731f66bf77b75761faaa81518490733c8a01b01c085482918dd002804d0d9185900b805a22a01c081742c9f1ac3502f360c8083500d05408488590103c003fee6f16c3de5edd2e9817e1f3ee3acc7e9fd677616a29102642290053212c005613a21a420a8059102a0053218a105400e445b0aa89805210a3081e0074ea08680c228ae00540e78080621032c2f657188336afc378c88bb0fbfaff91eb0f4f47791162fbbbfb9884a0023015a2fba0180053212c00d6ddcb861026420a805910dd87a4009805a102b0ee7e94441802202f829517c12a070175216684d023420c005d2a0222447584c3621b66bfe56213e6312fc2abf76fc2ecf7fbdbcf308f4d82805210160053212c00a6428c012017028a41a800cc82500198059102403d040b40c98b60e545c80d1033c28ce044b8feb20bb3dfddc77598c7bc08db3f610cdabc0ce3212fc2dfc8fa174feb46931162004c85b000980a6101300b42424801300b42056016840ac052104d10acbc085633426846089d24c245fe4f4029080b80a9101600532152004846403108158059102a00b3202c00e442b0f222587911729b11423342e81101591017ff79024a21c400980a61013015c202602908192105c02c08158059102a001b83688660e545b0aa8a806210978a40003423847a086808e145883daafb082fc2e4df45a221024a415800acfb90148405c05488ee5e66222015420560dd07c5205400664174f7b121009211ac628f18167bd4585e043519017921ce0121068046119007e2d411c600501201a9105e84b3f91d235211500ac202602a840a808a115029840ac02c889a004842401e88545e849214002423a01a105321a800c885c04a305a23788e6759082817a225420e00ca46402d20a6064045082c072306910350723cab82c0723072ab713cab8ac05a62d43c9e3541185682d2e2e86193209c7aff00d05e89ac34e7e33a0000000049454e44ae426082","has_pwd":false,"path":"//westend//2","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false},{"address_key":"01e655361d12f3ccca5f128187cf3f5eea052be722746e392c8b498d0d18723470","base58":"5HGiBcFgEBMgT6GEuo9SA98sBnGgwHtPKDXiUukT6aqCrKEx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000031749444154789cedda316e1351148561b201a471e9963da4a2a067071112f21652534c419d2d5848283ba0a7a0ca1e685d7a243660ee91751266327ef7dc37ef8d6c337f7152c49275bfc2b26cdf1c0e8737ff7bb320745d97fd244dd3dcd89faa55419872b4570d94a208358f1f5612a30842cef1ebbbc6b6dfeeb1b38d5502631242cef1680c80e540a02918d9083500d8dc105908b900a82602ca8108214c399ed54660110c19a104009a0b01a91012420460f5f4ddb6dffef693edb12842b3fe62dbafdb7db5d552205c84a9004c85f00058498862082900e641a8004c859884a002a0288257490494823889100140e78e804e418c224401d02520a031081961f37e65db6ffb6b6f7b2c8ab06eee6cfbedba47db635184d5d367db7efbdb6fb6fd24041580a9101e0053213c00a640b8082900e641a800cc835001d81022893004405104af2882570e02fa176241b09e11c600d0b5222042144768d7afdf09b6bb9777825184e6e1ad6dbfeefe8fedb15910500ac20360ad08e1013015e214000a21a031081580b50e840ac03c881400ea2178004a6d10c12b8a901b20168405c19e2782b0fab8b1edb7ffb1b53d1645f8fdf0faf1efee5ffe1f45f8b059d9f6fbb9dddba69311c600980ae1013015c203601e84849002601e840ac03c081580a520aa20784511bc16046b41b0ce12e12a5f13500ac203602a8407c0548814009211d018840ac03c08158079101e000a21784511bca208b92d08d682603d23200fe2ea3f4f4029843100a642b40e0053213c00968290115200cc83684500e641a800ec14443504af2882575104340671ad0804400b82d54340438828c2c57f178986082805e1013015c203602ac41000b908488550019807a102300f42014032825714c12b8aa02623a028c425208c01a09308280271ee08a700501201a91051848bf91d235211500ac203602a840a802623a0a9102a00f3204a022009014520524511a6a4002019019580980b41054021043605a33642e47896858072216a22e400a06c045403626e00340981e5608c41e4004c399e1541603918b995389e15456035314a1ecfaa200c9b8252e3e861b3209c7b7f01189cbfacc503dd680000000049454e44ae426082","has_pwd":false,"path":"//westend//0","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "Increment on Keys screen with swiped key. Expected updated Keys screen, got:\n{}", real_json);
        
        let real_json = do_action("LongTap","018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e",""); // enter multi regime with LongTap
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"MultiSelect","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"0120c394d410893cac63d993fa71eb8247e6af9a29cda467e836efec678b9f6b7f","base58":"5CofVLAGjwvdGXvBiP6ddtZYMVbhT5Xke8ZrshUpj2ZXAnND","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034a49444154789cedd83d8e134110c57136227064c977704280c40920228318c9a7b3440c19119c008980c477b0e4c80191e927ebedf6ccf674bdea8f917777fe41399896daf5936c79f7ee72b9bc7ae9cd82703a9d8a2f59afd777e1a56b5d106a96b6ea81d214a1e7f2e35a62344128597ebb7a17e6b0c3f97798be5a605421942c8f5200ac0402d5601423f40060734314219402a09e08a804c28550b33ceb8dc03c1832420b00341702522124040fc097cd2ecc615f8ffb30af7911b63f56610e3b7c3c87a9a5409808b5004c85b000584b88660839006641a8004c85a84250019017c1aa2502ca414c227800d0ad23a02988248217003d050494829011accfb01761f3e9f1f9e3f787e75e84d4fdf17d4c425001980a11bfa1140053212c0016dfcbc61026420e805910f11bc901300b420560f1fd288b3006405e042b2f825509028a211684d03d420a003d57044488e608a925e3a552cfc7c5e7779bb7610edb1fff84796d16049483b00058bc987a2e05c054882900e4424029081580c50ba6cec7cf7300cc82c801a0018205a0945a6a5cbca49517a134402c080b8213c1fae5e645d8ecde8739ecb8ff15e6352fc2ebd536cc61ffce8730f3c9082900a64258004c85b00098052121e4009805a102300b42056039882e08565e04ab0521b420846e12c1fa0c7b1136bb37610e3beeff86796d16049483b000980a610130152207806404948250019805a102300bc202402e042b2f829517a1b40521b42084ee11900561fdbdee45482d192f957a3e2e3eff2df19df0d9f84e004078b9fe3f01e51052004c85b00058bc987a2e05c0721032420e8059102a008b174c9d8f9fe700d814443704abd452e3e225ad9a22a014c4734520005a104203043486f02258bfdcbc089b0f8fef3ffe7cb8af042106402602ca4158004c85b000980a3106402602522154006641a800cc825000908c60e545b0f222a8c908c80bf11410520068120179206e1d610a006511900ae145b03ec32d117200a81902ca4158004c855001503502aa8550019805d112004908c80391cb8b509302806404d402622e041500b910580d466f04cff2ac08019542f444280140c508a807c4dc00a80a819560a4204a006a96674d10580946692d96674d11584f8c96cbb32e08e36a507a2c3d6e16845bef3f9a9cbfac1abb43b20000000049454e44ae426082","has_pwd":false,"path":"//westend//1","swiped":false,"multiselect":false},{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"014e384fb30994d520094dce42086dbdd4977c11fb2f2cf9ca1c80056684934b08","base58":"5DqGKX9v7uR92EvmNNmiETZ9PcDBrg2YRYukGhzXHEkKmpfx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000032549444154789cedda3d6a1b5114c57169030635814036e03a598021900d887441cb489105a4c83244baa00d04025e40527b0381401a8137a0bc837cec99c99b77cf7d1f8324cfbfb82eefbbbfc285a4e5e170583cf72641d8eff7d94b56abd532fc695a138492a3ad5aa054456879fcb09a185510728eff7e731f66bf77b75761faaa81518490733c8a01b01c085482918dd002804d0d9185900b805a22a01c081742c9f1ac3502f360c8083500d05408488590103c003fee6f16c3de5edd2e9817e1f3ee3acc7e9fd677616a29102642290053212c005613a21a420a8059102a0053218a105400e445b0aa89805210a3081e0074ea08680c228ae00540e78080621032c2f657188336afc378c88bb0fbfaff91eb0f4f47791162fbbbfb9884a0023015a2fba0180053212c00d6ddcb861026420a805910dd87a4009805a102b0ee7e94441802202f829517c12a070175216684d023420c005d2a0222447584c3621b66bfe56213e6312fc2abf76fc2ecf7fbdbcf308f4d82805210160053212c00a6428c012017028a41a800cc82500198059102403d040b40c98b60e545c80d1033c28ce044b8feb20bb3dfddc77598c7bc08db3f610cdabc0ce3212fc2dfc8fa174feb46931162004c85b000980a6101300b42424801300b42056016840ac052104d10acbc085633426846089d24c245fe4f4029080b80a9101600532152004846403108158059102a00b3202c00e442b0f222587911729b11423342e81101591017ff79024a21c400980a61013015c202602908192105c02c08158059102a001b83688660e545b0aa8a806210978a40003423847a086808e145883daafb082fc2e4df45a221024a415800acfb90148405c05488ee5e66222015420560dd07c5205400664174f7b121009211ac628f18167bd4585e043519017921ce0121068046119007e2d411c600501201a9105e84b3f91d235211500ac202602a840a808a115029840ac02c889a004842401e88545e849214002423a01a105321a800c885c04a305a23788e6759082817a225420e00ca46402d20a6064045082c072306910350723cab82c0723072ab713cab8ac05a62d43c9e3541185682d2e2e86193209c7aff00d05e89ac34e7e33a0000000049454e44ae426082","has_pwd":false,"path":"//westend//2","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":true},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false},{"address_key":"01e655361d12f3ccca5f128187cf3f5eea052be722746e392c8b498d0d18723470","base58":"5HGiBcFgEBMgT6GEuo9SA98sBnGgwHtPKDXiUukT6aqCrKEx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000031749444154789cedda316e1351148561b201a471e9963da4a2a067071112f21652534c419d2d5848283ba0a7a0ca1e685d7a243660ee91751266327ef7dc37ef8d6c337f7152c49275bfc2b26cdf1c0e8737ff7bb320745d97fd244dd3dcd89faa55419872b4570d94a208358f1f5612a30842cef1ebbbc6b6dfeeb1b38d5502631242cef1680c80e540a02918d9083500d8dc105908b900a82602ca8108214c399ed54660110c19a104009a0b01a91012420460f5f4ddb6dffef693edb12842b3fe62dbafdb7db5d552205c84a9004c85f00058498862082900e641a8004c859884a002a0288257490494823889100140e78e804e418c224401d02520a031081961f37e65db6ffb6b6f7b2c8ab06eee6cfbedba47db635184d5d367db7efbdb6fb6fd24041580a9101e0053213c00a640b8082900e641a800cc835001d81022893004405104af2882570e02fa176241b09e11c600d0b5222042144768d7afdf09b6bb9777825184e6e1ad6dbfeefe8fedb15910500ac20360ad08e1013015e214000a21a031081580b50e840ac03c881400ea2178004a6d10c12b8a901b20168405c19e2782b0fab8b1edb7ffb1b53d1645f8fdf0faf1efee5ffe1f45f8b059d9f6fbb9dddba69311c600980ae1013015c203601e84849002601e840ac03c081580a520aa20784511bc16046b41b0ce12e12a5f13500ac203602a8407c0548814009211d018840ac03c08158079101e000a21784511bca208b92d08d682603d23200fe2ea3f4f4029843100a642b40e0053213c00968290115200cc83684500e641a800ec14443504af2882575104340671ad0804400b82d54340438828c2c57f178986082805e1013015c203602ac41000b908488550019807a102300f42014032825714c12b8aa02623a028c425208c01a09308280271ee08a700501201a91051848bf91d235211500ac203602a840a802623a0a9102a00f3204a022009014520524511a6a4002019019580980b41054021043605a33642e47896858072216a22e400a06c045403626e00340981e5608c41e4004c399e1541603918b995389e15456035314a1ecfaa200c9b8252e3e861b3209c7b7f01189cbfacc503dd680000000049454e44ae426082","has_pwd":false,"path":"//westend//0","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":true,"multiselect_count":"1"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "LongTap on Keys screen. Expected updated Keys screen, got:\n{}", real_json);
        
        let real_json = do_action("SelectKey","012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972",""); // select by SelectKey in multi
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"MultiSelect","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"0120c394d410893cac63d993fa71eb8247e6af9a29cda467e836efec678b9f6b7f","base58":"5CofVLAGjwvdGXvBiP6ddtZYMVbhT5Xke8ZrshUpj2ZXAnND","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034a49444154789cedd83d8e134110c57136227064c977704280c40920228318c9a7b3440c19119c008980c477b0e4c80191e927ebedf6ccf674bdea8f917777fe41399896daf5936c79f7ee72b9bc7ae9cd82703a9d8a2f59afd777e1a56b5d106a96b6ea81d214a1e7f2e35a62344128597ebb7a17e6b0c3f97798be5a605421942c8f5200ac0402d5601423f40060734314219402a09e08a804c28550b33ceb8dc03c1832420b00341702522124040fc097cd2ecc615f8ffb30af7911b63f56610e3b7c3c87a9a5409808b5004c85b000584b88660839006641a8004c85a84250019017c1aa2502ca414c227800d0ad23a02988248217003d050494829011accfb01761f3e9f1f9e3f787e75e84d4fdf17d4c425001980a11bfa1140053212c0016dfcbc61026420e805910f11bc901300b420560f1fd288b3006405e042b2f825509028a211684d03d420a003d57044488e608a925e3a552cfc7c5e7779bb7610edb1fff84796d16049483b00058bc987a2e05c054882900e4424029081580c50ba6cec7cf7300cc82c801a0018205a0945a6a5cbca49517a134402c080b8213c1fae5e645d8ecde8739ecb8ff15e6352fc2ebd536cc61ffce8730f3c9082900a64258004c85b00098052121e4009805a102300b42056039882e08565e04ab0521b420846e12c1fa0c7b1136bb37610e3beeff86796d16049483b000980a610130152207806404948250019805a102300bc202402e042b2f829517a1b40521b42084ee11900561fdbdee45482d192f957a3e2e3eff2df19df0d9f84e004078b9fe3f01e51052004c85b00058bc987a2e05c0721032420e8059102a008b174c9d8f9fe700d814443704abd452e3e225ad9a22a014c4734520005a104203043486f02258bfdcbc089b0f8fef3ffe7cb8af042106402602ca4158004c85b000980a3106402602522154006641a800cc825000908c60e545b0f222a8c908c80bf11410520068120179206e1d610a006511900ae145b03ec32d117200a81902ca4158004c855001503502aa8550019805d112004908c80391cb8b509302806404d402622e041500b910580d466f04cff2ac08019542f444280140c508a807c4dc00a80a819560a4204a006a96674d10580946692d96674d11584f8c96cbb32e08e36a507a2c3d6e16845bef3f9a9cbfac1abb43b20000000049454e44ae426082","has_pwd":false,"path":"//westend//1","swiped":false,"multiselect":false},{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":true},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"014e384fb30994d520094dce42086dbdd4977c11fb2f2cf9ca1c80056684934b08","base58":"5DqGKX9v7uR92EvmNNmiETZ9PcDBrg2YRYukGhzXHEkKmpfx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000032549444154789cedda3d6a1b5114c57169030635814036e03a598021900d887441cb489105a4c83244baa00d04025e40527b0381401a8137a0bc837cec99c99b77cf7d1f8324cfbfb82eefbbbfc285a4e5e170583cf72641d8eff7d94b56abd532fc695a138492a3ad5aa054456879fcb09a185510728eff7e731f66bf77b75761faaa81518490733c8a01b01c085482918dd002804d0d9185900b805a22a01c081742c9f1ac3502f360c8083500d05408488590103c003fee6f16c3de5edd2e9817e1f3ee3acc7e9fd677616a29102642290053212c005613a21a420a8059102a0053218a105400e445b0aa89805210a3081e0074ea08680c228ae00540e78080621032c2f657188336afc378c88bb0fbfaff91eb0f4f47791162fbbbfb9884a0023015a2fba0180053212c00d6ddcb861026420a805910dd87a4009805a102b0ee7e94441802202f829517c12a070175216684d023420c005d2a0222447584c3621b66bfe56213e6312fc2abf76fc2ecf7fbdbcf308f4d82805210160053212c00a6428c012017028a41a800cc82500198059102403d040b40c98b60e545c80d1033c28ce044b8feb20bb3dfddc77598c7bc08db3f610cdabc0ce3212fc2dfc8fa174feb46931162004c85b000980a6101300b42424801300b42056016840ac052104d10acbc085633426846089d24c245fe4f4029080b80a9101600532152004846403108158059102a00b3202c00e442b0f222587911729b11423342e81101591017ff79024a21c400980a61013015c202602908192105c02c08158059102a001b83688660e545b0aa8a806210978a40003423847a086808e145883daafb082fc2e4df45a221024a415800acfb90148405c05488ee5e66222015420560dd07c5205400664174f7b121009211ac628f18167bd4585e043519017921ce0121068046119007e2d411c600501201a9105e84b3f91d235211500ac202602a840a808a115029840ac02c889a004842401e88545e849214002423a01a105321a800c885c04a305a23788e6759082817a225420e00ca46402d20a6064045082c072306910350723cab82c0723072ab713cab8ac05a62d43c9e3541185682d2e2e86193209c7aff00d05e89ac34e7e33a0000000049454e44ae426082","has_pwd":false,"path":"//westend//2","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":true},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false},{"address_key":"01e655361d12f3ccca5f128187cf3f5eea052be722746e392c8b498d0d18723470","base58":"5HGiBcFgEBMgT6GEuo9SA98sBnGgwHtPKDXiUukT6aqCrKEx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000031749444154789cedda316e1351148561b201a471e9963da4a2a067071112f21652534c419d2d5848283ba0a7a0ca1e685d7a243660ee91751266327ef7dc37ef8d6c337f7152c49275bfc2b26cdf1c0e8737ff7bb320745d97fd244dd3dcd89faa55419872b4570d94a208358f1f5612a30842cef1ebbbc6b6dfeeb1b38d5502631242cef1680c80e540a02918d9083500d8dc105908b900a82602ca8108214c399ed54660110c19a104009a0b01a91012420460f5f4ddb6dffef693edb12842b3fe62dbafdb7db5d552205c84a9004c85f00058498862082900e641a8004c859884a002a0288257490494823889100140e78e804e418c224401d02520a031081961f37e65db6ffb6b6f7b2c8ab06eee6cfbedba47db635184d5d367db7efbdb6fb6fd24041580a9101e0053213c00a640b8082900e641a800cc835001d81022893004405104af2882570e02fa176241b09e11c600d0b5222042144768d7afdf09b6bb9777825184e6e1ad6dbfeefe8fedb15910500ac20360ad08e1013015e214000a21a031081580b50e840ac03c881400ea2178004a6d10c12b8a901b20168405c19e2782b0fab8b1edb7ffb1b53d1645f8fdf0faf1efee5ffe1f45f8b059d9f6fbb9dddba69311c600980ae1013015c203601e84849002601e840ac03c081580a520aa20784511bc16046b41b0ce12e12a5f13500ac203602a8407c0548814009211d018840ac03c08158079101e000a21784511bca208b92d08d682603d23200fe2ea3f4f4029843100a642b40e0053213c00968290115200cc83684500e641a800ec14443504af2882575104340671ad0804400b82d54340438828c2c57f178986082805e1013015c203602ac41000b908488550019807a102300f42014032825714c12b8aa02623a028c425208c01a09308280271ee08a700501201a91051848bf91d235211500ac203602a840a802623a0a9102a00f3204a022009014520524511a6a4002019019580980b41054021043605a33642e47896858072216a22e400a06c045403626e00340981e5608c41e4004c399e1541603918b995389e15456035314a1ecfaa200c9b8252e3e861b3209c7b7f01189cbfacc503dd680000000049454e44ae426082","has_pwd":false,"path":"//westend//0","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":true,"multiselect_count":"2"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SelectKey on Keys screen in multiselect mode. Expected updated Keys screen, got:\n{}", real_json);
        
        let real_json = do_action("SelectKey","012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972",""); // deselect by SelectKey in multi
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"MultiSelect","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"0120c394d410893cac63d993fa71eb8247e6af9a29cda467e836efec678b9f6b7f","base58":"5CofVLAGjwvdGXvBiP6ddtZYMVbhT5Xke8ZrshUpj2ZXAnND","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034a49444154789cedd83d8e134110c57136227064c977704280c40920228318c9a7b3440c19119c008980c477b0e4c80191e927ebedf6ccf674bdea8f917777fe41399896daf5936c79f7ee72b9bc7ae9cd82703a9d8a2f59afd777e1a56b5d106a96b6ea81d214a1e7f2e35a62344128597ebb7a17e6b0c3f97798be5a605421942c8f5200ac0402d5601423f40060734314219402a09e08a804c28550b33ceb8dc03c1832420b00341702522124040fc097cd2ecc615f8ffb30af7911b63f56610e3b7c3c87a9a5409808b5004c85b000584b88660839006641a8004c85a84250019017c1aa2502ca414c227800d0ad23a02988248217003d050494829011accfb01761f3e9f1f9e3f787e75e84d4fdf17d4c425001980a11bfa1140053212c0016dfcbc61026420e805910f11bc901300b420560f1fd288b3006405e042b2f825509028a211684d03d420a003d57044488e608a925e3a552cfc7c5e7779bb7610edb1fff84796d16049483b00058bc987a2e05c054882900e4424029081580c50ba6cec7cf7300cc82c801a0018205a0945a6a5cbca49517a134402c080b8213c1fae5e645d8ecde8739ecb8ff15e6352fc2ebd536cc61ffce8730f3c9082900a64258004c85b00098052121e4009805a102300b42056039882e08565e04ab0521b420846e12c1fa0c7b1136bb37610e3beeff86796d16049483b000980a610130152207806404948250019805a102300bc202402e042b2f829517a1b40521b42084ee11900561fdbdee45482d192f957a3e2e3eff2df19df0d9f84e004078b9fe3f01e51052004c85b00058bc987a2e05c0721032420e8059102a008b174c9d8f9fe700d814443704abd452e3e225ad9a22a014c4734520005a104203043486f02258bfdcbc089b0f8fef3ffe7cb8af042106402602ca4158004c85b000980a3106402602522154006641a800cc825000908c60e545b0f222a8c908c80bf11410520068120179206e1d610a006511900ae145b03ec32d117200a81902ca4158004c855001503502aa8550019805d112004908c80391cb8b509302806404d402622e041500b910580d466f04cff2ac08019542f444280140c508a807c4dc00a80a819560a4204a006a96674d10580946692d96674d11584f8c96cbb32e08e36a507a2c3d6e16845bef3f9a9cbfac1abb43b20000000049454e44ae426082","has_pwd":false,"path":"//westend//1","swiped":false,"multiselect":false},{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"014e384fb30994d520094dce42086dbdd4977c11fb2f2cf9ca1c80056684934b08","base58":"5DqGKX9v7uR92EvmNNmiETZ9PcDBrg2YRYukGhzXHEkKmpfx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000032549444154789cedda3d6a1b5114c57169030635814036e03a598021900d887441cb489105a4c83244baa00d04025e40527b0381401a8137a0bc837cec99c99b77cf7d1f8324cfbfb82eefbbbfc285a4e5e170583cf72641d8eff7d94b56abd532fc695a138492a3ad5aa054456879fcb09a185510728eff7e731f66bf77b75761faaa81518490733c8a01b01c085482918dd002804d0d9185900b805a22a01c081742c9f1ac3502f360c8083500d05408488590103c003fee6f16c3de5edd2e9817e1f3ee3acc7e9fd677616a29102642290053212c005613a21a420a8059102a0053218a105400e445b0aa89805210a3081e0074ea08680c228ae00540e78080621032c2f657188336afc378c88bb0fbfaff91eb0f4f47791162fbbbfb9884a0023015a2fba0180053212c00d6ddcb861026420a805910dd87a4009805a102b0ee7e94441802202f829517c12a070175216684d023420c005d2a0222447584c3621b66bfe56213e6312fc2abf76fc2ecf7fbdbcf308f4d82805210160053212c00a6428c012017028a41a800cc82500198059102403d040b40c98b60e545c80d1033c28ce044b8feb20bb3dfddc77598c7bc08db3f610cdabc0ce3212fc2dfc8fa174feb46931162004c85b000980a6101300b42424801300b42056016840ac052104d10acbc085633426846089d24c245fe4f4029080b80a9101600532152004846403108158059102a00b3202c00e442b0f222587911729b11423342e81101591017ff79024a21c400980a61013015c202602908192105c02c08158059102a001b83688660e545b0aa8a806210978a40003423847a086808e145883daafb082fc2e4df45a221024a415800acfb90148405c05488ee5e66222015420560dd07c5205400664174f7b121009211ac628f18167bd4585e043519017921ce0121068046119007e2d411c600501201a9105e84b3f91d235211500ac202602a840a808a115029840ac02c889a004842401e88545e849214002423a01a105321a800c885c04a305a23788e6759082817a225420e00ca46402d20a6064045082c072306910350723cab82c0723072ab713cab8ac05a62d43c9e3541185682d2e2e86193209c7aff00d05e89ac34e7e33a0000000049454e44ae426082","has_pwd":false,"path":"//westend//2","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":true},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false},{"address_key":"01e655361d12f3ccca5f128187cf3f5eea052be722746e392c8b498d0d18723470","base58":"5HGiBcFgEBMgT6GEuo9SA98sBnGgwHtPKDXiUukT6aqCrKEx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000031749444154789cedda316e1351148561b201a471e9963da4a2a067071112f21652534c419d2d5848283ba0a7a0ca1e685d7a243660ee91751266327ef7dc37ef8d6c337f7152c49275bfc2b26cdf1c0e8737ff7bb320745d97fd244dd3dcd89faa55419872b4570d94a208358f1f5612a30842cef1ebbbc6b6dfeeb1b38d5502631242cef1680c80e540a02918d9083500d8dc105908b900a82602ca8108214c399ed54660110c19a104009a0b01a91012420460f5f4ddb6dffef693edb12842b3fe62dbafdb7db5d552205c84a9004c85f00058498862082900e641a8004c859884a002a0288257490494823889100140e78e804e418c224401d02520a031081961f37e65db6ffb6b6f7b2c8ab06eee6cfbedba47db635184d5d367db7efbdb6fb6fd24041580a9101e0053213c00a640b8082900e641a800cc835001d81022893004405104af2882570e02fa176241b09e11c600d0b5222042144768d7afdf09b6bb9777825184e6e1ad6dbfeefe8fedb15910500ac20360ad08e1013015e214000a21a031081580b50e840ac03c881400ea2178004a6d10c12b8a901b20168405c19e2782b0fab8b1edb7ffb1b53d1645f8fdf0faf1efee5ffe1f45f8b059d9f6fbb9dddba69311c600980ae1013015c203601e84849002601e840ac03c081580a520aa20784511bc16046b41b0ce12e12a5f13500ac203602a8407c0548814009211d018840ac03c08158079101e000a21784511bca208b92d08d682603d23200fe2ea3f4f4029843100a642b40e0053213c00968290115200cc83684500e641a800ec14443504af2882575104340671ad0804400b82d54340438828c2c57f178986082805e1013015c203602ac41000b908488550019807a102300f42014032825714c12b8aa02623a028c425208c01a09308280271ee08a700501201a91051848bf91d235211500ac203602a840a802623a0a9102a00f3204a022009014520524511a6a4002019019580980b41054021043605a33642e47896858072216a22e400a06c045403626e00340981e5608c41e4004c399e1541603918b995389e15456035314a1ecfaa200c9b8252e3e861b3209c7b7f01189cbfacc503dd680000000049454e44ae426082","has_pwd":false,"path":"//westend//0","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":true,"multiselect_count":"1"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SelectKey on Keys screen in multiselect mode. Expected updated Keys screen, got:\n{}", real_json);
        
        let real_json = do_action("LongTap","018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e",""); // deselect by LongTap in multi
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"MultiSelect","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"0120c394d410893cac63d993fa71eb8247e6af9a29cda467e836efec678b9f6b7f","base58":"5CofVLAGjwvdGXvBiP6ddtZYMVbhT5Xke8ZrshUpj2ZXAnND","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034a49444154789cedd83d8e134110c57136227064c977704280c40920228318c9a7b3440c19119c008980c477b0e4c80191e927ebedf6ccf674bdea8f917777fe41399896daf5936c79f7ee72b9bc7ae9cd82703a9d8a2f59afd777e1a56b5d106a96b6ea81d214a1e7f2e35a62344128597ebb7a17e6b0c3f97798be5a605421942c8f5200ac0402d5601423f40060734314219402a09e08a804c28550b33ceb8dc03c1832420b00341702522124040fc097cd2ecc615f8ffb30af7911b63f56610e3b7c3c87a9a5409808b5004c85b000584b88660839006641a8004c85a84250019017c1aa2502ca414c227800d0ad23a02988248217003d050494829011accfb01761f3e9f1f9e3f787e75e84d4fdf17d4c425001980a11bfa1140053212c0016dfcbc61026420e805910f11bc901300b420560f1fd288b3006405e042b2f825509028a211684d03d420a003d57044488e608a925e3a552cfc7c5e7779bb7610edb1fff84796d16049483b00058bc987a2e05c054882900e4424029081580c50ba6cec7cf7300cc82c801a0018205a0945a6a5cbca49517a134402c080b8213c1fae5e645d8ecde8739ecb8ff15e6352fc2ebd536cc61ffce8730f3c9082900a64258004c85b00098052121e4009805a102300b42056039882e08565e04ab0521b420846e12c1fa0c7b1136bb37610e3beeff86796d16049483b000980a610130152207806404948250019805a102300bc202402e042b2f829517a1b40521b42084ee11900561fdbdee45482d192f957a3e2e3eff2df19df0d9f84e004078b9fe3f01e51052004c85b00058bc987a2e05c0721032420e8059102a008b174c9d8f9fe700d814443704abd452e3e225ad9a22a014c4734520005a104203043486f02258bfdcbc089b0f8fef3ffe7cb8af042106402602ca4158004c85b000980a3106402602522154006641a800cc825000908c60e545b0f222a8c908c80bf11410520068120179206e1d610a006511900ae145b03ec32d117200a81902ca4158004c855001503502aa8550019805d112004908c80391cb8b509302806404d402622e041500b910580d466f04cff2ac08019542f444280140c508a807c4dc00a80a819560a4204a006a96674d10580946692d96674d11584f8c96cbb32e08e36a507a2c3d6e16845bef3f9a9cbfac1abb43b20000000049454e44ae426082","has_pwd":false,"path":"//westend//1","swiped":false,"multiselect":false},{"address_key":"012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","base58":"5D34dL5prEUaGNQtPPZ3yN5Y6BnkfXunKXXz6fo7ZJbLwRRH","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035649444154789cedd92d6e1c411086e118f800cbcc2cf904413984830c021c9c9c2ac13108308a0f119413583233db03186cfad3eab36a2635f5d33fa3b5322f68b3aeea078dbc6787c3e1ddffde2a08fbfdbe7ac86eb73b2b7f863604a1e5d15e2350ba228c7cfcbc9e185d106a1e7f797355ce694ff78fe5ccd503a309a1e6f14803603510a805a31a6104005b1ba20aa116008d44403510298496c7b3d1082c831146e80180d642405188104206e0faf97b39a73d5c7c29e7b12cc2ef97bb724efb707e5bce58110817a1158045213c00d613a21b8205c03c8828008b42342144015016c1ab2702b22016113200e8d411d012848a9005406f0101691061848f9737e59cf6ebe9be9cc7b208efbffe28e7b43fdf3e97f35816c1db8f8510a2004c0eb2203c001685f00098dc8fcd215c046b00938334882800f320a2004cee874c843900aa19629545f0aadd4f426c08a557040d00d50e59ea54101021ba23dcbdfc2ce7b4dbf34fe53c9645f0eecbee270b23206b901ca02dcce4e2168407c0e47dd1fde6a5109036480eb0166672710d220ac0e47dde7e5a13040f20527669afdef72d05880d61434822785f6ed9a59f1fafcb39ede2eaa19cc7b2f7795faa4b851134001685900b6b002c0a21efd30098071142b00098072117b600980721efb30098053104c12b8be0b521943684d24922785f825904efbe55109005e10130b9b805e10130799f056101a03002d220a2004c2eae41440198bc4f83f000500ac12bbbb457effb96da104a1b42e915017910de6f87d9a5bd2fc1ec7dde7e5a00287f8eff4f4016823680c941d6e272610d804521e47dd1fde68511ac014c0ed216970b5b00cc8390f765f7930d43f0ca2278b5ecf70f02d2205a86689d0a0201d086509a20a039447688f7e59645f0be54b3fb2109805c04640d920334001685f000581442eec75c04148590032c00e6414401980721f76373001446f0ca22786511a285115016e22d20680068110165204e1d6109009908280a9145f07e3bec896001a06e08c882f0005814220a809a11502b44148079103d015008016520acb2082d4500501801f580580b210a805208ac05633442e6f1ac0a01d5428c44a80140d5086804c4da00a80981d560681035002d8f675d10580d466d3d1ecfba22b091183d1fcf8620cc6b4119f1e879ab209c7a7f018fb6bfac9e6745f90000000049454e44ae426082","has_pwd":false,"path":"//0","swiped":false,"multiselect":false},{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"014e384fb30994d520094dce42086dbdd4977c11fb2f2cf9ca1c80056684934b08","base58":"5DqGKX9v7uR92EvmNNmiETZ9PcDBrg2YRYukGhzXHEkKmpfx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000032549444154789cedda3d6a1b5114c57169030635814036e03a598021900d887441cb489105a4c83244baa00d04025e40527b0381401a8137a0bc837cec99c99b77cf7d1f8324cfbfb82eefbbbfc285a4e5e170583cf72641d8eff7d94b56abd532fc695a138492a3ad5aa054456879fcb09a185510728eff7e731f66bf77b75761faaa81518490733c8a01b01c085482918dd002804d0d9185900b805a22a01c081742c9f1ac3502f360c8083500d05408488590103c003fee6f16c3de5edd2e9817e1f3ee3acc7e9fd677616a29102642290053212c005613a21a420a8059102a0053218a105400e445b0aa89805210a3081e0074ea08680c228ae00540e78080621032c2f657188336afc378c88bb0fbfaff91eb0f4f47791162fbbbfb9884a0023015a2fba0180053212c00d6ddcb861026420a805910dd87a4009805a102b0ee7e94441802202f829517c12a070175216684d023420c005d2a0222447584c3621b66bfe56213e6312fc2abf76fc2ecf7fbdbcf308f4d82805210160053212c00a6428c012017028a41a800cc82500198059102403d040b40c98b60e545c80d1033c28ce044b8feb20bb3dfddc77598c7bc08db3f610cdabc0ce3212fc2dfc8fa174feb46931162004c85b000980a6101300b42424801300b42056016840ac052104d10acbc085633426846089d24c245fe4f4029080b80a9101600532152004846403108158059102a00b3202c00e442b0f222587911729b11423342e81101591017ff79024a21c400980a61013015c202602908192105c02c08158059102a001b83688660e545b0aa8a806210978a40003423847a086808e145883daafb082fc2e4df45a221024a415800acfb90148405c05488ee5e66222015420560dd07c5205400664174f7b121009211ac628f18167bd4585e043519017921ce0121068046119007e2d411c600501201a9105e84b3f91d235211500ac202602a840a808a115029840ac02c889a004842401e88545e849214002423a01a105321a800c885c04a305a23788e6759082817a225420e00ca46402d20a6064045082c072306910350723cab82c0723072ab713cab8ac05a62d43c9e3541185682d2e2e86193209c7aff00d05e89ac34e7e33a0000000049454e44ae426082","has_pwd":false,"path":"//westend//2","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","base58":"5GBNeWRhZc2jXu7D55rBimKYDk8PGk8itRYFTPfC8RJLKG5o","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034949444154789cedd8216e1c411085e1f8085e121a854481c68146d6829cc1320af00172821cc020c8f21902564686c1865148141ab23e82534fa3b2b647bdfd5ef5748fd6f6fce019cc48567d60b5daa3c7c7c737afbd59101e1e1eaaffc9f1f1f191fde95a17842947b37aa03445e879fcb896184d106a8edffeddd8a6addead6d63b5c0988450733cca01783510680a4635420f006f6e882a845a00d41301d5408410a61ceff546f0221832420b003417025221248408c0e9d567dbb4bbcb1fb6435184fb8befb66927d75f6cb514088a3015c053211880d712a2194209c063102a80a7424c425001501481d512019520f6224400d0a123a07d10598428007a0e08280721236c373f6dd356eb4fb6435184abd3afb6699777df6c87a208ec33c6931054004f8560009e0ac1003c05822294003c06a102780c4205f0c610458431008a22b0a208ac1a04b40bb120584f083900f4521190433447d86cffd8a6ad57ef6d87a208b9f7779fcf82804a100cc05321760f54df2b41ec03402104948350013c06b17b58eef9b8ddf77310250094203000a528022b8a501b201684052188b0d9dedaa6ad5767b6435184abf353dbb4cb9b3bdba12802fba6ba2f192107e0a9100cc053211880c72024841280c72054008f41a8005e09a20b022b8ac05a10ac05c13a4884cdbfad6ddafaedca76288ac03e63664140250806e0a9100cc053214a00484640390815c063102a80c72018000a21b0a208ac28426d0b82b520584f0888417c38fb689bf6fbf697ed501421f77ef23c88c07eefc80500fb33fc9e804a0839004f85480e54df2b403000af04212394003c06911c96793e2e793f03a10278fb20ba21b0a208aca6082807f152111c002d08568280c6105184fb9b0bdbb493f36bdba12802fba65a83b00b8028022a4130004f8560009e0a3106401401a9102a80c72054008f412800484660451158510435190145219e03420e00ed454011884347d807808a0848858822b0cf9896082500d40c0195201880a742a8006832029a0aa102780ca2250092105004a25414614a0a009211500b88b91054001442f0a660f446881cef5521a05a889e083500a81a01f580981b004d42f06a3072103500538ef79a20783518b5b538de6b8ae0f5c46879bcd70561dc14941e478f9b05e1d0fb0f6087bfacca5af47f0000000049454e44ae426082","has_pwd":false,"path":"//1","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false},{"address_key":"01e655361d12f3ccca5f128187cf3f5eea052be722746e392c8b498d0d18723470","base58":"5HGiBcFgEBMgT6GEuo9SA98sBnGgwHtPKDXiUukT6aqCrKEx","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000031749444154789cedda316e1351148561b201a471e9963da4a2a067071112f21652534c419d2d5848283ba0a7a0ca1e685d7a243660ee91751266327ef7dc37ef8d6c337f7152c49275bfc2b26cdf1c0e8737ff7bb320745d97fd244dd3dcd89faa55419872b4570d94a208358f1f5612a30842cef1ebbbc6b6dfeeb1b38d5502631242cef1680c80e540a02918d9083500d8dc105908b900a82602ca8108214c399ed54660110c19a104009a0b01a91012420460f5f4ddb6dffef693edb12842b3fe62dbafdb7db5d552205c84a9004c85f00058498862082900e641a8004c859884a002a0288257490494823889100140e78e804e418c224401d02520a031081961f37e65db6ffb6b6f7b2c8ab06eee6cfbedba47db635184d5d367db7efbdb6fb6fd24041580a9101e0053213c00a640b8082900e641a800cc835001d81022893004405104af2882570e02fa176241b09e11c600d0b5222042144768d7afdf09b6bb9777825184e6e1ad6dbfeefe8fedb15910500ac20360ad08e1013015e214000a21a031081580b50e840ac03c881400ea2178004a6d10c12b8a901b20168405c19e2782b0fab8b1edb7ffb1b53d1645f8fdf0faf1efee5ffe1f45f8b059d9f6fbb9dddba69311c600980ae1013015c203601e84849002601e840ac03c081580a520aa20784511bc16046b41b0ce12e12a5f13500ac203602a8407c0548814009211d018840ac03c08158079101e000a21784511bca208b92d08d682603d23200fe2ea3f4f4029843100a642b40e0053213c00968290115200cc83684500e641a800ec14443504af2882575104340671ad0804400b82d54340438828c2c57f178986082805e1013015c203602ac41000b908488550019807a102300f42014032825714c12b8aa02623a028c425208c01a09308280271ee08a700501201a91051848bf91d235211500ac203602a840a802623a0a9102a00f3204a022009014520524511a6a4002019019580980b41054021043605a33642e47896858072216a22e400a06c045403626e00340981e5608c41e4004c399e1541603918b995389e15456035314a1ecfaa200c9b8252e3e861b3209c7b7f01189cbfacc503dd680000000049454e44ae426082","has_pwd":false,"path":"//westend//0","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":true,"multiselect_count":"0"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "LongTap on Keys screen. Expected updated Keys screen, got:\n{}", real_json);
        
        // Note: although multiselect count is 0, remain in multiselect mode
        
        do_action("LongTap","0120c394d410893cac63d993fa71eb8247e6af9a29cda467e836efec678b9f6b7f","");
        do_action("LongTap","012afba9278e30ccf6a6ceb3a8b6e336b70068f045c666f2e7f4f9cc5f47db8972","");
        do_action("LongTap","014e384fb30994d520094dce42086dbdd4977c11fb2f2cf9ca1c80056684934b08","");
        do_action("LongTap","01b606fc73f57f03cdb4c932d475ab426043e429cecc2ffff0d2672b0df8398c48","");
        do_action("LongTap","01e655361d12f3ccca5f128187cf3f5eea052be722746e392c8b498d0d18723470","");
        let real_json = do_action("RemoveKey","",""); // remove keys in multiselect mode
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "RemoveKey on Keys screen with multiselect mode. Expected updated Keys screen, got:\n{}", real_json);
        
        do_action("LongTap","013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34",""); // enter multiselect mode
        let real_json = do_action("SelectAll","",""); // select all
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"MultiSelect","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":true},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":true},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":true}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":true,"multiselect_count":"3"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SelectAll on Keys screen with multiselect mode. Expected updated Keys screen, got:\n{}", real_json);
        
        let real_json = do_action("SelectAll","",""); // deselect all
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"MultiSelect","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":true,"multiselect_count":"0"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SelectAll on Keys screen with multiselect mode. Expected updated Keys screen, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","",""); // exit multiselect mode
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoBack on Keys screen with multiselect mode. Expected updated Keys screen, got:\n{}", real_json);
        
        alice_westend_keys_json = real_json;
        
        do_action("LongTap","013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34",""); // enter multiselect mode
        do_action("SelectAll","",""); // select all
        let real_json = do_action("ExportMultiSelect","","");
        let expected_json = r#"{"screen":"KeyDetailsMultiSelect","screenLabel":"Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"KeyMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"qr":"89504e470d0a1a0a0000000d49484452000000c4000000c40800000000e5cdd1b70000064649444154789cedcf5b6a2dc71245d1ebfe37fafa8c8f09419025e9c766bb9413c47a656d117ffdff7fff7dee119fc23de253b8477c0af7884fe11ef129dc233e857bc4a7f0ce23fefaf3f7c47e1b7d33779d4c91a738798ae94fd827f788e89bb9eb648a3cc5c9534c7fc23e79ef11bb43fd49273ae8f34fcc37d363e738f5f78874a2833effc47c333d768e53ffee23689469c893363d4fb17dd461f7f2d428d3c93d62d2a6e729b68f3aec5e9e1a653af99d4750f090f914fc44af4b9f68df1a653ab94740e653f013bd2e7da27d6b94e9e4771e11658a3c8df2d64d7d8a3c8d329ddc23648a3c8df2d64d7d8a3c8d329dbcfb884d7d1a3274f9d0856de7d0cb34768e537f8f800c5d3e7461db39f4328d9de3d4bff78827bcb5ff5bfa847d728ff8a7f509fbe49d47fc84fec1fe76f67c0a1e324f43465df9a7dc23f6b7b3e753f090791a32eaca3fe59d47f443136f663f73fea4983e7493d3ae7bd2cd3d02f99362fad04d4ebbee4937ef3d4297224f91df1ae574a29bd86757de1a3be31eb135cae94437b1cfaebc3576c63b8f8087b0f15b439ed87414d3438efad941bf3be871dc8ee59f3fd8f8ad214f6c3a8ae92147fdeca0df1df4386ec7f2cf1f6cfcd69027361dc5f490a37e76d0ef0e7a1cb763f9e70f367e6bc8139b8e627ac8513f3be877073d8edb2e3dd651e4b74e76b733ea68c8981d762ff3e9e61e11bbdb19753464cc0ebb97f974f3ce23b01fcb981d762ff314793aa93b69c8f1d4c73d62f7324f91a793ba93861c4f7dbcf788493fe05d1ef2c4a64b91a727da52f0286377e5b8474c6cba14797aa22d058f3276578ef71fe1a3f63cdde8b1377d1dbfb19dfa8937f1f4f61e117aec4d5fc76f6ca77ee24d3cbd7de7117d347b9d4c37fa13bdb5e763773274f9c9531ff708e84ff4d69e8fddc9d0e5274f7dbcf38827fc50f48d8ea713ddc61b3dc5f49037f6fae937f7081d4f27ba8d377a8ae9216fecf5d36fde79448f536c0f391fba386d3a8ae9214fdaf479ec8c7b443e7471da7414d3439eb4e9f3d819ef3d226cf2546cbfb1e9e909dbe4a7ef707a7b8f00bfb1e9e909dbe4a7ef707afbce2326fdc87ca32be7d38d3eec329dd4d1afe80ddddc23f2e9461f76994eeae857f4866ede798487a897f9f489761ae5ad987e63839da713dde41e3169a751de8ae93736d8793ad14dde79047c34fb329dcc8e0f9dfca438f9a9c8d3d819f788d9f1a1939f14273f15791a3be3bd476c7c88efde7ae70d457e2ba60fdd64ee7b9bdc2336de794391df8ae9433799fbde26ef3cc2873a0a3e9eba99377678c353f0a19b19bb93a1cbc73d02ba99377678c353f0a19b19bb93a1cbc77b8f809e4fc16fdac21b1d9dd44d459e7e853738bdbb47a02dbcd1d149dd54e4e9577883d3bbf71ea1db0a1ef2f413bd8e6ef4d89b7e76329eba7cdc23c04ff43abad1636ffad9c978eaf2f1de23a0e729a67fc29b89f73a1a339f7c1a334f3fb9476cbc9978afa331f3c9a731f3f493771e118f1ffcf9abe7214fbf698bf9c656e69f986ff2718fe0214fbf698bf9c656e69f986ff2f1ce233c9ad877073d6cd387ae9ca7e031f3f428a30eb38f7b046cd387ae9ca7e031f3f428a30eb38ff71ea19b8ae94317b69df1934ea6e051461df433e31ea10bdbcef8492753f028a30efa99f1bb8e88ba14df793aa9a3c84f0d39663fb947507ce7e9a48e223f35e498fde4771dc1437ef25117361d050f391fbab0c9f42bee11db475dd874143ce47ce8c226d3aff83d47a431733e0d193a3e058f53ce9f68a7937b04f269c8d0f129789c72fe443b9dbcf388ef983fc24ff43a1af2c6ae9f0a1e65e8becab847f013bd8e86bcb1eba7824719baaf32de7984474f783bf79d5147277529f214f92705bfb947ec8c3a3aa94b91a7c83f29f8cd7b8fd81d763ff3c9a7983e7498fd77ddf4937b44f9e4534c1f3accfebb6efac9bb8fa0514ec14fea27dee8a782873c3dca135b3dbfb9474cea27dee8a782873c3dca135b3dbff9bd47d0d879b23719b30b9b3e453ec5f4718fc0ce93bdc9985dd8f429f229a68f7bc4c616f38dfe9429f8985d1ef213f7888d2de61bfd2953f031bb3ce427de7dc4a6fe3b8d32050f797a94513769b7e527f78893469982873c3dcaa89bb4dbf293f71ef184b7763aa94b27bab0cd3c699b0a3eea36f788a84b27bab0cd3c699b0a3eea36ef3ce2bfc83de253b8477c0af7884fe11ef129dc233e857bc4a7708ff8145e71c4dfbcd8986a296cecb40000000049454e44ae426082","pubkey":"3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","seed_name":"Alice","path":"//westend","network_title":"Westend","network_logo":"westend","current_number":"1","out_of":"3"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "ExportMultiSelect on Keys screen with multiselect mode. Expected KeyDetailsMulti screen, got:\n{}", real_json);
        
        let unit1 = real_json;
        
        let real_json = do_action("NextUnit","","");
        let expected_json = r#"{"screen":"KeyDetailsMultiSelect","screenLabel":"Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"KeyMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"qr":"89504e470d0a1a0a0000000d49484452000000c4000000c40800000000e5cdd1b70000064c49444154789cedcf4b8a2c599245d1caf90fba2a5663c341507b15d1c8c4d35c3738e777d51cf9d7fffecf7f3fef113f85f7889fc27bc44fe13de2a7f01ef153788ff829bc47fc14bef3887ffdf5f7897deb5d9947197561d351e46994d34fd897f788328f32eac2a6a3c8d328a79fb02fdf7bc4ed50bffa89767ad99e87ccd3b8399efaf7884fb4d3cbf63c649ec6cdf1d47ff71134ca34ca14fca2afe3177d1dbfe875ab51a6cb7b844cc12ffa3a7ed1d7f18b5eb71a65bafcce232878c87c0a7ed1ebd2f894af46992eef1190f914fca2d7a5f1295f8d325d7ee711e0215fffa47173d4a7c8d328d3e53d42befe49e3e6a84f91a751a6cb771f71a94f43866efddfe14fef6d7fb77f8f800cddfabfc39fdedbfe6effbd477cc25bfb7f4a3f615fde23feddfa09fbf29d47fc1dfc83a7eff4d8ad0e7a398da7fc4f788fb8e8b15b1df4721a4ff99ff09d47ec8f8537db6fce3f29f24f1af262d37dd2cb7b04f24f8afc9386bcd8749ff4f2bd477cea28786ccea39c224fc1c7ed647e356ec67bc4e63cca29f2147cdc4ee657e3667ce711e821c5faa59e224fc163339f825ff4b7831e8fdb63f9d79f9e62fd524f91a7e0b1994fc12ffadb418fc7edb1fceb4f4fb17ea9a7c853f0d8cca7e017fdeda0c7e3f658fef5a7a758bfd453e429786ce653f08bfe76d0e371bba5c7ba14f955f071bb72d42fdedc5e176d3a3ebdbc47f071bb72d42fdedc5e176d3a3ebd7ce711f0186d65d4a17e3b6ccfd3e5769b79945187ede33da27e3b6ccfd3e5769b79945187ede37b8fb8f811ef68c88b4d4791a7e02f367d0a1e65dcae1cef118b4d4791a7e02f367d0a1e65dcae1cdf7b84c7fa14798aeb51c6767cba3c75176fe2d3dbf788f528633b3e5d9eba8b37f1e9ed771ed147f5f27a6cce5f6cb0f329786c5e7fb13df5f11e21e72f36d8f9143c36afbfd89efaf81d47c4ed37e74317363945feea65fbf597f708c8f9d0854d4e91bf7ad97efde5771d11ed7fc2b7dea597fad5905127e77133de233ee15befd24bfd6ac8a893f3b819df7fc4f5297894179b7e75d1c5d356c75fda96f70894179b7e75d1c5d356c75fda96ef3c22f6077a53b7994f2ff55797bad527dae8e53d42e6d34bfdd5a56ef589367af9ce233c44bdcc53f04fb42fdeeaaf62fdc5063b4f17ddf21eb1b42fdeeaaf62fdc5063b4f17ddf27b8e809c8fedf8d0c97f52f090f955e469dc8cf788edf8d0c97f52f090f955e469dc8cef3de2a9c3ed2fde7943b11e650a7ea98fddefb6bc475cbcf386623dca14fc521fbbdf6df9ce23f0e9e3fadb6dbed897de6eafdbfc8437f02e1fef11d06dbed897de6eafdbfc8437f02e1fdf7d443d1fba328f72e8753464e8f874d1856d3374b83dde23500ebd8e860c1d9f2ebab06d860eb7c7771ed163d8640a1ef2fad82e7f69a34bddeaa2833e1fef11e063bbfca58d2e75ab8b0efa7c7cf7114fbd2e7dc2b67c7a17def7269fc6e6f5cb7bc4c5b67c7a17def7269fc6e6f5cb771ef127fc08fa66334f9fb0c1ced3b819ba4b6f6cf9788fd8ccd3276cb0f3346e86eed21b5b3ebef3088fa0e7535c0f797de8ca9f3cca143ccaa8c3f6f11e01797de8ca9f3cca143ccaa8c3f6f1bd47e856f1e4696ce6a30ef54f5db46d5f07fd66bc47d0d8cc471dea9fba68dbbe0efacdf81d47808f4f5d9987cc53f09736b4d7dd8cbacb7b44e8ca3c649e82bfb4a1bdee66d45d7ec711143c649e82471975b11bec75fca2dfeee627de23c0a38cbad80df63a7ed16f77f313bfe38890713b7975d1a1fe29f334e44f7867a7cb7b844e5e5d74a87fca3c0df913ded9e9f29d47fc7fec8ff04fb4a337dbc5d3a6fb2719ef11fc13ede8cd76f1b4e9fe49c6771ee1d127bcddfde6c5063b7f1579bad45d057f798fb879b1c1ce5f459e2e7557c15fbef788dbe1f69bf314f9144f7e153ccad86efdf21e51ce53e4533cf955f02863bbf5cb771f41a39c825fea176ff429d62f7a7cdaeaf9cb7bc452bf78a34fb17ed1e3d356cf5f7eef11346e5eda56438eedd1a6e753ac8ff708dcbcb4ad861cdba34dcfa7581fbffb8874d141cf53f0b839f475eb17fd27de23e8a2839ea7e07173e8ebd62ffa4f7cf711977a1ae5d58b3eec32058f32ea96765b7e798f28af5ef4619729789451b7b4dbf2cbf71ef1096fdbf9d0c957b17ed163379d9c828fbacb7b44e8e4ab58bfe8b19b4e4ec147dde53b8ff86fe43de2a7f01ef153788ff829bc47fc14de237e0aef113f85f7889fc2571cf17ffd1d846a63b7581b0000000049454e44ae426082","pubkey":"8266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","seed_name":"Alice","path":"//Alice/secret//secret","network_title":"Westend","network_logo":"westend","current_number":"2","out_of":"3"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "ExportMultiSelect on Keys screen with multiselect mode. Expected KeyDetailsMulti screen, got:\n{}", real_json);
        
        let unit2 = real_json;
        
        let real_json = do_action("NextUnit","","");
        let expected_json = r#"{"screen":"KeyDetailsMultiSelect","screenLabel":"Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"KeyMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"qr":"89504e470d0a1a0a0000000d49484452000000c4000000c40800000000e5cdd1b70000065449444154789cedcf5b6a2dc71245d1ebfe37fafa8c8f09419025e9c766bb941336eb9525117ffdff7fff7dee119fc23de253b8477c0af7884fe11ef129dc233e857bc4a7f0ce23fefaf37b62bef54ea621c7ec31b749efec3c05ff446fe21e21d39063f698dba477769e827fa237f1de237687faa9983eeae866f64f1e3bc7a9bf4760faa8a39bd93f79ec1ca7fedd47d028d32853e429b64719ba99a1839e4fa34c27f70899224fb13dcad0cd0c1df47c1a653af99d47509c3c050f99dffa44fbd628d3c93d627b0a1e32bff589f6ad51a693df79449429f234ca5b9f987b9e46994eee1132459e4679eb1373cfd328d3c9bb8fd8d49f14d3870ef533f314fcc6f6d3fe1e9162fad0a17e669e82dfd87edabff78827bcb5ff5bfa847d728ff8a7f509fbe49d47fc14ff647fabc3eceba097d3905157fe29f788fdad0eb3af835e4e43465df9a7bcf388fed0c49bd9cf9c4fc1471d9e7aec4d7ed2cd3d02f9147cd4e1a9c7dee427ddbcf7081d051fbaf2f490432fa7131df47c1ae5adb133ee1179c8a197d3890e7a3e8df2d6d819ef3c02f3619e6eea29f8897e76727cd5cf1c7a1cb763f9e7579fa79b7a0a7ea29f9d1c5ff533871ec7ed58fef9d5e7e9a69e829fe86727c757fdcca1c7713b967f7ef579baa9a7e027fad9c9f1553f73e871dc76e9b18e224f438efaba53e653f090f3a18b361d9f6eee11a8af3b653e050f391fba68d3f1e9e69d47603f96e3d4d7c93c459e4e7637338f32ea30fbb847d4d7c93c459e4e7637338f32ea30fb78e7113e78ea68c8139b8e229f4eead2890eb3df5d39ee11139b8e229f4eead2890eb3df5d39de79c4c447ed798aed51c6ecf29b360a7ed386d38e7bc4f4286376f94d1b05bf69c369c77b8ff0e1538f3639bfb1c1cea7981e33f31bdba98f7b849cdfd860e7534c8f99f98dedd4c73b8ff001f47c1a72e865bad147bb2e3fd19ff0b66dfacd3d422fd38d3eda75f989fe84b76dd36fde7b445d3e0df92bbcf526053fd1ef0e7ab4c979ec8c7bc413de7a93829fe877073ddae43c76c67b8f40bdcc53e429f8c9ecf31b5bec37b63a7ed336b947809fcc3ebfb1c57e63abe3376d93771eb1f1877ac363667e2af8895e979e981bbfb1e9e9e61e21f353c14ff4baf4c4dcf88d4d4f37ef3cc2c3b0c929f813ed277c634fc1a30c9d4c91a713dde41e31693fe11b7b0a1e65e8648a3c9de826ef3e62f63a99229f820f9d9cc6cc273f15791a3be31e91820f9d9cc6cc273f15791a3be3bd47ec0e4ffda4372978cc3c3d649e4e74b1b7c93d62d39b143c669e1e324f27bad8dbe4bd476c7a33b7d9e54fd8e10d4f43862e8f9da1833e1ff708e8f227ecf086a7214397c7ced0419f8ff71eb13b7cd56fe63bbb9c863c99db89de9fdedd23a0dfcc7776390d7932b713bd3fbd7bef1127bc6bdb7ea2d74d3d61839da7b13374d0e7e31e017ea2d74d3d61839da7b13374d0e7e3dd479cfadd6dbc99fce47d6fa69fcc7efac93d62e3cde427ef7b33fd64f6d34fde79449c3ed89d0c5d1ef2a46df7b0d5f34fcc37f9b847c8d0e5214fda760f5b3dffc47c938f771ee1d1c45eb73de4e94357ce53f0a1932978945187d9c73d02f2f4a12be729f8d0c9143ccaa8c3ece3bd47e852e429f23466e64327a7e0432753f028a30efa99718fa031331f3a39051f3a9982471975d0cf8cdf71049dd4a5d81e324fc14fea27ded4f328a36e738fa0d81e324fc14fea27ded4f328a36ef33b8ec04f7de8648a3c050f797b1a65fa15f788ed432753e42978c8dbd328d3aff81d474c058f99f914fce4d4ebca3ce4fc89763ab94740e653f09353af2bf390f327dae9e49d477cc7fc23fc44af4b27b39b1e32eacad07d95718fe0277a5d3a99ddf490515786eeab8c771ee1d113dece7de7890d763e9dd4d149dd56f09b7bc4ce131bec7c3aa9a393baade037ef3d6277d8fdccd3471dc5c94f058f326637fde41e519e3eea284e7e2a789431bbe927ef3e824639053fd1eb6894a782df7cb7d5f39b7bc444afa3519e0a7ef3dd56cf6fee1190f39bbdc9985db4a15dc7a7983eee1190f39bbdc9985db4a15dc7a7983e7ef7119027df6d75fc134f6fea4fdc23e4c9775b1dffc4d39bfa13ef3e62534fc143e6d38d1e6d324fa39c6ef4b0e527f708c87cbad1a34de66994d38d1eb6fce4bd473ce16d3b1f3a393db137f98437360a3eea36f788d0c9e989bdc927bcb151f051b779e711ff45ee119fc23de253b8477c0af7884fe11ef129dc233e857bc4a7f08a23fe0645cf6c6a1d64e3fa0000000049454e44ae426082","pubkey":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","seed_name":"Alice","path":"//Alice","network_title":"Westend","network_logo":"westend","current_number":"3","out_of":"3"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "ExportMultiSelect on Keys screen with multiselect mode. Expected KeyDetailsMulti screen, got:\n{}", real_json);
        
        let unit3 = real_json;
        
        let real_json = do_action("NextUnit","","");
        assert!(real_json == unit1, "ExportMultiSelect on Keys screen with multiselect mode. Expected KeyDetailsMulti screen, got:\n{}", real_json);
        
        let real_json = do_action("PreviousUnit","","");
        assert!(real_json == unit3, "ExportMultiSelect on Keys screen with multiselect mode. Expected KeyDetailsMulti screen, got:\n{}", real_json);
        
        let real_json = do_action("PreviousUnit","","");
        assert!(real_json == unit2, "ExportMultiSelect on Keys screen with multiselect mode. Expected KeyDetailsMulti screen, got:\n{}", real_json);
        
        let real_json = do_action("PreviousUnit","","");
        assert!(real_json == unit1, "ExportMultiSelect on Keys screen with multiselect mode. Expected KeyDetailsMulti screen, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == alice_westend_keys_json, "GoBack on KeyDetailsMulti screen. Expected Keys screen in plain mode, got:\n{}", real_json);
        
        let real_json = do_action("NewKey","","");
        let expected_json = r#"{"screen":"DeriveKey","screenLabel":"Derive Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seed_name":"Alice","network_title":"Westend","network_logo":"westend","suggested_derivation":"","keyboard":true},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "NewKey on Keys screen. Expected DeriveKey screen, got:\n{}", real_json);
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == alice_westend_keys_json, "GoBack on DeriveKey screen. Expected Keys screen in plain mode, got:\n{}", real_json);
        
        do_action("NewKey","","");
        let real_json = do_action("GoForward","",ALICE_WORDS); // create root derivation
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","base58":"5DfhGyQdFobKM8NsWvEeAKk5EQQgYe9AydgJ7rMB6E1EqRzV","swiped":false,"multiselect":false},"set":[{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":false},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "GoForward on DeriveKey screen with empty derivation string. Expected updated Keys screen, got:\n{}", real_json);
        
        do_action("LongTap","013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34",""); // enter multiselect mode
        let real_json = do_action("SelectAll","",""); // select all
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"MultiSelect","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","base58":"5DfhGyQdFobKM8NsWvEeAKk5EQQgYe9AydgJ7rMB6E1EqRzV","swiped":false,"multiselect":true},"set":[{"address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend","swiped":false,"multiselect":true},{"address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret","swiped":false,"multiselect":true},{"address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","base58":"5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice","swiped":false,"multiselect":true}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":true,"multiselect_count":"4"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SelectAll on Keys screen in multiselect mode, with existing root key. Expected updated Keys screen, got:\n{}", real_json);
        
        do_action("GoBack","","");
        let real_json = do_action("SelectKey","0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","");
        let expected_json = r#"{"screen":"KeyDetails","screenLabel":"Seed Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"KeyMenu","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"qr":"89504e470d0a1a0a0000000d49484452000000c4000000c40800000000e5cdd1b7000006ac49444154789cedcf416e1cdb1504517bff8bb6790601245e574be4c046ff6205406466bc6a09f7dffff9d73f9fe7884fe139e253788ef8149e233e85e7884fe139e253788ef814ee79c4bfbffedee1db7db7176f391dbbb7c3ae0787d32f7d13cf11f6e22da763f776d8f5e070faa56fe2be479c0e7979c29f9cdfed37bd5d39f0b63cb9f2cf11c19f9cdfed37bd5d39f0b63cb9f2f73e42467b336c9cce3e13f5123a6cfdcc68cbe53902364e679f897a091db67e66b4e5f27b8f083bfee4db7519f6e28ddb8cb65c9e23ecf8936fd765d88b376e33da72f99d474087ad6fe2ecb0f532ecc51bb7196db93c47d8fa26ce0e5b2fc35ebc719bd196cbbd8f38c97f37a1a31d7c4e877d767972e59f23fe94d0d10e3ea7c33ebb3cb9f2f73de21dbef5feffca77785f9e23fed7f90eefcb3d8ff80efe03bf93d061eb12575d4287ad97d07fc27384840e5b97b8ea123a6cbd84fe13ee79c4f90fb5b14e97a86fa22e51976183db0e5b970bb73c4748d4375197a8cbb0c16d87adcb855bee7d449cefe89bdeecb3974b4e2e39091d767de197e788deecb3974b4e2e39091d767de197df73c4e9c09ff4ddbeadfb6e2fe36a2fcf11277db76febbedbcbb8dacb3d8f083ff256868d9cad6f62fbc29ff45d6fb62e63b7be3c47c0d637b17de14ffaae375b97b15b5fee7f04bcbfeb6807bfae2d9775f5f2a73c47a01dfcbab65cd6d5cb9f72cf23fc438b774ec6bb2da10767cbe5bb6ee95d2ecf11d196d083b3e5f25db7f42e977b1eb1f8c1e25b6e7379e7c05f75b465d8e0ce2e97e708b9bc73e0af3ada326c706797cb3d8ff011f2bbcfbe1936387d73e1c0d761631dd6d7e33962336c70fae6c281afc3c63aacafc73d8f800fd1db6e5d627b708b774ec66e1db6fe9d3c798ed81edce29d93b15b87ad7f274fee79c4d587ef5cf4966b83b34be8b0f512fa925f5ebe79115f7fdf75d15bae0dce2ea1c3d64be84b7e79f9e6457cfd7dd7456fb93638bb840e5b2fa12ff9e5e59b17f1f5f75d17bde5dae0ec123a6cbd84bee497976f4e013fe437a1a30d6e77f0cbd537f05d6ff54de84b3e9e23c0ed0e7eb9fa06beebadbe097dc9c73d8ff0034ea22e51df848e76f0ebeca5b7f5dcd596d097e788123adac1afb397ded673575b425fee7d0474d8f5e0c25b5b8fd3d9fa996183d3cbe5d2bd88afbf9c0ebb1e5c786beb713a5b3f336c707ab95cba17f1f597d361d7830b6f6d3d4e67eb67860d4e2f974bf722befe723aec7a70e1adadc7e96cfdccb0c1e9e572e95ec4d71f27176ef1ce6d425fd6eb57b9e4364ff8e53982db84beacd7af72c96d9ef0cb3d8f801fe6f5c8456ff9dd7ab970e16df7b26fef7a3c47f496dfad970b17de762ffbf6aec7bd8f887dcf73db97d35f6d5da25e2e1cf8fa15cf11d097d35f6d5da25e2e1cf8fa15f73cc20f4e7c93bfea3276ebb07589bff532ce7df21c5197b15b87ad4bfcad9771ee93fb1ec16d62fbb2be5e42bfa277f8c69661077feee53902ebeb25f42b7a876f6c1976f0e75eee7904fc8097273cf66d5d3d72326cbc73ba841e570ecf11b1ae1e391936de395d428f2b877b1ee1436e133a6cbd0cfb4ff8b66ff425bfec37de779f3c47c8b0ff846ffb465ff2cb7ee37df7c9ef38027ae4e27c6bd74be80bcf9df9539e2370beb5eb25f485e7cefc29f73d02bcbeb9acab97a897d061d79777fec477cb7344ae5ea25e42875d5fdef913df2df73c22fc63de36a15fd1fbe2db2b8fdee49293b8ea72798e587a5f7c7be5d19b5c7212575d2ebfeb88b091b37589b3c3ae0777e29b7c5d2e97ee14d1c765d8c8d9bac4d961d7833bf14dbe2e974b778ae8e3326ce46c5de2ecb0ebc19df8265f97cba53b45f471193672b62e7176d8f5e04e7c93afcbe5d2bd88af3ff07a89bac45597efe85d623bec2bfaa6f7763c475c75f98ede25b6c3bea26f7a6fc73d8ff81bfd434bff466fedc55b5e87ad9761c7fad8773c4744ff466fedc55b5e87ad9761c7fad877dcf388ab1f45dffa46df0c1b5c3d38e4cf0dcebecab097e788cdb0c1d58343fedce0ecab0c7bb9ef11a743be841e9cbd09fdc4db950fefd1779c2e4f9e23f4e0ec4de827deae7c788fbee3747972ef2364b4379775fac2e7f4250f6fbb4fbcbfe33922d6e90b9fd3973cbced3ef1fe8edf7904cebee4a377fe6f7dc94be8918be708e84b3e7ae7ffd697bc841eb9f8dd472cebf532ec13ef7c89b307d7de1ecf11b15e2fc33ef1ce97387b70eded71ef234ef225aeba8cdd75091df6bb7ef2eeed39e2aacbd85d97d061bfeb27efdeee7bc43b7ceb5d9e5c796ed9776fb68cb68cdddb97e788e5ca73cbbe7bb365b465ecdebedcf3887f22cf119fc273c4a7f01cf1293c477c0acf119fc273c4a7f01cf129dce288ff0239d9b86ac67989a70000000049454e44ae426082","pubkey":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","base58":"5DfhGyQdFobKM8NsWvEeAKk5EQQgYe9AydgJ7rMB6E1EqRzV","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","seed_name":"Alice","path":"","network_title":"Westend","network_logo":"westend"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SelectKey on Keys screen with root key. Expected KeyDetails screen with Seed Key label, got:\n{}", real_json);
        
        let real_qr_info = get_qr_info_read(&real_json);
        let expected_qr_info = r#"substrate:5DfhGyQdFobKM8NsWvEeAKk5EQQgYe9AydgJ7rMB6E1EqRzV:0xe143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"#;
        assert!(real_qr_info == expected_qr_info, "Received unexpected qr payload:\n{}", real_qr_info);
        
        do_action("GoBack","","");
        do_action("NavbarSettings","","");
        let real_json = do_action("BackupSeed","","");
        let expected_json = r#"{"screen":"SelectSeedForBackup","screenLabel":"Select seed","back":true,"footer":false,"footerButton":"Settings","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"seedNameCards":[{"identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","seed_name":"Alice"}]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "BackupSeed on Settings screen. Expected SelectSeedForBackup screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("BackupSeed","Alice","");
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"None","screenNameType":"h4","modal":"Backup","alert":"Empty","screenData":{"root":{"seed_name":"Alice","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","base58":"12bzRJfh7arnnfPPUZHeJUaE62QLEwhK48QnH9LXeK2m1iZU","swiped":false,"multiselect":false},"set":[{"address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","base58":"16FWrEaDSDRwfDmNKacTBRNmYPH8Yg6s9o618vX2iHQLuWfb","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path","swiped":false,"multiselect":false},{"address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","base58":"16Zaf6BT6xc6WeYCX6YNAf67RumWaEiumwawt7cTdKMU7HqW","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{"seed_name":"Alice","derivations":[{"network_title":"Polkadot","network_logo":"polkadot","network_order":0,"id_set":[{"path":"","has_pwd":false},{"path":"//secret//path","has_pwd":true},{"path":"//polkadot","has_pwd":false}]},{"network_title":"Westend","network_logo":"westend","network_order":1,"id_set":[{"path":"//westend","has_pwd":false},{"path":"","has_pwd":false},{"path":"//Alice/secret//secret","has_pwd":false},{"path":"//Alice","has_pwd":false}]},{"network_title":"Kusama","network_logo":"kusama","network_order":2,"id_set":[{"path":"//kusama","has_pwd":false}]}]},"alertData":{}}"#;
        assert!(real_json == expected_json, "BackupSeed on SelectSeedForBackup screen with Alice as an entry. Expected Keys screen with Backup modal, got:\n{}", real_json);
        
        db_handling::manage_history::seed_name_was_shown(dbname, String::from("Alice")).unwrap(); // mock signal from phone
        
        do_action("NavbarSettings","","");
        do_action("ManageNetworks","","");
        do_action("GoForward","0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","");
        do_action("RightButton","","");
        let real_json = do_action("SignNetworkSpecs","","");
        let expected_json = r#"{"screen":"SignSufficientCrypto","screenLabel":"Sign SufficientCrypto","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"identities":[{"seed_name":"Alice","address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","public_key":"3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend"},{"seed_name":"Alice","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","public_key":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","has_pwd":false,"path":""},{"seed_name":"Alice","address_key":"0164a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","public_key":"64a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030b49444154789cedda3f8e527114c5712929a95885c524b666626baf050b60092ec225b0000aed6dcdc4d6640a5741454989f7849cd1f77cef77cffdfd79017cdfe24c3124e47e0a4280c5f97c7ef5bf3709c2f178cc7e92d56ab5b03f4d6b825072b4570b94aa082d8fef5713a30a42cef1bbe52fdb6edbd36bdb5835308a10728e4743002c070295606423b4006053436421e402a096082807228450723c6b8dc0221832420d003415025221248408c07af3c6b6db61ffd3f6521461f3616ddb6dfff560aba540b808a5004c85f000584d886a082900e641a8004c85284250015014c1ab26024a418c224400d0b523a0318841842800ba050434042123acdf6d6cbb1dbeef6d2f45111e169f6cbb3d9f3fdb5e8a223c6efe7dfcd3fecfff9984a0023015c203602a8407c01408172105c03c08158079102a00eb432411fa00288ae01545f0ca41407f43cc08d60bc21000ba57044488ea083f160fb6ddde9e9f6d2f4511764f4bdb6edbc793eda54910500ac203602a8407c05488310014424043102a00f3205400e641a4005007c103508a227845117203c48c3023041176cb2fb6ddb6a78fb697a208de3bcb28c26ef9cdb6dbf6f4de369d8c3004c054080f80a9101e00f32024841400f3205400e641a8002c05d104c12b8ae0352358338275950877f99a8052101e0053213c00a642a400908c8086205400e641a800cc83f0005008c12b8ae01545c86d46b06604eb0501791077ff79024a210c013015c203602a8407c0521032420a8079102a00f32054003606d10cc12b8ae05515010d41dc2b0201d08c607510501f228ae0bd138c224cfe5d24ea23a0148407c054080f80a9107d00e42220154205601e840ac03c080500c9085e5104af28829a8c80a210b78030048046115004e2da11c600501201a91051849bf91d235211500ac203602a840a808a115029840ac03c889a0048424011885451849214002423a01a105321a8002884c04a305a23448e6759082817a225420e00ca46402d20a6064045082c0763082207a0e478560581e560e456e378561581b5c4a8793c6b82d0af04a5c5d1fd2641b8f67e0340babfaccd8d3a340000000049454e44ae426082","has_pwd":false,"path":"//kusama"},{"seed_name":"Alice","address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","public_key":"8266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret"},{"seed_name":"Alice","address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice"},{"seed_name":"Alice","address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","public_key":"e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path"},{"seed_name":"Alice","address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","public_key":"f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot"}]},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "SignNetworkSpecs on NetworkDetails screen for westend sr25519. Expected SignSufficientCrypto screen, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","");
        let expected_json = r#"{"screen":"SignSufficientCrypto","screenLabel":"Sign SufficientCrypto","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h1","modal":"SufficientCryptoReady","alert":"Empty","screenData":{"identities":[{"seed_name":"Alice","address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","public_key":"3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend"},{"seed_name":"Alice","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","public_key":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","has_pwd":false,"path":""},{"seed_name":"Alice","address_key":"0164a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","public_key":"64a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030b49444154789cedda3f8e527114c5712929a95885c524b666626baf050b60092ec225b0000aed6dcdc4d6640a5741454989f7849cd1f77cef77cffdfd79017cdfe24c3124e47e0a4280c5f97c7ef5bf3709c2f178cc7e92d56ab5b03f4d6b825072b4570b94aa082d8fef5713a30a42cef1bbe52fdb6edbd36bdb5835308a10728e4743002c070295606423b4006053436421e402a096082807228450723c6b8dc0221832420d003415025221248408c07af3c6b6db61ffd3f6521461f3616ddb6dfff560aba540b808a5004c85f000584d886a082900e641a8004c85284250015014c1ab26024a418c224400d0b523a0318841842800ba050434042123acdf6d6cbb1dbeef6d2f45111e169f6cbb3d9f3fdb5e8a223c6efe7dfcd3fecfff9984a0023015c203602a8407c01408172105c03c08158079102a00eb432411fa00288ae01545f0ca41407f43cc08d60bc21000ba57044488ea083f160fb6ddde9e9f6d2f4511764f4bdb6edbc793eda54910500ac203602a8407c05488310014424043102a00f3205400e641a4005007c103508a227845117203c48c3023041176cb2fb6ddb6a78fb697a208de3bcb28c26ef9cdb6dbf6f4de369d8c3004c054080f80a9101e00f32024841400f3205400e641a8002c05d104c12b8ae0352358338275950877f99a8052101e0053213c00a642a400908c8086205400e641a800cc83f0005008c12b8ae01545c86d46b06604eb0501791077ff79024a210c013015c203602a8407c0521032420a8079102a00f32054003606d10cc12b8ae05515010d41dc2b0201d08c607510501f228ae0bd138c224cfe5d24ea23a0148407c054080f80a9107d00e42220154205601e840ac03c080500c9085e5104af28829a8c80a210b78030048046115004e2da11c600501201a91051849bf91d235211500ac203602a840a808a115029840ac03c889a0048424011885451849214002423a01a105321a8002884c04a305a23448e6759082817a225420e00ca46402d20a6064045082c0763082207a0e478560581e560e456e378561581b5c4a8793c6b82d0af04a5c5d1fd2641b8f67e0340babfaccd8d3a340000000049454e44ae426082","has_pwd":false,"path":"//kusama"},{"seed_name":"Alice","address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","public_key":"8266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret"},{"seed_name":"Alice","address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice"},{"seed_name":"Alice","address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","public_key":"e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path"},{"seed_name":"Alice","address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","public_key":"f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot"}]},"modalData":{"author_info":{"base58":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","seed":"Alice","derivation_path":""},"sufficient":"**","content":{"type":"add_specs","network_title":"Westend","network_logo":"westend"}},"alertData":{}}"#;
        let (cut_real_json, sufficient_hex) = process_sufficient(&real_json);
        assert!(cut_real_json == expected_json, "GoForward on SignSufficientCrypto screen with Alice root key as an entry. Expected modal SufficientCryptoReady, got:\n{}", real_json);
        
        {
            // testing the validity of the received sufficient crypto object
            std::env::set_current_dir("../generate_message").unwrap();
            let command = std::process::Command::new("cargo")
                .arg("run")
                .args(["sign", "-qr", "-sufficient", "-hex", &sufficient_hex, "-msgtype", "add_specs", "-payload", "navigator_test_files/sign_me_add_specs_westend_sr25519"])
                .output()
                .unwrap();
            assert!(command.status.success(), "Produced sufficient crypto did not work. {}.", String::from_utf8(command.stderr).unwrap());
            std::env::set_current_dir("../files/signed").unwrap();
            std::fs::remove_file("add_specs_westend-sr25519").unwrap();
            std::env::set_current_dir("../../navigator").unwrap();
        }
        
        let real_json = do_action("GoBack","","");
        assert!(real_json == current_settings_json, "GoBack on SignSufficientCrypto screen with SufficientCryptoReady modal. Expected Settings screen, got:\n{}", real_json);
        
        let real_json = do_action("NavbarLog","","");
        let expected_json_piece = r##""events":[{"event":"add_specs_message_signed","payload":{"base58prefix":"42","color":"#660D35","decimals":"12","encryption":"sr25519","genesis_hash":"e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","logo":"westend","name":"westend","path_id":"//westend","secondary_color":"#262626","title":"Westend","unit":"WND","signed_by":{"public_key":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","encryption":"sr25519"}}}]"##;
        assert!(real_json.contains(expected_json_piece), "Expected the updated log to contain entry about generating sufficient crypto, got:\n{}", real_json);
        
        do_action("RightButton","","");
        let real_json = do_action("ClearLog","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":1},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ClearLog on Log screen with LogRight modal. Expected updated Log screen with no modals, got:\n{}", real_json);
        
        do_action("NavbarSettings","","");
        do_action("ManageNetworks","","");
        do_action("GoForward","0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","");
        do_action("ManageMetadata","9150","");
        do_action("SignMetadata","","");
        let real_json = do_action("GoForward","0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","");
        let expected_json = r#"{"screen":"SignSufficientCrypto","screenLabel":"Sign SufficientCrypto","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h1","modal":"SufficientCryptoReady","alert":"Empty","screenData":{"identities":[{"seed_name":"Alice","address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","public_key":"3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend"},{"seed_name":"Alice","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","public_key":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","has_pwd":false,"path":""},{"seed_name":"Alice","address_key":"0164a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","public_key":"64a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030b49444154789cedda3f8e527114c5712929a95885c524b666626baf050b60092ec225b0000aed6dcdc4d6640a5741454989f7849cd1f77cef77cffdfd79017cdfe24c3124e47e0a4280c5f97c7ef5bf3709c2f178cc7e92d56ab5b03f4d6b825072b4570b94aa082d8fef5713a30a42cef1bbe52fdb6edbd36bdb5835308a10728e4743002c070295606423b4006053436421e402a096082807228450723c6b8dc0221832420d003415025221248408c07af3c6b6db61ffd3f6521461f3616ddb6dfff560aba540b808a5004c85f000584d886a082900e641a8004c85284250015014c1ab26024a418c224400d0b523a0318841842800ba050434042123acdf6d6cbb1dbeef6d2f45111e169f6cbb3d9f3fdb5e8a223c6efe7dfcd3fecfff9984a0023015c203602a8407c01408172105c03c08158079102a00eb432411fa00288ae01545f0ca41407f43cc08d60bc21000ba57044488ea083f160fb6ddde9e9f6d2f4511764f4bdb6edbc793eda54910500ac203602a8407c05488310014424043102a00f3205400e641a4005007c103508a227845117203c48c3023041176cb2fb6ddb6a78fb697a208de3bcb28c26ef9cdb6dbf6f4de369d8c3004c054080f80a9101e00f32024841400f3205400e641a8002c05d104c12b8ae0352358338275950877f99a8052101e0053213c00a642a400908c8086205400e641a800cc83f0005008c12b8ae01545c86d46b06604eb0501791077ff79024a210c013015c203602a8407c0521032420a8079102a00f32054003606d10cc12b8ae05515010d41dc2b0201d08c607510501f228ae0bd138c224cfe5d24ea23a0148407c054080f80a9107d00e42220154205601e840ac03c080500c9085e5104af28829a8c80a210b78030048046115004e2da11c600501201a91051849bf91d235211500ac203602a840a808a115029840ac03c889a0048424011885451849214002423a01a105321a8002884c04a305a23448e6759082817a225420e00ca46402d20a6064045082c0763082207a0e478560581e560e456e378561581b5c4a8793c6b82d0af04a5c5d1fd2641b8f67e0340babfaccd8d3a340000000049454e44ae426082","has_pwd":false,"path":"//kusama"},{"seed_name":"Alice","address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","public_key":"8266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret"},{"seed_name":"Alice","address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice"},{"seed_name":"Alice","address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","public_key":"e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path"},{"seed_name":"Alice","address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","public_key":"f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot"}]},"modalData":{"author_info":{"base58":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","seed":"Alice","derivation_path":""},"sufficient":"**","content":{"type":"load_metadata","specname":"westend","spec_version":"9150","meta_hash":"b5d422b92f0183c192cbae5e63811bffcabbef22b6f9e05a85ba7b738e91d44a","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000031a49444154789cedd9318e134110856176e34d1cfb009c8100e7042040724cce1588b90239b1254010909b80337000c74e1cafa9a7d15b3cb33d5d55ddd563b33b7f5013d81aabbec01a4d5f1d8fc7278fbd4910f6fb7df18f2c168b2bb934ad0942cdd25a2d5042115a2e3f2c122304a164f9e7cbb5cc7ebf761b99be2230aa104a964729005602816a308a115a00b0a9218a104a01504b045402e142a8599eb546601e0c334204009a0a0159214c081e80d5e18bcc7edb9bb732bbbc08af12dfff7ef2b996054245a8056056080d8045428421e400980661056056882a042b00f222684522a01cc4288207005d3a021a8348227801d0ff808052107684ebcf3206ddbe93d1e545b8fe71ff7eb72fffddcf8bb039ac64f65bdf6c65f633219801981142036056080d80592074841c005320ac004c83b002b0214416e11e007222687911b44a10d029c48c20dd212401d003454084084758ae9fc9ecb7dbfc96d9e54578faf583cc7e7fde7c94d9350d02ca412800cc0aa101302bc41800f221a01484118069105600a641e400500f410530e445d0f2229406881961463833c272fd5a66bfdde69bcc2e2f82f66439562802ca416800cc0aa101300d221c01a520ac004c83b002b01c4413042d2f82d68c20cd08d245221c569f64f6bbd9be97d9e545d09e2c2f0e2105c0ac101a00b342e4005028420e8069105600a6416800e8ac085a5e84d26604694690ee109006f133f13ee1c5c9fb042f82f664e945d0ce365301402eddfb0494434801302b8406c0ac101a00cb41981172004c83b002300dc20ac0c6209a21687911b44211500ae2a1221000cd08520f010d21ce8da09d6d96209c02201501e5203c002c07a101302bc41000a908c80a5102c052105600a6415800901961eabc08d6cc08e8dc102d1052006814019d13221a610c006511503388c47fcce9d96624420e009d072105c08c105600548d80422172004c8188044026041406e144a8c90280cc0828046222042b007221b02a8cc6089ee55911022a8668885002808a1150138889015015022bc248411400d42ccf42105811466111cbb35004d612237279d60461580d4a8ba5874d8270e9fd051ca477ac5d82b4670000000049454e44ae426082"}},"alertData":{}}"#;
        let (cut_real_json, sufficient_hex) = process_sufficient(&real_json);
        assert!(cut_real_json == expected_json, "GoForward on SignSufficientCrypto screen with Alice root key as an entry. Expected modal SufficientCryptoReady, got:\n{}", real_json);
        
        {
            // testing the validity of the received sufficient crypto object
            std::env::set_current_dir("../generate_message").unwrap();
            let command = std::process::Command::new("cargo")
                .arg("run")
                .args(["sign", "-text", "-sufficient", "-hex", &sufficient_hex, "-msgtype", "load_metadata", "-payload", "navigator_test_files/sign_me_load_metadata_westendV9150"])
                .output()
                .unwrap();
            assert!(command.status.success(), "Produced sufficient crypto did not work. {}.", String::from_utf8(command.stderr).unwrap());
            std::env::set_current_dir("../files/signed").unwrap();
            std::fs::remove_file("load_metadata_westendV9150.txt").unwrap();
            std::env::set_current_dir("../../navigator").unwrap();
        }
        
        do_action("GoBack","","");
        let real_json = do_action("NavbarLog","","");
        let expected_json_piece = r#""events":[{"event":"load_metadata_message_signed","payload":{"specname":"westend","spec_version":"9150","meta_hash":"b5d422b92f0183c192cbae5e63811bffcabbef22b6f9e05a85ba7b738e91d44a","meta_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000031a49444154789cedd9318e134110856176e34d1cfb009c8100e7042040724cce1588b90239b1254010909b80337000c74e1cafa9a7d15b3cb33d5d55ddd563b33b7f5013d81aabbec01a4d5f1d8fc7278fbd4910f6fb7df18f2c168b2bb934ad0942cdd25a2d5042115a2e3f2c122304a164f9e7cbb5cc7ebf761b99be2230aa104a964729005602816a308a115a00b0a9218a104a01504b045402e142a8599eb546601e0c334204009a0a0159214c081e80d5e18bcc7edb9bb732bbbc08af12dfff7ef2b996054245a8056056080d8045428421e400980661056056882a042b00f222684522a01cc4288207005d3a021a8348227801d0ff808052107684ebcf3206ddbe93d1e545b8fe71ff7eb72fffddcf8bb039ac64f65bdf6c65f633219801981142036056080d80592074841c005320ac004c83b002b0214416e11e007222687911b44a10d029c48c20dd212401d003454084084758ae9fc9ecb7dbfc96d9e54578faf583cc7e7fde7c94d9350d02ca412800cc0aa101302bc41800f221a01484118069105600a641e400500f410530e445d0f2229406881961463833c272fd5a66bfdde69bcc2e2f82f66439562802ca416800cc0aa101300d221c01a520ac004c83b002b01c4413042d2f82d68c20cd08d245221c569f64f6bbd9be97d9e545d09e2c2f0e2105c0ac101a00b342e4005028420e8069105600a6416800e8ac085a5e84d26604694690ee109006f133f13ee1c5c9fb042f82f664e945d0ce365301402eddfb0494434801302b8406c0ac101a00cb41981172004c83b002300dc20ac0c6209a21687911b44211500ae2a1221000cd08520f010d21ce8da09d6d96209c02201501e5203c002c07a101302bc41000a908c80a5102c052105600a6415800901961eabc08d6cc08e8dc102d1052006814019d13221a610c006511503388c47fcce9d96624420e009d072105c08c105600548d80422172004c8188044026041406e144a8c90280cc0828046222042b007221b02a8cc6089ee55911022a8668885002808a1150138889015015022bc248411400d42ccf42105811466111cbb35004d612237279d60461580d4a8ba5874d8270e9fd051ca477ac5d82b4670000000049454e44ae426082","signed_by":{"public_key":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","encryption":"sr25519"}}}]"#;
        assert!(real_json.contains(expected_json_piece), "Expected the updated log to contain entry about generating sufficient crypto, got:\n{}", real_json);
        do_action("RightButton","","");
        do_action("ClearLog","","");

        do_action("NavbarSettings","","");
        do_action("ManageNetworks","","");
        do_action("RightButton","","");
        do_action("SignTypes","","");
        let real_json = do_action("GoForward","0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","");
        let expected_json = r#"{"screen":"SignSufficientCrypto","screenLabel":"Sign SufficientCrypto","back":true,"footer":false,"footerButton":"Settings","rightButton":"None","screenNameType":"h1","modal":"SufficientCryptoReady","alert":"Empty","screenData":{"identities":[{"seed_name":"Alice","address_key":"013efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","public_key":"3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","has_pwd":false,"path":"//westend"},{"seed_name":"Alice","address_key":"0146ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","public_key":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","has_pwd":false,"path":""},{"seed_name":"Alice","address_key":"0164a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","public_key":"64a31235d4bf9b37cfed3afa8aa60754675f9c4915430454d365c05112784d05","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030b49444154789cedda3f8e527114c5712929a95885c524b666626baf050b60092ec225b0000aed6dcdc4d6640a5741454989f7849cd1f77cef77cffdfd79017cdfe24c3124e47e0a4280c5f97c7ef5bf3709c2f178cc7e92d56ab5b03f4d6b825072b4570b94aa082d8fef5713a30a42cef1bbe52fdb6edbd36bdb5835308a10728e4743002c070295606423b4006053436421e402a096082807228450723c6b8dc0221832420d003415025221248408c07af3c6b6db61ffd3f6521461f3616ddb6dfff560aba540b808a5004c85f000584d886a082900e641a8004c85284250015014c1ab26024a418c224400d0b523a0318841842800ba050434042123acdf6d6cbb1dbeef6d2f45111e169f6cbb3d9f3fdb5e8a223c6efe7dfcd3fecfff9984a0023015c203602a8407c01408172105c03c08158079102a00eb432411fa00288ae01545f0ca41407f43cc08d60bc21000ba57044488ea083f160fb6ddde9e9f6d2f4511764f4bdb6edbc793eda54910500ac203602a8407c05488310014424043102a00f3205400e641a4005007c103508a227845117203c48c3023041176cb2fb6ddb6a78fb697a208de3bcb28c26ef9cdb6dbf6f4de369d8c3004c054080f80a9101e00f32024841400f3205400e641a8002c05d104c12b8ae0352358338275950877f99a8052101e0053213c00a642a400908c8086205400e641a800cc83f0005008c12b8ae01545c86d46b06604eb0501791077ff79024a210c013015c203602a8407c0521032420a8079102a00f32054003606d10cc12b8ae05515010d41dc2b0201d08c607510501f228ae0bd138c224cfe5d24ea23a0148407c054080f80a9107d00e42220154205601e840ac03c080500c9085e5104af28829a8c80a210b78030048046115004e2da11c600501201a91051849bf91d235211500ac203602a840a808a115029840ac03c889a0048424011885451849214002423a01a105321a8002884c04a305a23448e6759082817a225420e00ca46402d20a6064045082c0763082207a0e478560581e560e456e378561581b5c4a8793c6b82d0af04a5c5d1fd2641b8f67e0340babfaccd8d3a340000000049454e44ae426082","has_pwd":false,"path":"//kusama"},{"seed_name":"Alice","address_key":"018266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","public_key":"8266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","has_pwd":false,"path":"//Alice/secret//secret"},{"seed_name":"Alice","address_key":"01d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","public_key":"d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27d","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000030e49444154789cedda4d6a544114c571330e0eb286640782d8ee4090081964033d105c90e0a0379041c020b8035b047790aca10792715b87e644eb59afeeb9f5f1e86edf7f70320cf7075d83a44fb6dbedb3ffbd4910369b4df12f393b3b3b093fbad605a1e668ab1e284d117a1e3fac2546138492e3bf3ede868d7b737a15d6570b8c2a8492e3510a809540a01a8c62841e006c6a8822845200d413019540b8106a8e67bd1198074346680180a642402a8484e001f8717d1f36eee5cd45d85d5e842ff7d761e3de5edc84d552204c845a00a6425800ac254433841c00b3205400a6425421a800c88b60d51201e52046113c0068df11d0184412c10b800e0101a5206484d5e243d8b8e5fa63d85d5e84cbd7e761e3eebe3d84dde54558ac5661e3d6cb65d838094105602a8405c054080b80291026420e8059102a00b32054003684c8220c019017c1ca8b60558280fe869811424f08290074ac088810cd113e25de84f7156fc2cfc49bf0a2f24d603202ca4158004c85b000980a3106805c082805a102300b42056016440e00450816809217c1ca8b501a20668419c189f0ebf6316cdcf3abd3b0bbbc08ef16ff7e863fafff7c86bd08af2ecfc3c67dbf7b089b4f4648013015c202602a8405c02c08092107c02c08158059102a00cb417441b0f22258cd08a11921b4970847f926a01c8405c054080b80a91039002423a014840ac02c081580591016007221587911acbc08a5cd08a11921f484802c88a3ff7b02ca21a400980a61013015c202603908192107c02c08158059102a001b83e88660e545b06a8a805210c78a400034238422043484f0221cfcff22d11001e5202c00a64258004c851802201301a9102a00b3205400664128004846b0f222587911d46404e48538048414001a45401e887d471803405904a44278110ee67b8c48454039080b80a9102a00aa4640b5102a00b3205a0220090179207279116a5200908c805a404c85a002201702abc1e88de0399e1521a052889e082500a81801f580981a005521b0128c14440940cdf1ac09022bc128adc5f1ac2902eb89d1f278d60561580d4a8fa3874d82b0effd06a580bfac7347ad900000000049454e44ae426082","has_pwd":false,"path":"//Alice"},{"seed_name":"Alice","address_key":"01e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","public_key":"e83f1549880f33524079201c5c7aed839f56c73adb2f61d9b271ae2d692dfe2c","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035d49444154789cedd83d6e144110c5717c84cdb80909310907e0160448ce08c92c11700b0e40424cc24dc8f6084b3fadca7adbaea98feeead14a9e7fb00e76d4fde62759323c5c2e9737afbd5d10cee7f3f025a7d3e9a1fd58da12849997f65a81528ab0f2e5fb2a314a10465efef39f2fedf3b61fefbfb7cf5c15185308232f8f3400690402cd600c23ac0090f68618421805402b11d008440a61e6e5a5d5085206238c500180f642405188104206e0e9d3c7f679dbe3cf5fedf35a16c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46d5e759109b081900543dbafa3cb405a122640150f5e8eaf3240d228c50fd3bfcf7dfeff679dbbbb71fdae7b5ec79de3e2984100590f8226b380fd600a428049f17dd27f5102e827581c41769c379b0052079107c5e761f32117a003472895516c16b741f431c08ad67040d008d5eb2d5bd2020812847d05e925f4afbbecf7b9ebfcfeee3c208c8ba882fd0064b3cbcfab9e8bebe1402d22ee20bacc1120fd79ef7beefe3e7bd7d5a37081e40a4ec68afeaf3b602c48170202411bcbfdcb2a3bf3dbd3cefebe3f879debeadc208da05125f640de7c11a801485e0f3a2fbb44208d605125fa40de7c11680e441f079d97d7d4b10bcb2085eb3fb0e84d681d05a82e0fd0e6711bcf3b2fbfa4208c8ba882fd0064b3cdc82f000243e2fba4f2b8c80b48bf8026bb0c4c335882880c4e779fbb64a217865477b559fb7d581d03a105acf08c883f0febd9e1dad3def7ddfc7cf7bfbb400d07e5cff3f015908da05125f640de7c1d5cf45f7f58511ac0b24be481bce83b5effbbce7f9fbec3e6e198297f6527dfc925e33fb5e20200d62e612ad7b4110007420b46e10500f91bdc4fbcb2d8be09d97dd871800b908c8ba882fd0064b3cdc82f000243e2fba4f72115014822fb0064b3c5c838802487c9eb74fea015018c12b3bdaabfa3c298c80b210d5a3abcf431a00da44401988ead1d5e76d012013014521b2a3bddfe1ec795616002a4340d6701eac014851083ecf6b1a01cd42f0600b40f220f83c2f0f0085105006c22a8b3053040085115005c45e08510094429066305623645e5e1a4240a3102b114600d030025a01b137009a42904630348811809997974a10a4118cd12a5e5e2a4590566254bebcb404a16f0665c54bf7ed8270effd075b56bfacbb4d34cc0000000049454e44ae426082","has_pwd":true,"path":"//secret//path"},{"seed_name":"Alice","address_key":"01f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","public_key":"f606519cb8726753885cd4d0f518804a69a5e0badf36fee70feadd8044081730","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003a849444154789cedd82f6e1b5110c7f1865a0ab054c9a8dc472829300a2c28aa941ba46728e8199a1b442a2a280c3228e911cc8b2c55328864eace6835c9ec7a76febc376f6529fb052fecbddf7ea4105f9d4ea737afbd49100e8743f123cbe5f20afe34ad0942cd475bb540494568f9f1c3323152104a3e7eb1dec2d9efb8dbc0192b03a30aa1e4e33109802a81c06a308a115a0050534314219402602d11b012881042cdc753ad11a808861b2103009b0a01f342b8102200abed4738fbed37bfe0ec8a2258f75979204c845a008a0fd7202c008adf676541a4216883293e5c82f00250fc3ead2a042f0096391acbbe4f831845880060d9a3b3efc3c62044842800963d3afb3e4a8270232c1ed670f63bdeeee0ec8a8e7ebcbf86b3dfcddd139c5dd1fbac7d940bc10b40f187b4e17cb004407921f87dde7dd410c244d01ea0f843d2703e5803a02c087e5f741fa6220c01b09247b4a20856a5fb38c48c003d23480058e923635d0a024610e908ebf70b38fbedfe1ce1ec8a2258f745f7f1dc0898f6107f401a4cf1e11a840540f1fbbcfb86851030e921fe803698e2c325082f00c5efb3f649f5102c004fd1d156d9f78d851033c28c104478b75dc1d9efef660f675774f4f5fd4f38fb3ddd7d82b32b7a9fb56f2c3782f400c51fd286f3c11200e585e0f779f749b910b40728fe90349c0fd600280b82df17dd37ac09825514c1aa76df8c00cd085013842febf3ffe1efbb97ffe12882755f74df301702a63dc41f9006537cb806610150fc3eef3e293702263dc41fd006537cb804e105a0f87dd6beb1420856d1d156d9f78d3523403302f48c8059109f85513fd888e8e8d5b72d9cfdf65f37707645efb3f6492100fce97e4fc03404e9018a3fa40de7832500ca0bc1eff3ee1be646d01ea0f843d2703e5803a02c087e5f741faf19825514c1aa66df19022641d43c227529080480cd08500f011b42441fb9599cffeafb787cf9d5378a60dd17dd877100cc44c0b487f803d2608a0fd7202c008adfe7dd4799089817823fa00da6f87009c20b40f1fbac7dd4100073235845475b65df47b911b02844f6e8ecfb3009001b45c02210d9a3b3ef1b03c05404cc0b111d7dfbf6039cfd1efefd86b32b7a9f960680a52160da703e5802a0bc10fc3eab6a04ac16820fd600280b82df676501602e042c02a11545a8c90380b911b00c88a910bc00580881aac1688d10f978aa08012b8568895002801523602d20a606c0aa10a8120c09a204a0e6e3a91404aa04a3b48c8fa75211a89618991f4f3541185683d2e2a3874d8270e9fd07d4a1bface9299ffb0000000049454e44ae426082","has_pwd":false,"path":"//polkadot"}]},"modalData":{"author_info":{"base58":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","seed":"Alice","derivation_path":""},"sufficient":"**","content":{"type":"load_types","types_hash":"d091a5a24a97e18dfe298b167d8fd5a2add10098c8792cba21c39029a9ee0aeb","types_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035549444154789cedd8dd89144114c57117049fdb140cc18c8c61c3d818ccc8104cc17e1684b50ec35dcfd4debe1f55b79a01fbff30fb304dd5e91f2cac3ebdbebe7ef8df3b0561dff7e14bb66d7b6a3f96b60461e6a5bd56a09422ac7cf9be4a8c12849197fffce55bfbbcefd7cfefed335705c614c2c8cb230d401a81403318c3082b00a4b32186104601d04a043402914298797969358294c108235400a0b310501422849001d87ebcb4cffbf6afcfedf35616c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46e5e7191087081900543ebaf83c7404a122640150f5e8eaf3240d228c50fd3bfc697bfffceffddff7d9f3bc7d5208210a20f145d6701eac014851083e2fba4fea215c04eb02892fd286f3600b40f220f8bcec3e6422f40068e412ab2c82d7e83e86b8105a6f081a001abde4a847414002518ea0bd24bf94f67d9ff73c7f9fddc785119075115fa00d967878f573d17d7d2904a45dc4175883251eae3def7ddfc7cf7bfbb4ee103c8048d9d15ed5e71d05880be1424822787fb965477f7cd9dae77d7f9ef7f6792b7b9eb7efa830827681c41759c379b006204521f8bce83ead10827581c41769c379b0052079107c5e765fdf1204af2c82d7ecbe0ba17521b4962078bfc35904efbcecbebe1002b22ee20bb4c1120fb7203c0089cf8beed30a2320ed22bec01a2cf1700d220a20f179debea352085ed9d15ed5e71d7521b42e84d61b02f220bc7faf67476bcf7bdff7f1f3de3e2d00b41fb7ff4f4016827681c41759c37970f573d17d7d6104eb02892fd286f360edfb3eef79fe3ebb8f5b86e0a5bd541fbfa4d7ccbe7708488398b944eb511004005d08ad3b04d443642ff1fe72cb2278e765f72106402e02b22ee20bb4c1120fb7203c0089cf8bee935c041485e00bacc1120fd720a200129fe7ed937a001446f0ca8ef6aa3e4f0a23a02c44f5e8eaf39006800e115006a27a74f9790700c844405188ec68ef77387b9e950580ca1090359c076b00521482cff39a4640b3103cd802903c083ecfcb034021049481b0ca22cc140140610454017116421400a510a4198cd5089997978610d028c44a841100348c8056409c0d80a610a4110c0d620460e6e5a51204690463b48a97974a11a49518952f2f2d41e89b4159f1d27da7203c7a7f01d20cbfac205d21400000000049454e44ae426082"}},"alertData":{}}"#;
        let (cut_real_json, sufficient_hex) = process_sufficient(&real_json);
        assert!(cut_real_json == expected_json, "GoForward on SignSufficientCrypto screen with Alice root key as an entry. Expected modal SufficientCryptoReady, got:\n{}", real_json);
        
        {
            // testing the validity of the received sufficient crypto object
            std::env::set_current_dir("../generate_message").unwrap();
            let command = std::process::Command::new("cargo")
                .arg("run")
                .args(["sign", "-text", "-sufficient", "-hex", &sufficient_hex, "-msgtype", "load_types", "-payload", "navigator_test_files/sign_me_load_types"])
                .output()
                .unwrap();
            assert!(command.status.success(), "Produced sufficient crypto did not work. {}.", String::from_utf8(command.stderr).unwrap());
            std::env::set_current_dir("../files/signed").unwrap();
            std::fs::remove_file("load_types.txt").unwrap();
            std::env::set_current_dir("../../navigator").unwrap();
        }
        
        do_action("GoBack","","");
        let real_json = do_action("NavbarLog","","");
        let expected_json_piece = r#""events":[{"event":"load_types_message_signed","payload":{"types_hash":"d091a5a24a97e18dfe298b167d8fd5a2add10098c8792cba21c39029a9ee0aeb","types_id_pic":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000035549444154789cedd8dd89144114c57117049fdb140cc18c8c61c3d818ccc8104cc17e1684b50ec35dcfd4debe1f55b79a01fbff30fb304dd5e91f2cac3ebdbebe7ef8df3b0561dff7e14bb66d7b6a3f96b60461e6a5bd56a09422ac7cf9be4a8c12849197fffce55bfbbcefd7cfefed335705c614c2c8cb230d401a81403318c3082b00a4b32186104601d04a043402914298797969358294c108235400a0b310501422849001d87ebcb4cffbf6afcfedf35616c13bcf2b02e122cc02483cdc82f000243ecfcb832843b0064b3c5c838802487c9ed514421400558e46e5e7191087081900543ebaf83c7404a122640150f5e8eaf3240d228c50fd3bfc697bfffceffddff7d9f3bc7d5208210a20f145d6701eac014851083e2fba4fea215c04eb02892fd286f3600b40f220f8bcec3e6422f40068e412ab2c82d7e83e86b8105a6f081a001abde4a847414002518ea0bd24bf94f67d9ff73c7f9fddc785119075115fa00d967878f573d17d7d2904a45dc4175883251eae3def7ddfc7cf7bfbb4ee103c8048d9d15ed5e71d05880be1424822787fb965477f7cd9dae77d7f9ef7f6792b7b9eb7efa830827681c41759c379b006204521f8bce83ead10827581c41769c379b0052079107c5e765fdf1204af2c82d7ecbe0ba17521b4962078bfc35904efbcecbebe1002b22ee20bb4c1120fb7203c0089cf8beed30a2320ed22bec01a2cf1700d220a20f179debea352085ed9d15ed5e71d7521b42e84d61b02f220bc7faf67476bcf7bdff7f1f3de3e2d00b41fb7ff4f4016827681c41759c37970f573d17d7d6104eb02892fd286f360edfb3eef79fe3ebb8f5b86e0a5bd541fbfa4d7ccbe7708488398b944eb511004005d08ad3b04d443642ff1fe72cb2278e765f72106402e02b22ee20bb4c1120fb7203c0089cf8bee935c041485e00bacc1120fd720a200129fe7ed937a001446f0ca8ef6aa3e4f0a23a02c44f5e8eaf39006800e115006a27a74f9790700c844405188ec68ef77387b9e950580ca1090359c076b00521482cff39a4640b3103cd802903c083ecfcb034021049481b0ca22cc140140610454017116421400a510a4198cd5089997978610d028c44a841100348c8056409c0d80a610a4110c0d620460e6e5a51204690463b48a97974a11a49518952f2f2d41e89b4159f1d27da7203c7a7f01d20cbfac205d21400000000049454e44ae426082","signed_by":{"public_key":"46ebddef8cd9bb167dc30878d7113b7e168e6f0646beffd77d69d39bad76b47a","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000033a49444154789cedd8316e1441108561fb084e1d7100c71081135b64e6045cc289034484089cf8129c80cdd03a314410ef01889cee11967a1a9599197aba5e55778fd766fea036989656f505a3d61cee76bb83ffbd5910b6db6df84f8e8e8e0ee5a7694d104a96b66a815215a1e5f2e36a625441882c7ff9f94ee6b09b0fa7327dd5c02842882c8f52005a0402956084115a006873438410a200a825028a40b8104a96d75a23681e0c1aa106009a0b01b110148207e0e2fdb5cc61ab2f5732bbbc083f6fef650e7b75762c938b8130114a013416c202d06a425443c8016816040ba0b11045082c00f22258d54440398849040f00da770434059144f002a0a78080521034c2e5dd3799c36e4edfcaecf2229c9cbf91396cb3fe2eb3cb8b60bd63340a8105d058080b4063212c008d81301172009a05c1026816040ba08d21b2086300e445b0f222584510501f6241901e105200e8b9222085a88ef0fae45ce6b01f9bb5cc2e2f42ea7cfff92c0828076101682c447f41f65c0e620a00b910500a8205d02c88fe62a9e7e3fae7531039003440b00098bc08565e8468805810160427c2bb8b7f6f825f577f6f828f8d60dd54a7a21152001a0be101d072101680664150083900cd8288006829081640cb41344198bb05415a10a4bd44b8bffd7d30eef8ecc54134eb1d330b02ca4158005a042205a0b11039004423a014040ba0792072009a056101201782d56323445b10a405417a404016c4c5f54799c356579f6476791152e7fbcfbd08d6f78e5400909fee7b02ca21a4003416a2bf207b2e0761016839081a2107a05910fdc552cfc7f5cfa72058006d0aa219829517c1aa2a024a413c570405400b8234404063082fc2cbf31399c37ead3732bbbc08d64d3582d007402602ca4158001a0b6101682cc41800990888856001340b8205d02c080600d108565e042b2f021b8d80bc104f012105802611900762df11a600501601b1105e04eb1d5313210780aa21a01c8405a0b1102c002a4640a5102c806641d404401402f240e4f22294c400201a01d580980b8105402e04ad04a3358267792d8480a2102d112200288c805a40cc0d808a10b408460a220250b2bc5605418b6044abb1bc5615416b89517379ad09c2b81294164b8f9b0561dffb036973a4ac27dc44b20000000049454e44ae426082","encryption":"sr25519"}}}]"#;
        assert!(real_json.contains(expected_json_piece), "Expected the updated log to contain entry about generating sufficient crypto, got:\n{}", real_json);
        do_action("RightButton","","");
        do_action("ClearLog","","");
        
        // let's scan something!!! oops wrong network version
        do_action("NavbarScan","","");
        let real_json = do_action("TransactionFetched","530100d43593c715fdd31c61141abd04a99fd6822c8558854ccde39a5684e7a56da27da40403008eaf04151687736326c9fea17e25fc5287613693c912909cb226aa4794f26a480700e8764817b501b8003223000005000000e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e538a7d7a0ac17eb6dd004578cb8e238c384a10f57c999a3fa1200409cd9b3f33e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","");
        let expected_json = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"content":{"error":[{"index":0,"indent":0,"type":"error","payload":"Failed to decode extensions. Try updating metadata for westend network. Parsing with westend9150 metadata: Network spec version decoded from extensions (9010) differs from the version in metadata (9150)."}]},"type":"read"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "TransactionFetched on Scan screen containing transaction. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","","");
        assert!(real_json == expected_json, "GoForward on Transaction screen with transaction that could be only read. Expected to stay in same place, got:\n{}", real_json);
        
        // let's scan something real!!!
        do_action("GoBack","","");
        let transaction_hex = "5301008266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235ea40403008eaf04151687736326c9fea17e25fc5287613693c912909cb226aa4794f26a480700e8764817b501b800be23000005000000e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e538a7d7a0ac17eb6dd004578cb8e238c384a10f57c999a3fa1200409cd9b3f33e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e";
        let real_json = do_action("TransactionFetched",transaction_hex,"");
        let expected_json_transaction_sign = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"content":{"method":[{"index":0,"indent":0,"type":"pallet","payload":"Balances"},{"index":1,"indent":1,"type":"method","payload":{"method_name":"transfer_keep_alive","docs":"53616d6520617320746865205b607472616e73666572605d2063616c6c2c206275742077697468206120636865636b207468617420746865207472616e736665722077696c6c206e6f74206b696c6c207468650a6f726967696e206163636f756e742e0a0a393925206f66207468652074696d6520796f752077616e74205b607472616e73666572605d20696e73746561642e0a0a5b607472616e73666572605d3a207374727563742e50616c6c65742e68746d6c236d6574686f642e7472616e73666572"}},{"index":2,"indent":2,"type":"field_name","payload":{"name":"dest","docs_field_name":"","path_type":"sp_runtime >> multiaddress >> MultiAddress","docs_type":""}},{"index":3,"indent":3,"type":"enum_variant_name","payload":{"name":"Id","docs_enum_variant":""}},{"index":4,"indent":4,"type":"Id","payload":{"base58":"5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034d49444154789cedd93d6e144110c5717c04673e01c9264848080287dea8258ee2cc2200022040ce7c142447ebd00108098964134ee0ac8f60aa342a6b7b34dbef557f8cd6f6fc83b7a155bfa8e539babfbf7ff1dc9b0521c658fc478e8f8f8fe4a76b5d106a8e46f540698ad0f3f8712d319a20941c1f2edfcba65d5ffc90f5d502a30a21161caf850900ab0442abc12846881d00acb9218a10622180163a226825102e845871bc153a23581e0c1a213600d0c24c081a0b41214407c0ddcd2fd9b493b3b7b243c189b05ebd924ddb6cffca72311010215602582c0402b05a423443c80158088205b058882a844802685e04544b042d07b117c103a01d3a82b60f6212c10ba03d06046d0a824678b35ec9a6fdde6c6587bc08ffee6e64d35e9e9cc90e7911bede9ecba67d3abd924da31058008b854000160b81002c060222e4002c04c10258088205b0c61059843180e645407911502508da2ec482203d204c01684f15413388e60857e7b7b269e757a7b2435e8470f94d36edfae2a3ecd02c085a0e0201582c0402b058887d009a0b419b8260012c04c10258082207a025080880c98b80f22294a6100bc282e044402f412fc2ebd55a36edcf76233be44508979f65d3ae2fbec8e6a311a6002c160201582c0402b01004859003b010040b60210816c0ca417441407911500b82b420480789805e825e84d5fa9d6cda76f353766816042d0781002c160201582c440e40a311b4290816c042102c8085201080e642407911505e84d216046941901e10340411c0b7432f027a097a11be4fbc543fecbc54a75200f919fe9fa0c50c429800b058080460b11008c0ca41d008210360210816c042102c80b50fa21b02ca8b806a8aa0c50988f044110c405b10a404418b2388e04440df0ebd08e8255882b00ba041042d64201080c54220008b8518036810418b24040b60210816c042100c804623a0bc08282f021b8da079211e03c21480b61741f3401c3ac23e002d8ba0b1105e04f4edb025420e406b86a0e5201080c542b0005a3582560bc1025808a225804621681e885c5e849a18008d46d05a40cc85c002682e04ab06a33782e778ab08412b85e8895002a01523683d20e606d0aa10ac128c298812809ae3ad2608560946692d8eb79a22583d315a1e6f7541185783d2e3e871b3201c7aff01c564bfac995018020000000049454e44ae426082"}},{"index":5,"indent":2,"type":"field_name","payload":{"name":"value","docs_field_name":"","path_type":"","docs_type":""}},{"index":6,"indent":3,"type":"balance","payload":{"amount":"100.000000000","units":"mWND"}}],"extensions":[{"index":7,"indent":0,"type":"era","payload":{"era":"Mortal","phase":"27","period":"64"}},{"index":8,"indent":0,"type":"nonce","payload":"46"},{"index":9,"indent":0,"type":"tip","payload":{"amount":"0","units":"pWND"}},{"index":10,"indent":0,"type":"name_version","payload":{"name":"westend","version":"9150"}},{"index":11,"indent":0,"type":"tx_version","payload":"5"},{"index":12,"indent":0,"type":"block_hash","payload":"538a7d7a0ac17eb6dd004578cb8e238c384a10f57c999a3fa1200409cd9b3f33"}]},"author_info":{"base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","seed":"Alice","derivation_path":"//Alice/secret//secret","has_pwd":false},"network_info":{"network_title":"Westend","network_logo":"westend"},"type":"sign"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json_transaction_sign, "TransactionFetched on Scan screen containing transaction. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","Alice sends some cash",ALICE_WORDS);
        let (cut_real_json, signature_hex) = process_signature(&real_json);
        let expected_json_transaction_ready = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"SignatureReady","alert":"Empty","screenData":{"content":{"method":[{"index":0,"indent":0,"type":"pallet","payload":"Balances"},{"index":1,"indent":1,"type":"method","payload":{"method_name":"transfer_keep_alive","docs":"53616d6520617320746865205b607472616e73666572605d2063616c6c2c206275742077697468206120636865636b207468617420746865207472616e736665722077696c6c206e6f74206b696c6c207468650a6f726967696e206163636f756e742e0a0a393925206f66207468652074696d6520796f752077616e74205b607472616e73666572605d20696e73746561642e0a0a5b607472616e73666572605d3a207374727563742e50616c6c65742e68746d6c236d6574686f642e7472616e73666572"}},{"index":2,"indent":2,"type":"field_name","payload":{"name":"dest","docs_field_name":"","path_type":"sp_runtime >> multiaddress >> MultiAddress","docs_type":""}},{"index":3,"indent":3,"type":"enum_variant_name","payload":{"name":"Id","docs_enum_variant":""}},{"index":4,"indent":4,"type":"Id","payload":{"base58":"5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034d49444154789cedd93d6e144110c5717c04673e01c9264848080287dea8258ee2cc2200022040ce7c142447ebd00108098964134ee0ac8f60aa342a6b7b34dbef557f8cd6f6fc83b7a155bfa8e539babfbf7ff1dc9b0521c658fc478e8f8f8fe4a76b5d106a8e46f540698ad0f3f8712d319a20941c1f2edfcba65d5ffc90f5d502a30a21161caf850900ab0442abc12846881d00acb9218a10622180163a226825102e845871bc153a23581e0c1a213600d0c24c081a0b41214407c0ddcd2fd9b493b3b7b243c189b05ebd924ddb6cffca72311010215602582c0402b05a423443c80158088205b058882a844802685e04544b042d07b117c103a01d3a82b60f6212c10ba03d06046d0a824678b35ec9a6fdde6c6587bc08ffee6e64d35e9e9cc90e7911bede9ecba67d3abd924da31058008b854000160b81002c060222e4002c04c10258088205b0c61059843180e645407911502508da2ec482203d204c01684f15413388e60857e7b7b269e757a7b2435e8470f94d36edfae2a3ecd02c085a0e0201582c0402b058887d009a0b419b8260012c04c10258082207a025080880c98b80f22294a6100bc282e044402f412fc2ebd55a36edcf76233be44508979f65d3ae2fbec8e6a311a6002c160201582c0402b01004859003b010040b60210816c0ca417441407911500b82b420480789805e825e84d5fa9d6cda76f353766816042d0781002c160201582c440e40a311b4290816c042102c8085201080e642407911505e84d216046941901e10340411c0b7432f027a097a11be4fbc543fecbc54a75200f919fe9fa0c50c429800b058080460b11008c0ca41d008210360210816c042102c80b50fa21b02ca8b806a8aa0c50988f044110c405b10a404418b2388e04440df0ebd08e8255882b00ba041042d64201080c54220008b8518036810418b24040b60210816c042100c804623a0bc08282f021b8da079211e03c21480b61741f3401c3ac23e002d8ba0b1105e04f4edb025420e406b86a0e5201080c542b0005a3582560bc1025808a225804621681e885c5e849a18008d46d05a40cc85c002682e04ab06a33782e778ab08412b85e8895002a01523683d20e606d0aa10ac128c298812809ae3ad2608560946692d8eb79a22583d315a1e6f7541185783d2e3e871b3201c7aff01c564bfac995018020000000049454e44ae426082"}},{"index":5,"indent":2,"type":"field_name","payload":{"name":"value","docs_field_name":"","path_type":"","docs_type":""}},{"index":6,"indent":3,"type":"balance","payload":{"amount":"100.000000000","units":"mWND"}}],"extensions":[{"index":7,"indent":0,"type":"era","payload":{"era":"Mortal","phase":"27","period":"64"}},{"index":8,"indent":0,"type":"nonce","payload":"46"},{"index":9,"indent":0,"type":"tip","payload":{"amount":"0","units":"pWND"}},{"index":10,"indent":0,"type":"name_version","payload":{"name":"westend","version":"9150"}},{"index":11,"indent":0,"type":"tx_version","payload":"5"},{"index":12,"indent":0,"type":"block_hash","payload":"538a7d7a0ac17eb6dd004578cb8e238c384a10f57c999a3fa1200409cd9b3f33"}]},"author_info":{"base58":"5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","seed":"Alice","derivation_path":"//Alice/secret//secret","has_pwd":false},"network_info":{"network_title":"Westend","network_logo":"westend"},"type":"done"},"modalData":{"signature":"**"},"alertData":{}}"#;
        assert!(cut_real_json == expected_json_transaction_ready, "GoForward on parsed transaction. Expected modal SignatureReady, got:\n{}", real_json);
        
        assert!(signature_is_good(transaction_hex, &signature_hex), "Produced bad signature: \n{}", signature_hex);
        
        let real_json = do_action("GoBack","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":1,"timestamp":"**","events":[{"event":"transaction_signed","payload":{"transaction":"a40403008eaf04151687736326c9fea17e25fc5287613693c912909cb226aa4794f26a480700e8764817b501b800be23000005000000e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e538a7d7a0ac17eb6dd004578cb8e238c384a10f57c999a3fa1200409cd9b3f33","network_name":"westend","signed_by":{"public_key":"8266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","encryption":"sr25519"},"user_comment":"Alice sends some cash"}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":2},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoBack from Transaction with SignatureReady modal. Expected Log, got:\n{}", real_json);
        
        let real_json = do_action("ShowLogDetails","1","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"LogDetails","screenLabel":"Event details","back":true,"footer":true,"footerButton":"Log","rightButton":"None","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"timestamp":"**","events":[{"event":"transaction_signed","payload":{"transaction":{"method":[{"index":0,"indent":0,"type":"pallet","payload":"Balances"},{"index":1,"indent":1,"type":"method","payload":{"method_name":"transfer_keep_alive","docs":"53616d6520617320746865205b607472616e73666572605d2063616c6c2c206275742077697468206120636865636b207468617420746865207472616e736665722077696c6c206e6f74206b696c6c207468650a6f726967696e206163636f756e742e0a0a393925206f66207468652074696d6520796f752077616e74205b607472616e73666572605d20696e73746561642e0a0a5b607472616e73666572605d3a207374727563742e50616c6c65742e68746d6c236d6574686f642e7472616e73666572"}},{"index":2,"indent":2,"type":"field_name","payload":{"name":"dest","docs_field_name":"","path_type":"sp_runtime >> multiaddress >> MultiAddress","docs_type":""}},{"index":3,"indent":3,"type":"enum_variant_name","payload":{"name":"Id","docs_enum_variant":""}},{"index":4,"indent":4,"type":"Id","payload":{"base58":"5FHneW46xGXgs5mUiveU4sbTyGBzmstUspZC92UhjJM694ty","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034d49444154789cedd93d6e144110c5717c04673e01c9264848080287dea8258ee2cc2200022040ce7c142447ebd00108098964134ee0ac8f60aa342a6b7b34dbef557f8cd6f6fc83b7a155bfa8e539babfbf7ff1dc9b0521c658fc478e8f8f8fe4a76b5d106a8e46f540698ad0f3f8712d319a20941c1f2edfcba65d5ffc90f5d502a30a21161caf850900ab0442abc12846881d00acb9218a10622180163a226825102e845871bc153a23581e0c1a213600d0c24c081a0b41214407c0ddcd2fd9b493b3b7b243c189b05ebd924ddb6cffca72311010215602582c0402b05a423443c80158088205b058882a844802685e04544b042d07b117c103a01d3a82b60f6212c10ba03d06046d0a824678b35ec9a6fdde6c6587bc08ffee6e64d35e9e9cc90e7911bede9ecba67d3abd924da31058008b854000160b81002c060222e4002c04c10258088205b0c61059843180e645407911502508da2ec482203d204c01684f15413388e60857e7b7b269e757a7b2435e8470f94d36edfae2a3ecd02c085a0e0201582c0402b058887d009a0b419b8260012c04c10258082207a025080880c98b80f22294a6100bc282e044402f412fc2ebd55a36edcf76233be44508979f65d3ae2fbec8e6a311a6002c160201582c0402b01004859003b010040b60210816c0ca417441407911500b82b420480789805e825e84d5fa9d6cda76f353766816042d0781002c160201582c440e40a311b4290816c042102c8085201080e642407911505e84d216046941901e10340411c0b7432f027a097a11be4fbc543fecbc54a75200f919fe9fa0c50c429800b058080460b11008c0ca41d008210360210816c042102c80b50fa21b02ca8b806a8aa0c50988f044110c405b10a404418b2388e04440df0ebd08e8255882b00ba041042d64201080c54220008b8518036810418b24040b60210816c042100c804623a0bc08282f021b8da079211e03c21480b61741f3401c3ac23e002d8ba0b1105e04f4edb025420e406b86a0e5201080c542b0005a3582560bc1025808a225804621681e885c5e849a18008d46d05a40cc85c002682e04ab06a33782e778ab08412b85e8895002a01523683d20e606d0aa10ac128c298812809ae3ad2608560946692d8eb79a22583d315a1e6f7541185783d2e3e871b3201c7aff01c564bfac995018020000000049454e44ae426082"}},{"index":5,"indent":2,"type":"field_name","payload":{"name":"value","docs_field_name":"","path_type":"","docs_type":""}},{"index":6,"indent":3,"type":"balance","payload":{"amount":"100.000000000","units":"mWND"}}],"extensions":[{"index":7,"indent":0,"type":"era","payload":{"era":"Mortal","phase":"27","period":"64"}},{"index":8,"indent":0,"type":"nonce","payload":"46"},{"index":9,"indent":0,"type":"tip","payload":{"amount":"0","units":"pWND"}},{"index":10,"indent":0,"type":"name_version","payload":{"name":"westend","version":"9150"}},{"index":11,"indent":0,"type":"tx_version","payload":"5"},{"index":12,"indent":0,"type":"block_hash","payload":"538a7d7a0ac17eb6dd004578cb8e238c384a10f57c999a3fa1200409cd9b3f33"}]},"network_name":"westend","signed_by":{"public_key":"8266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082","encryption":"sr25519"},"user_comment":"Alice sends some cash"}}]},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ShowLogDetails on Log screen with order 1. Expected LogDetails screen with decoded transaction and no modals, got:\n{}", real_json);
        
        do_action("GoBack","","");
        do_action("RightButton","","");
        do_action("ClearLog","","");
        
        // let's scan a text message
        do_action("NavbarScan","","");
        let message_hex = "5301033efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34f5064c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2ee143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e";
        let real_json = do_action("TransactionFetched",message_hex,"");
        let expected_json_message_sign = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"content":{"message":[{"index":0,"indent":0,"type":"text","payload":"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e"}]},"author_info":{"base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","seed":"Alice","derivation_path":"//westend","has_pwd":false},"network_info":{"network_title":"Westend","network_logo":"westend"},"type":"sign"},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json_message_sign, "TransactionFetched on Scan screen containing message transaction. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let text = String::from_utf8(hex::decode(TEXT.captures(&real_json).unwrap().name("text").unwrap().as_str()).unwrap()).unwrap(); // the way we extract text in ui atm
        let expected_text = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";
        assert!(text == expected_text, "Different text: \n{}", text);
        
        let real_json = do_action("GoForward","text test",ALICE_WORDS);
        let (cut_real_json, signature_hex) = process_signature(&real_json);
        let expected_json_message_ready = r#"{"screen":"Transaction","screenLabel":"","back":true,"footer":false,"footerButton":"Scan","rightButton":"None","screenNameType":"h1","modal":"SignatureReady","alert":"Empty","screenData":{"content":{"message":[{"index":0,"indent":0,"type":"text","payload":"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e"}]},"author_info":{"base58":"5DVJWniDyUja5xnG4t5i3Rrd2Gguf1fzxPYfgZBbKcvFqk4N","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","seed":"Alice","derivation_path":"//westend","has_pwd":false},"network_info":{"network_title":"Westend","network_logo":"westend"},"type":"done"},"modalData":{"signature":"**"},"alertData":{}}"#;
        assert!(cut_real_json == expected_json_message_ready, "GoForward on parsed transaction. Expected modal SignatureReady, got:\n{}", real_json);
        
        assert!(signature_is_good(message_hex, &signature_hex), "Produced bad signature: \n{}", signature_hex);
        
        let real_json = do_action("GoBack","","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":1,"timestamp":"**","events":[{"event":"message_signed","payload":{"message":"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e","network_name":"westend","signed_by":{"public_key":"3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","encryption":"sr25519"},"user_comment":"text test"}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":2},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoBack from Transaction with SignatureReady modal. Expected Log, got:\n{}", real_json);
        
        let real_json = do_action("ShowLogDetails","1","");
        let cut_real_json = timeless(&real_json);
        let expected_json = r#"{"screen":"LogDetails","screenLabel":"Event details","back":true,"footer":true,"footerButton":"Log","rightButton":"None","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"timestamp":"**","events":[{"event":"message_signed","payload":{"message":"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e","network_name":"westend","signed_by":{"public_key":"3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34","identicon":"89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c945000003ac49444154789cedd83d6e14411086614c6cad64647184cd080988b80001172021441b7100020e40b42224e102045c808880906c8f802c2cad1c63ba34faec9ad99afae9ae5eade479832600757ff30496c5d9edededa387de5110aeafafab1fb9b8b8382b7f74ad0b42cb475bf5404945e8f9f1d3323152106a3e7efb6b55ce719be7fb72c6cac06842a8f9784a02403510540b4635420f00746c882a845a00aa27025503114268f978d41b014530dc081900d4b110282f840b2102b0fab22de7b8fddb4d3987a208d67d561e0813a11500f1e11a840580f87d5616441a823618f1e112841700f1fbb49a10bc0054e6682afb3e0d6216210240658fcebe8f9a831011a20054f6e8ecfb9004e146f8bb3e2fe7b827bb9b720e4547ffdb1efe4c78bca9ff9960ed432e042f00e20f69c3f96009007921f87dde7d680a6122680f20fe90349c0fd6009005c1ef8beea35484290055f3885614c1aa761f8758104a7708120055fbc85ca7824001221d61fde9f0dfefdedfff7d14c1ba2fba8fe746a0b487f803d260c4876b101600e2f779f74d0b2150d243fc016d30e2c325082f00e2f759fba446081680a7e868abecfbe622880561410822bcba7c53ce71dfafbe9673283afac7e7a7e51cf7f2dd9f720e45efb3f6cde546901e40fc216d381f2c01202f04bfcfbb4fca85a03d80f843d2703e5803401604bf2fba6f5a1704ab288255ebbe05a1b42094ba206c57bfcb396eb37f56cea12882755f74df341702a53dc41f9006233e5c83b00010bfcfbb4fca8d40490ff107b4c1880f9720bc0088df67ed9b2b8460151d6d957ddf5c0b42694128dd215016c4f9fa4339c7ddec3e9673283afae76a5bce712ff69b720e45efb3f6491140f963f8ff044a43901e40fc216d381f2c01202f04bfcfbb6f9a1b417b00f187a4e17cb006802c087e5f741faf1b825514c1aa65df01022541b43c22752a0800a01684d208819a42441fb95c1ffee676b5bbffcd2d8a60dd17dd477100ca44a0b487f803d260c4876b101600e2f779f7211381f242f007b4c1880f9720bc0088df67ed435300ca8d60151d6d957d1f7223505188ecd1d9f7511200358b404520b24767df370740a9089417223afadbf9ba9ce35edfecca3914bd4f4b03a0d210286d381f2c01202f04bfcfaa19816a85e08335006441f0fbac2c00ca85404520b4a2082d79002837029501712c042f001542402d18bd11221f8faa10a85a889e083500543502d503e2d800541302aac190206a005a3e1ea520a01a8cda323e1ea522a09e18991f8fba204c6b41e9f1d1d38e8270eafd078fa8bfac68d834b50000000049454e44ae426082","encryption":"sr25519"},"user_comment":"text test"}}]},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "ShowLogDetails on Log screen with order 1. Expected LogDetails screen with decoded message and no modals, got:\n{}", real_json);
        
        do_action("GoBack","","");
        do_action("RightButton","","");
        do_action("ClearLog","","");
        
        do_action("NavbarKeys","","");
        do_action("RightButton","","");
        do_action("NewSeed","","");
        let real_json = do_action("GoForward","Pepper","");
        let (cut_real_json, seed_phrase_pepper) = cut_seed(&cut_identicon(&real_json));
        let expected_json = r#"{"screen":"NewSeed","screenLabel":"New Seed","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"NewSeedBackup","alert":"Empty","screenData":{"keyboard":false},"modalData":{"seed":"Pepper","seed_phrase":"**","identicon":"**"},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoForward on NewSeed screen with non-empty seed name. Expected NewSeed screen with NewSeedBackup modal, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","false",&seed_phrase_pepper);
        let cut_real_json = cut_address_key(&cut_base58(&cut_identicon(&real_json)));
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Pepper","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"**","base58":"**","identicon":"**","has_pwd":false,"path":"//polkadot","swiped":false,"multiselect":false}],"network":{"title":"Polkadot","logo":"polkadot"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoForward on NewSeed screen with NewSeedBackup modal active. Expected Keys screen with no modals, got:\n{}", real_json);
        
        update_seed_names(r#"Alice,Pepper"#);
        
        do_action("NetworkSelector","","");
        let real_json = do_action("ChangeNetwork","0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","");
        let cut_real_json = cut_address_key(&cut_base58(&cut_identicon(&real_json)));
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Pepper","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"**","base58":"**","identicon":"**","has_pwd":false,"path":"//westend","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "Changed network to westend. Expected Keys screen with no modals, got:\n{}", real_json);
        
        let caps = SET.captures(&real_json).unwrap();
        let pepper_westend_public = caps.name("public").unwrap().as_str().to_string();
        let pepper_westend_base58 = caps.name("base").unwrap().as_str().to_string();
        let pepper_westend_identicon = caps.name("identicon").unwrap().as_str().to_string();
        
        do_action("NavbarScan","","");
        let transaction_hex = transaction_hex.replace("8266a693d6872d2b6437215c198ee25cabf2e4256df9ad00e979e84b00b5235e", &pepper_westend_public);
        let real_json = do_action("TransactionFetched",&transaction_hex,"");
        let expected_json_transaction_sign = expected_json_transaction_sign.replace("5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK", &pepper_westend_base58).replace("89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082", &pepper_westend_identicon).replace("//Alice/secret//secret", "//westend").replace("Alice", "Pepper");
        assert!(real_json == expected_json_transaction_sign, "TransactionFetched on Scan screen containing transaction. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","Pepper also sends some cash",&seed_phrase_pepper);
        let (cut_real_json, signature_hex) = process_signature(&real_json);
        let expected_json_transaction_ready = expected_json_transaction_ready.replace("5F1gaMEdLTzoYFV6hYqX9AnZYg4bknuYE5HcVXmnKi1eSCXK", &pepper_westend_base58).replace("89504e470d0a1a0a0000000d49484452000000410000004108060000008ef7c9450000034e49444154789cedd8ad6e1b4114c5f1e61142f30c210585958943fb002d292f33292a2a2a312b2f691fa03426566141499e21d48fe0ce9175d3d9edec9c73e763e524fb07d76046b2ee4f5a69ed8be3f1f8e2b9370bc2e17028fe92cbcbcb8bf0d1b52e08354bb37aa03445e8b9fcb896184d104a96df6f7e84396cb57d1ba6af1618550825cba314805502816a308a117a0058734314219402a09e08a804c28550b3bcd51bc1f260c8082d00d05c08488590103c009bfda730876d579fc33ce545787d7d13e6b05f77b7616a291014a116c052211880d512a219420ec062102a80a5425421a800c88bc06a8980721093081e0074ee08680a2289e005408f0101a5206404f60c7b11ee77bb30875dadd7619ef222ac6faec31cb6bbbd0b739884a002582a0403b054080660291014210760310815c062102a803586c8228c01901781e545609520a0186241083d20a400d053454006d11c21b564bc54ea7c5c7cffe6fa5598c36eef7e87796a16049483600056bc987a2f0560a9105300c8858052102a80152f98ba1f9fe7002c06910340030406a0945a6a5cbc24cb8b501a20168405c189c0dedcbc08df36fb3087bddfaec23ce54578f7e64b98c3befffc18663e19210560a9100cc052211880c52024841c80c52054008b41a800560ea20b02cb8bc05a10420b42e82c11d833ec45d87cfdfffef6c3bff35910500e8201582a0403b054881c009211500a4205b018840a60310806805c082c2f02cb8b50da82105a10420f088841b0dfeb5e84d492f152a9f371f1fddd9ffb3087ad5f5e85391d00c2c7e9ff0494434801582a0403b0e2c5d47b29002b072123e4002c06a10258f182a9fbf1790ec09a82e886c04a2d352e5e92d51401a5209e2a8201a0052134404063082f027b73f322ac126faafbe84db5042106401401e5201880a54230004b851803208a80540815c062102a80c52014002423b0bc082c2f829a8c80bc108f0121058026119007e2dc11a600501601a9105e04f60cb744c801a066082807c1002c15420540d508a8164205b018444b002421200f442e2f424d0a009211500b88b9105400e442b06a307a237896b78a105029444f841200548c807a40cc0d80aa10ac128c14440940cdf2561304ab04a3b416cb5b4d11ac9e182d97b7ba208cab41e9b1f4b85910cebdbfb988bfac26b511680000000049454e44ae426082", &pepper_westend_identicon).replace("//Alice/secret//secret", "//westend").replace("Alice", "Pepper");
        assert!(cut_real_json == expected_json_transaction_ready, "GoForward on parsed transaction. Expected modal SignatureReady, got:\n{}", real_json);
        
        assert!(signature_is_good(&transaction_hex, &signature_hex), "Produced bad signature: \n{}", signature_hex);
        
        do_action("GoBack","","");
        do_action("RightButton","","");
        do_action("ClearLog","","");
        do_action("NavbarKeys","","");
        do_action("SelectSeed","Pepper","");
        do_action("NetworkSelector","","");
        do_action("ChangeNetwork","0180e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e","");
        do_action("Swipe",&format!("01{}",pepper_westend_public),"");
        do_action("RemoveKey","","");
        
        let real_json = do_action("NewKey","","");
        let expected_json = r#"{"screen":"DeriveKey","screenLabel":"Derive Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"Empty","alert":"Empty","screenData":{"seed_name":"Pepper","network_title":"Westend","network_logo":"westend","suggested_derivation":"","keyboard":true},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "NewKey on Keys screen. Expected DeriveKey screen, got:\n{}", real_json);
        
        let real_json = do_action("CheckPassword","//0///secret","");
        let expected_json = r#"{"screen":"DeriveKey","screenLabel":"Derive Key","back":true,"footer":false,"footerButton":"Keys","rightButton":"None","screenNameType":"h1","modal":"PasswordConfirm","alert":"Empty","screenData":{"seed_name":"Pepper","network_title":"Westend","network_logo":"westend","suggested_derivation":"//0///secret","keyboard":false},"modalData":{"seed_name":"Pepper","cropped_path":"//0","pwd":"secret"},"alertData":{}}"#;
        assert!(real_json == expected_json, "CheckPassword on DeriveKey screen with password (path validity and password existence is checked elsewhere). Expected updated DeriveKey screen with PasswordConfirm modal, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","//0///secret",&seed_phrase_pepper);
        let cut_real_json = cut_address_key(&cut_base58(&cut_identicon(&real_json)));
        let expected_json = r#"{"screen":"Keys","screenLabel":"","back":true,"footer":true,"footerButton":"Keys","rightButton":"Backup","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"root":{"seed_name":"Pepper","identicon":"","address_key":"","base58":"","swiped":false,"multiselect":false},"set":[{"address_key":"**","base58":"**","identicon":"**","has_pwd":true,"path":"//0","swiped":false,"multiselect":false}],"network":{"title":"Westend","logo":"westend"},"multiselect_mode":false,"multiselect_count":""},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "GoForward on DeriveKey screen with PasswordConfirm modal. Expected updated Keys screen, got:\n{}", real_json);
        
        let caps = KEY0.captures(&real_json).unwrap();
        let pepper_key0_public = caps.name("public").unwrap().as_str().to_string();
        let pepper_key0_base58 = caps.name("base").unwrap().as_str().to_string();
        let pepper_key0_identicon = caps.name("identicon").unwrap().as_str().to_string();
        
        do_action("NavbarScan","","");
        let message_hex = message_hex.replace("3efeca331d646d8a2986374bb3bb8d6e9e3cfcdd7c45c2b69104fab5d61d3f34", &pepper_key0_public);
        let real_json = do_action("TransactionFetched",&message_hex,"");
        let expected_json = format!("{{\"screen\":\"Transaction\",\"screenLabel\":\"\",\"back\":true,\"footer\":false,\"footerButton\":\"Scan\",\"rightButton\":\"None\",\"screenNameType\":\"h1\",\"modal\":\"Empty\",\"alert\":\"Empty\",\"screenData\":{{\"content\":{{\"message\":[{{\"index\":0,\"indent\":0,\"type\":\"text\",\"payload\":\"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e\"}}]}},\"author_info\":{{\"base58\":\"{}\",\"identicon\":\"{}\",\"seed\":\"Pepper\",\"derivation_path\":\"//0\",\"has_pwd\":true}},\"network_info\":{{\"network_title\":\"Westend\",\"network_logo\":\"westend\"}},\"type\":\"sign\"}},\"modalData\":{{}},\"alertData\":{{}}}}", pepper_key0_base58, pepper_key0_identicon);
        assert!(real_json == expected_json, "TransactionFetched on Scan screen containing message transaction. Expected Transaction screen with no modals, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","Pepper tries sending text from passworded account",&seed_phrase_pepper);
        let expected_json = format!("{{\"screen\":\"Transaction\",\"screenLabel\":\"\",\"back\":true,\"footer\":false,\"footerButton\":\"Scan\",\"rightButton\":\"None\",\"screenNameType\":\"h1\",\"modal\":\"EnterPassword\",\"alert\":\"Empty\",\"screenData\":{{\"content\":{{\"message\":[{{\"index\":0,\"indent\":0,\"type\":\"text\",\"payload\":\"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e\"}}]}},\"author_info\":{{\"base58\":\"{}\",\"identicon\":\"{}\",\"seed\":\"Pepper\",\"derivation_path\":\"//0\",\"has_pwd\":true}},\"network_info\":{{\"network_title\":\"Westend\",\"network_logo\":\"westend\"}},\"type\":\"sign\"}},\"modalData\":{{\"author_info\":{{\"base58\":\"{}\",\"identicon\":\"{}\",\"seed\":\"Pepper\",\"derivation_path\":\"//0\",\"has_pwd\":true}},\"counter\":1}},\"alertData\":{{}}}}", pepper_key0_base58, pepper_key0_identicon, pepper_key0_base58, pepper_key0_identicon);
        assert!(real_json == expected_json, "GoForward on Transaction screen for passworded address. Expected Transaction screen with EnterPassword modal, got:\n{}", real_json);
        
        let real_json = do_action("GoForward","wrong_one","");
        let expected_json = format!("{{\"screen\":\"Transaction\",\"screenLabel\":\"\",\"back\":true,\"footer\":false,\"footerButton\":\"Scan\",\"rightButton\":\"None\",\"screenNameType\":\"h1\",\"modal\":\"EnterPassword\",\"alert\":\"Error\",\"screenData\":{{\"content\":{{\"message\":[{{\"index\":0,\"indent\":0,\"type\":\"text\",\"payload\":\"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e\"}}]}},\"author_info\":{{\"base58\":\"{}\",\"identicon\":\"{}\",\"seed\":\"Pepper\",\"derivation_path\":\"//0\",\"has_pwd\":true}},\"network_info\":{{\"network_title\":\"Westend\",\"network_logo\":\"westend\"}},\"type\":\"sign\"}},\"modalData\":{{\"author_info\":{{\"base58\":\"{}\",\"identicon\":\"{}\",\"seed\":\"Pepper\",\"derivation_path\":\"//0\",\"has_pwd\":true}},\"counter\":2}},\"alertData\":{{\"error\":\"Wrong password.\"}}}}", pepper_key0_base58, pepper_key0_identicon, pepper_key0_base58, pepper_key0_identicon);
        assert!(real_json == expected_json, "GoForward on Transaction screen for passworded address with wrong password. Expected Transaction screen with EnterPassword modal with counter at 2, got:\n{}", real_json);
        
        do_action("GoBack","","");
        let real_json = do_action("GoForward","wrong_two","");
        let expected_json = format!("{{\"screen\":\"Transaction\",\"screenLabel\":\"\",\"back\":true,\"footer\":false,\"footerButton\":\"Scan\",\"rightButton\":\"None\",\"screenNameType\":\"h1\",\"modal\":\"EnterPassword\",\"alert\":\"Error\",\"screenData\":{{\"content\":{{\"message\":[{{\"index\":0,\"indent\":0,\"type\":\"text\",\"payload\":\"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e\"}}]}},\"author_info\":{{\"base58\":\"{}\",\"identicon\":\"{}\",\"seed\":\"Pepper\",\"derivation_path\":\"//0\",\"has_pwd\":true}},\"network_info\":{{\"network_title\":\"Westend\",\"network_logo\":\"westend\"}},\"type\":\"sign\"}},\"modalData\":{{\"author_info\":{{\"base58\":\"{}\",\"identicon\":\"{}\",\"seed\":\"Pepper\",\"derivation_path\":\"//0\",\"has_pwd\":true}},\"counter\":3}},\"alertData\":{{\"error\":\"Wrong password.\"}}}}", pepper_key0_base58, pepper_key0_identicon, pepper_key0_base58, pepper_key0_identicon);
        assert!(real_json == expected_json, "GoForward on Transaction screen for passworded address with second wrong password. Expected Transaction screen with EnterPassword modal with counter at 3, got:\n{}", real_json);
        
        do_action("GoBack","","");
        let real_json = do_action("GoForward","wrong_three","");
        let cut_real_json = cut_public_key(&cut_base58(&cut_identicon(&timeless(&real_json))));
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Error","screenData":{"log":[{"order":5,"timestamp":"**","events":[{"event":"message_sign_error","payload":{"message":"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e","network_name":"westend","signed_by":{"public_key":"**","identicon":"**","encryption":"sr25519"},"user_comment":"Pepper tries sending text from passworded account","error":"wrong_password_entered"}}]},{"order":4,"timestamp":"**","events":[{"event":"message_sign_error","payload":{"message":"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e","network_name":"westend","signed_by":{"public_key":"**","identicon":"**","encryption":"sr25519"},"user_comment":"Pepper tries sending text from passworded account","error":"wrong_password_entered"}}]},{"order":3,"timestamp":"**","events":[{"event":"message_sign_error","payload":{"message":"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e","network_name":"westend","signed_by":{"public_key":"**","identicon":"**","encryption":"sr25519"},"user_comment":"Pepper tries sending text from passworded account","error":"wrong_password_entered"}}]},{"order":2,"timestamp":"**","events":[{"event":"identity_added","payload":{"seed_name":"Pepper","encryption":"sr25519","public_key":"**","path":"//0","network_genesis_hash":"e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"}}]},{"order":1,"timestamp":"**","events":[{"event":"identity_removed","payload":{"seed_name":"Pepper","encryption":"sr25519","public_key":"**","path":"//westend","network_genesis_hash":"e143f23803ac50e8f6f8e62695d1ce9e4e1d68aa36c1cd2cfd15340213f3423e"}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":6},"modalData":{},"alertData":{"error":"Wrong password."}}"#;
        assert!(cut_real_json == expected_json, "GoForward on Transaction screen for passworded address with third wrong password. Expected Log screen, got:\n{}", cut_real_json);
        
        do_action("RightButton","","");
        do_action("ClearLog","","");
        
        do_action("NavbarScan","","");
        do_action("TransactionFetched",&message_hex,"");
        do_action("GoForward","Pepper tries better",&seed_phrase_pepper);
        let real_json = do_action("GoForward","secret","");
        let (cut_real_json, signature_hex) = process_signature(&real_json);
        let expected_json = format!("{{\"screen\":\"Transaction\",\"screenLabel\":\"\",\"back\":true,\"footer\":false,\"footerButton\":\"Scan\",\"rightButton\":\"None\",\"screenNameType\":\"h1\",\"modal\":\"SignatureReady\",\"alert\":\"Empty\",\"screenData\":{{\"content\":{{\"message\":[{{\"index\":0,\"indent\":0,\"type\":\"text\",\"payload\":\"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e\"}}]}},\"author_info\":{{\"base58\":\"{}\",\"identicon\":\"{}\",\"seed\":\"Pepper\",\"derivation_path\":\"//0\",\"has_pwd\":true}},\"network_info\":{{\"network_title\":\"Westend\",\"network_logo\":\"westend\"}},\"type\":\"done\"}},\"modalData\":{{\"signature\":\"**\"}},\"alertData\":{{}}}}", pepper_key0_base58, pepper_key0_identicon);
        assert!(cut_real_json == expected_json, "GoForward on Transaction screen for passworded address with correct password. Expected Transaction screen with SignatureReady modal, got:\n{}", real_json);
        
        assert!(signature_is_good(&message_hex, &signature_hex), "Produced bad signature: \n{}", signature_hex);
        
        do_action("GoBack","","");
        
        {
            let _database = db_handling::helpers::open_db::<Signer>(dbname).unwrap(); // database got unavailable for some reason
            
            let real_json = do_action("NavbarKeys","","");
            let expected_json = r#"{"screen":"SeedSelector","screenLabel":"Select seed","back":false,"footer":true,"footerButton":"Keys","rightButton":"NewSeed","screenNameType":"h1","modal":"Empty","alert":"ErrorDisplay","screenData":{"seedNameCards":[]},"modalData":{},"alertData":{"error":"Database error. Internal error. IO error: could not acquire lock on "for_tests/flow_test_1/db": Os {**}"}}"#;
            let cut_real_json = cut_os_msg(&real_json);
            assert!(cut_real_json == expected_json, "Tried to switch from Log to Keys with unavailable database. Expected empty SeedSelector with ErrorDisplay alert, got:\n{}", real_json);
            
            let real_json = do_action("GoBack","","");
            let expected_json = r#"{"screen":"Settings","screenLabel":"","back":false,"footer":true,"footerButton":"Settings","rightButton":"None","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"error":"Database error. Internal error. IO error: could not acquire lock on "for_tests/flow_test_1/db": Os {**}"},"modalData":{},"alertData":{}}"#;
            let cut_real_json = cut_os_msg(&real_json);
            assert!(cut_real_json == expected_json, "GoBack on SeedSelector with ErrorDisplay alert. Expected Settings screen with error displayed in screen details, got:\n{}", real_json);
            
        }
        
        // Aaand, we are back
        let real_json = do_action("NavbarSettings","","");
        assert!(real_json == current_settings_json, "Reload Settings. Expected known Settings screen with no errors, got:\n{}", real_json);
        
        let real_json = do_action("NavbarLog","","");
        let cut_real_json = cut_public_key(&cut_base58(&cut_identicon(&timeless(&real_json))));
        let expected_json = r#"{"screen":"Log","screenLabel":"","back":false,"footer":true,"footerButton":"Log","rightButton":"LogRight","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"log":[{"order":1,"timestamp":"**","events":[{"event":"message_signed","payload":{"message":"4c6f72656d20697073756d20646f6c6f722073697420616d65742c20636f6e73656374657475722061646970697363696e6720656c69742c2073656420646f20656975736d6f642074656d706f7220696e6369646964756e74207574206c61626f726520657420646f6c6f7265206d61676e6120616c697175612e20557420656e696d206164206d696e696d2076656e69616d2c2071756973206e6f737472756420657865726369746174696f6e20756c6c616d636f206c61626f726973206e69736920757420616c697175697020657820656120636f6d6d6f646f20636f6e7365717561742e2044756973206175746520697275726520646f6c6f7220696e20726570726568656e646572697420696e20766f6c7570746174652076656c697420657373652063696c6c756d20646f6c6f726520657520667567696174206e756c6c612070617269617475722e204578636570746575722073696e74206f6363616563617420637570696461746174206e6f6e2070726f6964656e742c2073756e7420696e2063756c706120717569206f666669636961206465736572756e74206d6f6c6c697420616e696d20696420657374206c61626f72756d2e","network_name":"westend","signed_by":{"public_key":"**","identicon":"**","encryption":"sr25519"},"user_comment":"Pepper tries better"}}]},{"order":0,"timestamp":"**","events":[{"event":"history_cleared"}]}],"total_entries":2},"modalData":{},"alertData":{}}"#;
        assert!(cut_real_json == expected_json, "Switched to Log from Settings. Expected Log screen, got:\n{}", real_json);
        
        // What if the database is not initiated properly? This should have been a separate test, but mutex.
        populate_cold_nav_test(dbname).unwrap(); // no init after population
        let real_json = do_action("NavbarSettings","","");
        let expected_json = r#"{"screen":"Settings","screenLabel":"","back":false,"footer":true,"footerButton":"Settings","rightButton":"None","screenNameType":"h4","modal":"Empty","alert":"Empty","screenData":{"error":"Could not find general verifier."},"modalData":{},"alertData":{}}"#;
        assert!(real_json == expected_json, "Switched to Settings from Log with non-initiated database. Expected Settings screen with error on screen, and no alerts (we should still allow to reset Signer), got:\n{}", real_json);
        
        std::fs::remove_dir_all(dbname).unwrap();
    }
    
}
