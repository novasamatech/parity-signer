<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Creating, collecting, and removing addresses in cold database"><title>db_handling::identities - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="db_handling" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0 (79e9716c9 2023-11-13)" data-channel="1.74.0" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../db_handling/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../db_handling/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module identities</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">db_handling</a>::<wbr><a class="mod" href="#">identities</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/db_handling/identities.rs.html#1-1799">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Creating, collecting, and removing addresses in cold database</p>
<p>In Vault and Vault-related ecosystem the address is a key pair within a
certain network. Vault Rust database stores only <strong>non-secret</strong> data
associated with each address generated by user.</p>
<p>Required data to generate address:</p>
<ul>
<li>seed phrase (secret words set, must be always zeroized after use and is
never stored in Rust database)</li>
<li>derivation path (<code>/soft//hard///password</code>); password part, i.e. whatever
follows <code>///</code> is not stored in Rust database and must be zeroized after use</li>
<li><a href="../../definitions/keyring/struct.NetworkSpecsKey.html" title="struct definitions::keyring::NetworkSpecsKey"><code>NetworkSpecsKey</code></a></li>
</ul>
<p>The combination of seed phrase and derivation path allows to generate key
pair using the encryption algorithm supported by the network, for which the
address is generated.</p>
<p>Vault stores only the public key, it is used together with encryption
algorithm <a href="../../definitions/crypto/enum.Encryption.html" title="enum definitions::crypto::Encryption"><code>Encryption</code></a> to generate
<a href="../../definitions/keyring/struct.AddressKey.html" title="struct definitions::keyring::AddressKey"><code>AddressKey</code></a>.</p>
<p>Same <code>AddressKey</code> could correspond to more than one network if the addresses
were produced for same seed phrase and derivation path, and networks use
same encryption algorithm. The networks specs keys of associated networks
are stored in <code>network_id</code> field of <code>AddressDetails</code>.</p>
<p>Vault interface shows those addresses as separate entities.</p>
<p>Non-secret data associated with <code>AddressKey</code> is stored in
<a href="../../constants/constant.ADDRTREE.html" title="constant constants::ADDRTREE"><code>ADDRTREE</code></a> tree of the cold database as SCALE-encoded
<a href="../../definitions/users/struct.AddressDetails.html" title="struct definitions::users::AddressDetails"><code>AddressDetails</code></a>.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AddrInfo.html" title="struct db_handling::identities::AddrInfo">AddrInfo</a></div></li><li><div class="item-name"><a class="struct" href="struct.DynamicDerivationTransaction.html" title="struct db_handling::identities::DynamicDerivationTransaction">DynamicDerivationTransaction</a></div></li><li><div class="item-name"><a class="struct" href="struct.ExportAddrsV1.html" title="struct db_handling::identities::ExportAddrsV1">ExportAddrsV1</a></div></li><li><div class="item-name"><a class="struct" href="struct.ExportAddrsV2.html" title="struct db_handling::identities::ExportAddrsV2">ExportAddrsV2</a></div></li><li><div class="item-name"><a class="struct" href="struct.SeedInfo.html" title="struct db_handling::identities::SeedInfo">SeedInfo</a></div></li><li><div class="item-name"><a class="struct" href="struct.SignaturesBulkV1.html" title="struct db_handling::identities::SignaturesBulkV1">SignaturesBulkV1</a></div></li><li><div class="item-name"><a class="struct" href="struct.TransactionBulkV1.html" title="struct db_handling::identities::TransactionBulkV1">TransactionBulkV1</a></div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.DerivationCheck.html" title="enum db_handling::identities::DerivationCheck">DerivationCheck</a></div><div class="desc docblock-short">Proposed derivation status.</div></li><li><div class="item-name"><a class="enum" href="enum.ExportAddrs.html" title="enum db_handling::identities::ExportAddrs">ExportAddrs</a></div></li><li><div class="item-name"><a class="enum" href="enum.SignaturesBulk.html" title="enum db_handling::identities::SignaturesBulk">SignaturesBulk</a></div></li><li><div class="item-name"><a class="enum" href="enum.TransactionBulk.html" title="enum db_handling::identities::TransactionBulk">TransactionBulk</a></div></li><li><div class="item-name"><a class="enum" href="enum.VaultFeatures.html" title="enum db_handling::identities::VaultFeatures">VaultFeatures</a></div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.check_derivation_set.html" title="fn db_handling::identities::check_derivation_set">check_derivation_set</a></div><div class="desc docblock-short">Check derivations before offering user to import them.</div></li><li><div class="item-name"><a class="fn" href="fn.create_increment_set.html" title="fn db_handling::identities::create_increment_set">create_increment_set</a></div><div class="desc docblock-short">Add a set of new derived addresses: N+1, N+2, etc into Vault database.</div></li><li><div class="item-name"><a class="fn" href="fn.create_key_set.html" title="fn db_handling::identities::create_key_set">create_key_set</a></div><div class="desc docblock-short">Creates seed into Vault: add default addresses for <code>derive_for_networks</code> in the Vault</div></li><li><div class="item-name"><a class="fn" href="fn.cut_path.html" title="fn db_handling::identities::cut_path">cut_path</a></div><div class="desc docblock-short">Separate derivation path with password into non-secret part and password.</div></li><li><div class="item-name"><a class="fn" href="fn.derivation_check.html" title="fn db_handling::identities::derivation_check">derivation_check</a></div><div class="desc docblock-short">Preliminary checks if the user-proposed derivation could be used to create
the address.</div></li><li><div class="item-name"><a class="fn" href="fn.derive_single_key.html" title="fn db_handling::identities::derive_single_key">derive_single_key</a></div><div class="desc docblock-short">Helper function to get public key from seed phrase and derivation path</div></li><li><div class="item-name"><a class="fn" href="fn.dynamic_derivations_response.html" title="fn db_handling::identities::dynamic_derivations_response">dynamic_derivations_response</a></div><div class="desc docblock-short">Prepare <code>DynamicDerivationsAddressResponse</code> for the given request</div></li><li><div class="item-name"><a class="fn" href="fn.export_key_set_addrs.html" title="fn db_handling::identities::export_key_set_addrs">export_key_set_addrs</a></div><div class="desc docblock-short">Export info about keys and their addresses known to Vault</div></li><li><div class="item-name"><a class="fn" href="fn.export_secret_key.html" title="fn db_handling::identities::export_secret_key">export_secret_key</a></div><div class="desc docblock-short">Prepare <strong>secret</strong> key export screen struct <a href="../../definitions/navigation/struct.MKeyDetails.html" title="struct definitions::navigation::MKeyDetails"><code>MKeyDetails</code></a>.</div></li><li><div class="item-name"><a class="fn" href="fn.generate_random_phrase.html" title="fn db_handling::identities::generate_random_phrase">generate_random_phrase</a></div><div class="desc docblock-short">Generate random phrase with given number of words.</div></li><li><div class="item-name"><a class="fn" href="fn.generate_test_identities.html" title="fn db_handling::identities::generate_test_identities">generate_test_identities</a></div><div class="desc docblock-short">Generate test Alice addresses in test cold database.</div></li><li><div class="item-name"><a class="fn" href="fn.get_addresses_by_seed_name.html" title="fn db_handling::identities::get_addresses_by_seed_name">get_addresses_by_seed_name</a></div><div class="desc docblock-short">Get all existing addresses for a given seed name from the database.</div></li><li><div class="item-name"><a class="fn" href="fn.get_all_addresses.html" title="fn db_handling::identities::get_all_addresses">get_all_addresses</a></div><div class="desc docblock-short">Get all existing addresses from the database.</div></li><li><div class="item-name"><a class="fn" href="fn.get_multisigner_by_address.html" title="fn db_handling::identities::get_multisigner_by_address">get_multisigner_by_address</a></div></li><li><div class="item-name"><a class="fn" href="fn.import_all_addrs.html" title="fn db_handling::identities::import_all_addrs">import_all_addrs</a></div></li><li><div class="item-name"><a class="fn" href="fn.inject_derivations_has_pwd.html" title="fn db_handling::identities::inject_derivations_has_pwd">inject_derivations_has_pwd</a></div></li><li><div class="item-name"><a class="fn" href="fn.is_passworded.html" title="fn db_handling::identities::is_passworded">is_passworded</a></div><div class="desc docblock-short">Check derivation format and determine if it has a password.</div></li><li><div class="item-name"><a class="fn" href="fn.process_dynamic_derivations_v1.html" title="fn db_handling::identities::process_dynamic_derivations_v1">process_dynamic_derivations_v1</a></div></li><li><div class="item-name"><a class="fn" href="fn.remove_key.html" title="fn db_handling::identities::remove_key">remove_key</a></div><div class="desc docblock-short">Remove address from the Vault database.</div></li><li><div class="item-name"><a class="fn" href="fn.remove_keys_set.html" title="fn db_handling::identities::remove_keys_set">remove_keys_set</a></div><div class="desc docblock-short">Remove a set of addresses within a single network from the Vault database.</div></li><li><div class="item-name"><a class="fn" href="fn.remove_seed.html" title="fn db_handling::identities::remove_seed">remove_seed</a></div><div class="desc docblock-short">Remove all addresses associated with given seed name from the Vault
database.</div></li><li><div class="item-name"><a class="fn" href="fn.try_create_address.html" title="fn db_handling::identities::try_create_address">try_create_address</a></div><div class="desc docblock-short">Create a new address in the Vault database.</div></li><li><div class="item-name"><a class="fn" href="fn.try_create_seed.html" title="fn db_handling::identities::try_create_seed">try_create_seed</a></div><div class="desc docblock-short">Accept seed into Vault: add default addresses for a seed in the Vault
database.</div></li><li><div class="item-name"><a class="fn" href="fn.validate_key_password.html" title="fn db_handling::identities::validate_key_password">validate_key_password</a></div></li></ul></section></div></main></body></html>